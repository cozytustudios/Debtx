<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Debtx | Digital Khata for Bangladeshi Shopkeepers</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="themes.css" />
    <link rel="manifest" href="manifest.json" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+Bengali:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        // Apply theme early to prevent flash of unstyled content
        (function() {
            try {
                const stored = localStorage.getItem('debtx-data-v1');
                if (stored) {
                    const data = JSON.parse(stored);
                    const theme = data?.ui?.theme || 'cozy-ledger';
                    const validThemes = [
                        'light', 'dark', 'ocean', 'rose',
                        'cozy-ledger', 'clean-business', 'night-shop', 
                        'zen-finance', 'street-ledger', 'classic-paper'
                    ];
                    if (validThemes.includes(theme)) {
                        document.documentElement.setAttribute('data-theme', theme);
                    } else {
                        document.documentElement.setAttribute('data-theme', 'cozy-ledger');
                    }
                }
            } catch (e) {
                // Fallback to cozy-ledger theme
                document.documentElement.setAttribute('data-theme', 'cozy-ledger');
            }
        })();
    </script>
</head>
<body>
    <div class="auth-overlay" id="auth-overlay" hidden style="display: none;">
        <div class="auth-card">
            <header class="auth-card__header">
                <div>
                    <p class="auth-app-name">Debt<span class="logo-x">x</span></p>
                    <h1 data-i18n="auth.title">Secure your shop records</h1>
                    <p class="auth-subtitle" data-i18n="auth.subtitle">Set a password to unlock every visit. Add a passcode for quick unlock.</p>
                </div>
                <button class="secondary-btn auth-close" id="auth-close-btn" aria-label="Close">‚úï</button>
            </header>
            <div class="auth-toggle" role="tablist">
                <button class="auth-tab active" data-mode="login" aria-selected="true" data-i18n="auth.loginTab">Login</button>
                <button class="auth-tab" data-mode="setup" aria-selected="false" data-i18n="auth.setupTab">Create account</button>
            </div>

            <div class="auth-forms">
                <form class="auth-form" id="auth-login-form" data-mode="login">
                    <label>
                        <span data-i18n="auth.passwordLabel">Password</span>
                        <span class="input-row">
                            <input type="password" name="password" autocomplete="current-password" required />
                            <button type="button" class="icon-btn" data-action="toggle-password" aria-label="Show password">üëÅ</button>
                        </span>
                    </label>
                    <label>
                        <span data-i18n="auth.passcodeLabel">Passcode (optional)</span>
                        <span class="input-row">
                            <input type="password" name="passcode" inputmode="numeric" pattern="\d{4,8}" placeholder="1234" />
                            <button type="button" class="icon-btn" data-action="toggle-passcode" aria-label="Show passcode">üëÅ</button>
                        </span>
                    </label>
                    <p class="auth-hint" data-i18n="auth.loginHint">Enter your password (or passcode if you set one) to unlock Debtx.</p>
                    <button type="submit" class="primary-btn" data-i18n="auth.unlock">Unlock</button>
                </form>

                <form class="auth-form hidden" id="auth-setup-form" data-mode="setup">
                    <label>
                        <span data-i18n="auth.nameLabel">Full name</span>
                        <input type="text" name="name" autocomplete="name" placeholder="Your name" />
                    </label>
                    <label>
                        <span data-i18n="auth.emailLabel">Email</span>
                        <input type="email" name="email" autocomplete="email" placeholder="you@example.com" />
                    </label>
                    
                    <div class="profile-upload-area">
                        <label class="profile-upload-btn" id="profile-upload-label">
                            <div class="profile-upload-preview" id="profile-upload-preview">
                                <span class="profile-upload-icon">üì∑</span>
                                <span data-i18n="auth.tapToUpload">Tap to add photo</span>
                            </div>
                            <input type="file" name="profilePicture" accept="image/*" hidden />
                        </label>
                    </div>
                    
                    <details class="auth-advanced">
                        <summary data-i18n="auth.advancedSecurity">üîí Add password protection (optional)</summary>
                        <div class="auth-advanced-content">
                            <label>
                                <span data-i18n="auth.passwordCreateLabel">Create password</span>
                                <span class="input-row">
                                    <input type="password" name="password" autocomplete="new-password" minlength="6" placeholder="Min 6 characters" />
                                    <button type="button" class="icon-btn" data-action="toggle-new-password" aria-label="Show password">üëÅ</button>
                                </span>
                            </label>
                            <label>
                                <span data-i18n="auth.passcodeOptional">4-8 digit passcode (optional)</span>
                                <input type="text" name="passcode" inputmode="numeric" pattern="\d{4,8}" placeholder="1234" />
                            </label>
                            <p class="auth-hint" data-i18n="auth.setupHint">You will need this password each time you open Debtx.</p>
                        </div>
                    </details>
                    
                    <button type="submit" class="primary-btn" data-i18n="auth.getStarted">Get Started</button>
                </form>
            </div>

            <p class="auth-error" id="auth-error" role="alert"></p>
            
            <div class="auth-skip">
                <button type="button" class="ghost-btn" id="auth-skip-btn" data-i18n="auth.skip">Skip for now ‚Üí</button>
                <p class="auth-skip-hint" data-i18n="auth.skipHint">Use without password protection</p>
            </div>
        </div>
    </div>

    <div class="app" id="app">
        <header class="app-header">
            <div class="app-title">
                <span class="title-en">Debt<span class="logo-x">x</span></span>
                <span class="title-bn">‡¶°‡ßá‡¶¨‡¶ü<span class="logo-x">‡¶è‡¶ï‡ßç‡¶∏</span></span>
            </div>
        </header>

        <!-- Floating Dock - Icons with Text Labels -->
        <nav class="dock dock-animated" id="dock" aria-label="Main sections">
            <div class="dock-inner dock-glass">
                <button class="dock-item dock-item-animated active" data-target="customers" id="nav-customers" aria-label="Customers">
                    <span class="dock-icon-wrapper">
                        <svg class="dock-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </span>
                    <span class="dock-label">Debts</span>
                    <span class="dock-indicator"></span>
                </button>
                <button class="dock-item dock-item-animated" data-target="bills" id="nav-bills" aria-label="Bills & Invoices">
                    <span class="dock-icon-wrapper">
                        <svg class="dock-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                    </span>
                    <span class="dock-label">Bills</span>
                    <span class="dock-indicator"></span>
                </button>
                <button class="dock-item dock-item-animated" data-target="ai" id="nav-ai" aria-label="AI Tools">
                    <span class="dock-icon-wrapper">
                        <svg class="dock-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                            <path d="M2 17l10 5 10-5"></path>
                            <path d="M2 12l10 5 10-5"></path>
                        </svg>
                    </span>
                    <span class="dock-label">Tools</span>
                    <span class="dock-indicator"></span>
                </button>
                <button class="dock-item dock-item-animated" data-target="notes" id="nav-notes" aria-label="Notes & Tasks">
                    <span class="dock-icon-wrapper">
                        <svg class="dock-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                    </span>
                    <span class="dock-label">Notes</span>
                    <span class="dock-indicator"></span>
                </button>
                <button class="dock-item dock-item-animated" data-target="settings" id="nav-settings" aria-label="Settings">
                    <span class="dock-icon-wrapper">
                        <svg class="dock-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                        </svg>
                    </span>
                    <span class="dock-label">More</span>
                    <span class="dock-indicator"></span>
                </button>
            </div>
        </nav>

        <main class="app-main">
            <section class="panel active" id="panel-customers" aria-label="Customer debts">
                <div class="panel-header">
                    <div>
                        <h1 data-i18n="customers.title">Customers & Debts</h1>
                        <p class="panel-subtitle" data-i18n="customers.subtitle">Track dues, payments, and reminders</p>
                    </div>
                    <button class="primary-btn" id="add-customer-btn" data-i18n="customers.addCustomer">+ Add Customer</button>
                </div>

                <div class="search-bar">
                    <input type="search" id="customer-search" placeholder="Search by name or phone" data-i18n-placeholder="customers.searchPlaceholder" />
                </div>

                <div class="data-empty" id="customers-empty" hidden style="display: none !important;">
                    <!-- Hidden: No customers message removed per user request -->
                </div>

                <div class="cards" id="customer-list" aria-live="polite"></div>
            </section>

            <section class="panel" id="panel-bills" aria-label="Make Bills">
                <div class="panel-header">
                    <div>
                        <h1 data-i18n="bills.title">Billing & Invoicing</h1>
                        <p class="panel-subtitle" data-i18n="bills.subtitle">Create bills, invoices, and track payments</p>
                    </div>
                    <button class="primary-btn" id="new-bill-btn" data-i18n="bills.newBill">+ New Bill</button>
                </div>

                <div class="search-bar">
                    <input type="search" id="bill-search" placeholder="Search bills by customer, invoice number..." data-i18n-placeholder="bills.searchPlaceholder" />
                </div>

                <div class="bill-filters">
                    <button class="filter-btn active" data-filter="all" data-i18n="bills.filterAll">All</button>
                    <button class="filter-btn" data-filter="paid" data-i18n="bills.filterPaid">Paid</button>
                    <button class="filter-btn" data-filter="pending" data-i18n="bills.filterPending">Pending</button>
                    <button class="filter-btn" data-filter="overdue" data-i18n="bills.filterOverdue">Overdue</button>
                </div>

                <div class="data-empty" id="bills-empty" hidden>
                    <p data-i18n="bills.empty">No bills yet. Create your first bill.</p>
                </div>

                <div class="cards" id="bills-list" aria-live="polite"></div>
            </section>

            <section class="panel" id="panel-ai" aria-label="AI Tools">
                <div class="panel-header">
                    <div>
                        <h1 data-i18n="ai.title">AI Tools</h1>
                        <p class="panel-subtitle" data-i18n="ai.subtitle">Calculator, Card Generator & AI Chat</p>
                    </div>
                </div>

                <!-- AI Tools Tabs -->
                <div class="ai-tools-tabs">
                    <button class="ai-tab-btn active" data-ai-tab="cardgen" data-i18n="ai.cardGenerator">Card Generator</button>
                    <button class="ai-tab-btn" data-ai-tab="calculator" data-i18n="ai.calculator">Calculator</button>
                    <button class="ai-tab-btn" data-ai-tab="chat" data-i18n="ai.chat">AI Chat</button>
                </div>

                <!-- Debt Card Generator -->
                <div class="ai-tool-panel active" id="ai-cardgen-panel">
                    <div class="card-generator-container">
                        <div class="premium-header">
                            <div>
                                <h2 data-i18n="ai.debtCardTitle">Debt Card Generator</h2>
                                <p class="settings-muted" data-i18n="ai.debtCardHint">Create custom debt reminder cards for your customers</p>
                            </div>
                        </div>
                        
                        <form class="card-gen-form" id="debt-card-form">
                            <label>
                                <span data-i18n="ai.selectCustomer">Select Customer</span>
                                <select name="selectedCustomer" id="card-customer-select">
                                    <option value="">-- Select a customer --</option>
                                </select>
                            </label>
                            
                            <label>
                                <span data-i18n="ai.customerName">Customer Name (or enter manually)</span>
                                <input type="text" name="customerName" placeholder="Enter customer name" />
                            </label>
                            
                            <label>
                                <span data-i18n="ai.debtAmount">Debt Amount (‡ß≥)</span>
                                <input type="number" name="debtAmount" placeholder="1000" min="1" required />
                            </label>
                            
                            <label>
                                <span data-i18n="ai.selectLogo">Select Shop Logo</span>
                                <select name="selectedLogo" id="card-logo-select">
                                    <option value="">-- Select a logo (optional) --</option>
                                </select>
                            </label>
                            
                            <label>
                                <span data-i18n="ai.shopName">Shop Name</span>
                                <input type="text" name="shopName" placeholder="Your shop name" />
                            </label>
                            
                            <label>
                                <span data-i18n="ai.paymentMethod">Payment Method</span>
                                <select name="paymentMethod">
                                    <option value="bKash">bKash</option>
                                    <option value="Nagad">Nagad</option>
                                    <option value="Rocket">Rocket</option>
                                    <option value="Cash">Cash</option>
                                    <option value="Bank">Bank Transfer</option>
                                </select>
                            </label>
                            
                            <label>
                                <span data-i18n="ai.paymentNumber">Payment Number/Details</span>
                                <input type="text" name="paymentNumber" placeholder="01XXXXXXXXX" />
                            </label>
                            
                            <label>
                                <span data-i18n="ai.dueDate">Due Date</span>
                                <input type="date" name="dueDate" />
                            </label>
                            
                            <label>
                                <span data-i18n="ai.cardColor">Card Color</span>
                                <div class="color-picker">
                                    <input type="radio" name="cardColor" value="#ff6b6b" id="color1" checked />
                                    <label for="color1" class="color-option" style="background: #ff6b6b;"></label>
                                    
                                    <input type="radio" name="cardColor" value="#4ecdc4" id="color2" />
                                    <label for="color2" class="color-option" style="background: #4ecdc4;"></label>
                                    
                                    <input type="radio" name="cardColor" value="#45b7d1" id="color3" />
                                    <label for="color3" class="color-option" style="background: #45b7d1;"></label>
                                    
                                    <input type="radio" name="cardColor" value="#f9ca24" id="color4" />
                                    <label for="color4" class="color-option" style="background: #f9ca24;"></label>
                                    
                                    <input type="radio" name="cardColor" value="#6c5ce7" id="color5" />
                                    <label for="color5" class="color-option" style="background: #6c5ce7;"></label>
                                    
                                    <input type="radio" name="cardColor" value="#a29bfe" id="color6" />
                                    <label for="color6" class="color-option" style="background: #a29bfe;"></label>
                                </div>
                            </label>
                            
                            <label>
                                <span data-i18n="ai.customMessage">Custom Message (optional)</span>
                                <textarea name="customMessage" rows="2" placeholder="Please pay at your earliest convenience..."></textarea>
                            </label>
                            
                            <button type="submit" class="primary-btn" data-i18n="ai.generateCard">Generate Card</button>
                        </form>
                        
                        <div class="card-preview" id="debt-card-preview" hidden>
                            <h3 data-i18n="ai.preview">Preview</h3>
                            <div class="generated-debt-card" id="generated-card-content"></div>
                            <div class="card-actions">
                                <button class="secondary-btn" id="download-debt-card-btn" data-i18n="ai.downloadCard">üì• Download</button>
                                <button class="secondary-btn" id="share-debt-card-btn" data-i18n="ai.shareCard">üì§ Share</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calculator -->
                <div class="ai-tool-panel" id="ai-calculator-panel">
                    <div class="calculator-container">
                        <h2 data-i18n="calculator.title">Calculator</h2>
                        <p class="settings-muted" data-i18n="calculator.subtitle">Quick calculations for your shop</p>
                        
                        <div class="calculator-display">
                            <div class="calculator-expression" id="calc-expression"></div>
                            <div class="calculator-result" id="calc-result">0</div>
                        </div>
                        <div class="calculator-buttons">
                            <button class="calc-btn calc-btn-clear" data-action="clear">C</button>
                            <button class="calc-btn calc-btn-clear" data-action="clear-all">AC</button>
                            <button class="calc-btn calc-btn-operator" data-action="backspace">‚å´</button>
                            <button class="calc-btn calc-btn-operator" data-value="/">√∑</button>
                            <button class="calc-btn" data-value="7">7</button>
                            <button class="calc-btn" data-value="8">8</button>
                            <button class="calc-btn" data-value="9">9</button>
                            <button class="calc-btn calc-btn-operator" data-value="*">√ó</button>
                            <button class="calc-btn" data-value="4">4</button>
                            <button class="calc-btn" data-value="5">5</button>
                            <button class="calc-btn" data-value="6">6</button>
                            <button class="calc-btn calc-btn-operator" data-value="-">‚àí</button>
                            <button class="calc-btn" data-value="1">1</button>
                            <button class="calc-btn" data-value="2">2</button>
                            <button class="calc-btn" data-value="3">3</button>
                            <button class="calc-btn calc-btn-operator" data-value="+">+</button>
                            <button class="calc-btn calc-btn-zero" data-value="0">0</button>
                            <button class="calc-btn" data-value=".">.</button>
                            <button class="calc-btn calc-btn-equals" data-action="equals">=</button>
                        </div>
                    </div>
                </div>

                <!-- AI Chat -->
                <div class="ai-tool-panel" id="ai-chat-panel">
                    <div id="ai-subscription-message" class="subscription-required-message" hidden>
                        <p data-i18n="ai.subscriptionRequired">AI Assistant requires a subscription. Please subscribe to use this feature.</p>
                        <button class="primary-btn" onclick="window.open('https://www.facebook.com/profile.php?id=61560074175677', '_blank')" data-i18n="ai.goToSubscription">View Subscription Plans</button>
                    </div>

                    <div class="ai-chat-container" id="ai-chat-container">
                        <div class="ai-messages" id="ai-messages">
                            <div class="ai-message ai-message-assistant">
                                <div class="ai-avatar">ü§ñ</div>
                                <div class="ai-content">
                                    <p data-i18n="ai.welcome">Hello! I can help you manage your shop, track payments, generate reminder cards, and more. How can I help you today?</p>
                                </div>
                            </div>
                        </div>
                        <div class="ai-shortcuts" id="ai-shortcuts">
                            <button class="ai-shortcut-btn" data-suggestion="Find customer trust ratio">Find Customer Trust Ratio</button>
                            <button class="ai-shortcut-btn" data-suggestion="Show overdue payments">Show Overdue Payments</button>
                            <button class="ai-shortcut-btn" data-suggestion="Generate payment reminder card">Generate Payment Card</button>
                            <button class="ai-shortcut-btn" data-suggestion="Calculate total revenue this month">Monthly Revenue</button>
                            <button class="ai-shortcut-btn" data-suggestion="List all customers with outstanding balance">Outstanding Customers</button>
                        </div>
                        <div class="ai-input-container">
                            <input type="text" id="ai-input" class="ai-input" placeholder="Ask me anything..." data-i18n-placeholder="ai.placeholder" />
                            <button class="ai-send-btn" id="ai-send-btn" aria-label="Send">‚û§</button>
                        </div>
                    </div>
                </div>
            </section>

            <section class="panel" id="panel-notes" aria-label="Notes and Tasks">
                <div class="panel-header">
                    <div>
                        <h1 data-i18n="notesTasks.title">Notes & Tasks</h1>
                        <p class="panel-subtitle" data-i18n="notesTasks.subtitle">Keep notes and track your tasks</p>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="primary-btn" id="add-note-btn" data-i18n="notes.addNote">+ Todo</button>
                        <button class="primary-btn" id="add-task-btn" data-i18n="tasks.addTask">+ Task</button>
                    </div>
                </div>

                <div class="notes-tasks-tabs">
                    <button class="tab-btn active" data-tab="notes" data-i18n="notes.title">Todos</button>
                    <button class="tab-btn" data-tab="tasks" data-i18n="tasks.title">Tasks</button>
                </div>

                <div class="notes-section" id="notes-section">
                    <div class="note-controls-enhanced">
                        <div class="search-wrapper">
                            <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                            <input type="search" id="notes-search" placeholder="Search your notes..." data-i18n-placeholder="notes.searchPlaceholder" />
                        </div>
                        <div class="filter-buttons">
                            <button class="filter-btn active" data-filter="all" data-i18n="notes.filterAll">All</button>
                            <button class="filter-btn" data-filter="pinned" data-i18n="notes.filterPinned">‚≠ê Pinned</button>
                            <button class="filter-btn" data-filter="recent" data-i18n="notes.filterRecent">Recent</button>
                        </div>
                        <div class="color-filter-buttons">
                            <button class="color-filter-btn" data-color="yellow" title="Yellow notes" style="background: linear-gradient(180deg, #f8e99f, #f5d97b);"></button>
                            <button class="color-filter-btn" data-color="green" title="Green notes" style="background: linear-gradient(180deg, #c7f0c2, #a8e6a0);"></button>
                            <button class="color-filter-btn" data-color="blue" title="Blue notes" style="background: linear-gradient(180deg, #c7defa, #a3c9f5);"></button>
                            <button class="color-filter-btn" data-color="pink" title="Pink notes" style="background: linear-gradient(180deg, #f9c2d6, #f5a7c0);"></button>
                            <button class="color-filter-btn" data-color="gray" title="Gray notes" style="background: linear-gradient(180deg, #e0e6eb, #cbd5dc);"></button>
                        </div>
                    </div>

                    <div class="data-empty" id="notes-empty" hidden>
                        <div class="empty-state-icon">üìù</div>
                        <p data-i18n="notes.empty">No notes yet. Create your first note to get started.</p>
                    </div>

                    <div class="cards notes-grid" id="notes-list" aria-live="polite"></div>
                </div>

                <div class="tasks-section" id="tasks-section" hidden>
                    <div class="tasks-header-enhanced">
                        <div class="calendar-hint-enhanced">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            <p data-i18n="tasks.calendarHint">Tap a date to see upcoming payments and tasks</p>
                        </div>
                        <div class="task-stats">
                            <span class="task-stat-item" id="tasks-total">0 Total</span>
                            <span class="task-stat-item" id="tasks-completed">0 Done</span>
                            <span class="task-stat-item" id="tasks-pending">0 Pending</span>
                        </div>
                    </div>

                    <div class="calendar-enhanced" id="mini-calendar" aria-label="Calendar view"></div>

                    <div class="data-empty" id="tasks-empty" hidden>
                        <div class="empty-state-icon">‚úÖ</div>
                        <p data-i18n="tasks.empty">No tasks scheduled. Add your first task to get started.</p>
                    </div>

                    <div class="cards tasks-list-enhanced" id="tasks-list" aria-live="polite"></div>
                </div>
            </section>

            <section class="panel" id="panel-settings" aria-label="Settings">
                <header class="settings-header-minimal">
                    <div class="settings-app-name">
                        <span class="title-en">Debt<span class="logo-x">x</span></span>
                        <span class="title-bn">‡¶°‡ßá‡¶¨‡¶ü<span class="logo-x">‡¶è‡¶ï‡ßç‡¶∏</span></span>
                    </div>
                </header>

                <div class="settings-content">
                    <!-- Language Section -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <svg class="settings-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="2" y1="12" x2="22" y2="12"></line>
                                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                            </svg>
                            <h2 data-i18n="settings.languageTitle">Language</h2>
                        </div>
                        <p class="settings-muted" data-i18n="settings.languageHint">Choose your preferred language</p>
                        <div class="language-options">
                            <button type="button" class="language-option-btn" data-lang="en" data-i18n="language.english">English</button>
                            <button type="button" class="language-option-btn" data-lang="bn" data-i18n="language.bengali">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</button>
                        </div>
                    </div>

                    <!-- Text Size Section -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <svg class="settings-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 7V4h16v3"></path>
                                <path d="M9 20h6"></path>
                                <path d="M12 4v16"></path>
                            </svg>
                            <h2 data-i18n="settings.textSizeTitle">Text Size</h2>
                        </div>
                        <p class="settings-muted" data-i18n="settings.textSizeHint">Make text bigger or smaller</p>
                        <div class="text-size-options">
                            <button type="button" class="text-size-btn" data-size="1">A</button>
                            <button type="button" class="text-size-btn" data-size="2">A</button>
                            <button type="button" class="text-size-btn active" data-size="3">A</button>
                            <button type="button" class="text-size-btn" data-size="4">A</button>
                            <button type="button" class="text-size-btn" data-size="5">A</button>
                        </div>
                    </div>

                    <!-- Shop Profile Section -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <svg class="settings-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <h2 data-i18n="settings.shopProfileTitle">Shop Profile</h2>
                        </div>
                        <div class="shop-profile-section">
                            <div class="shop-profile-main">
                                <div class="shop-logo-upload">
                                    <div class="shop-logo-preview">
                                        <div class="profile-avatar" id="settings-shop-logo-preview">
                                            <span id="settings-shop-logo-placeholder">üè™</span>
                                        </div>
                                        <label class="upload-overlay-btn" for="settings-shop-logo-input">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                                <polyline points="17 8 12 3 7 8"></polyline>
                                                <line x1="12" y1="3" x2="12" y2="15"></line>
                                            </svg>
                                        </label>
                                        <input type="file" id="settings-shop-logo-input" accept="image/*" hidden>
                                    </div>
                                </div>
                                <div class="shop-profile-details">
                                    <div class="shop-name-label">
                                        <span data-i18n="settings.shopName">Shop Name</span>
                                        <input type="text" id="settings-shop-name-input" maxlength="80" placeholder="Your shop name">
                                    </div>
                                    <div class="shop-owner-label">
                                        <span data-i18n="settings.ownerName">Owner Name</span>
                                        <input type="text" id="settings-owner-name-input" maxlength="60" placeholder="Your name">
                                    </div>
                                </div>
                            </div>
                            <div class="shop-contact-section">
                                <div class="contact-label">
                                    <span data-i18n="settings.phoneNumber">Phone Number</span>
                                    <input type="tel" id="settings-phone-number" maxlength="15" placeholder="01XXXXXXXXX">
                                </div>
                                <div class="contact-label">
                                    <span data-i18n="settings.paymentNumber">Payment Number</span>
                                    <input type="tel" id="settings-payment-number" maxlength="15" placeholder="01XXXXXXXXX">
                                </div>
                            </div>
                            <div class="owner-photo-section">
                                <label>
                                    <span data-i18n="settings.myPhoto">My Photo</span>
                                    <div class="photo-upload-area">
                                        <div class="photo-preview" id="settings-my-photo-preview">
                                            <div class="photo-placeholder" data-i18n="settings.tapToUploadPhoto">Tap to upload</div>
                                            <img id="settings-my-photo-img" hidden>
                                        </div>
                                        <input type="file" id="settings-my-photo-input" accept="image/*" hidden>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Settings Section -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <svg class="settings-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                <line x1="1" y1="10" x2="23" y2="10"></line>
                            </svg>
                            <h2 data-i18n="settings.paymentSettingsTitle">Payment Settings</h2>
                        </div>
                        <p class="settings-muted" data-i18n="settings.paymentSettingsHint">Enable or disable supported payment options</p>
                        <div class="payment-toggles">
                            <div class="payment-toggle-item">
                                <div class="toggle-content">
                                    <span class="payment-method-name">bKash</span>
                                    <span class="payment-method-desc" data-i18n="settings.paymentMethodDesc">Mobile banking</span>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="payment-toggle-bkash">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="payment-toggle-item">
                                <div class="toggle-content">
                                    <span class="payment-method-name">Nagad</span>
                                    <span class="payment-method-desc" data-i18n="settings.paymentMethodDesc">Mobile banking</span>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="payment-toggle-nagad">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="payment-toggle-item">
                                <div class="toggle-content">
                                    <span class="payment-method-name">Rocket</span>
                                    <span class="payment-method-desc" data-i18n="settings.paymentMethodDesc">Mobile banking</span>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="payment-toggle-rocket">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Theme & Appearance Section -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <svg class="settings-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="5"></circle>
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <line x1="12" y1="21" x2="12" y2="23"></line>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                <line x1="1" y1="12" x2="3" y2="12"></line>
                                <line x1="21" y1="12" x2="23" y2="12"></line>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                            </svg>
                            <h2 data-i18n="settings.themeTitle">Theme & Appearance</h2>
                        </div>
                        <p class="settings-muted" data-i18n="settings.themeHint">Switch between themes with instant preview</p>
                        <div class="theme-appearance-grid" id="theme-grid">
                            <!-- Cozy Ledger - Warm & Calming -->
                            <div class="theme-appearance-tile" data-theme="cozy-ledger" aria-checked="true">
                                <div class="theme-preview theme-preview-cozy-ledger">
                                    <div class="theme-preview-header"></div>
                                    <div class="theme-preview-content">
                                        <div class="theme-preview-card"></div>
                                        <div class="theme-preview-card"></div>
                                    </div>
                                </div>
                                <span class="theme-appearance-name" data-i18n="themes.cozyLedger">Cozy Ledger</span>
                            </div>
                            <!-- Clean Business - Minimal & High-Contrast -->
                            <div class="theme-appearance-tile" data-theme="clean-business" aria-checked="false">
                                <div class="theme-preview theme-preview-clean-business">
                                    <div class="theme-preview-header"></div>
                                    <div class="theme-preview-content">
                                        <div class="theme-preview-card"></div>
                                        <div class="theme-preview-card"></div>
                                    </div>
                                </div>
                                <span class="theme-appearance-name" data-i18n="themes.cleanBusiness">Clean Business</span>
                            </div>
                            <!-- Night Shop - Dark Mode -->
                            <div class="theme-appearance-tile" data-theme="night-shop" aria-checked="false">
                                <div class="theme-preview theme-preview-night-shop">
                                    <div class="theme-preview-header"></div>
                                    <div class="theme-preview-content">
                                        <div class="theme-preview-card"></div>
                                        <div class="theme-preview-card"></div>
                                    </div>
                                </div>
                                <span class="theme-appearance-name" data-i18n="themes.nightShop">Night Shop</span>
                            </div>
                            <!-- Zen Finance - Peaceful Pastels -->
                            <div class="theme-appearance-tile" data-theme="zen-finance" aria-checked="false">
                                <div class="theme-preview theme-preview-zen-finance">
                                    <div class="theme-preview-header"></div>
                                    <div class="theme-preview-content">
                                        <div class="theme-preview-card"></div>
                                        <div class="theme-preview-card"></div>
                                    </div>
                                </div>
                                <span class="theme-appearance-name" data-i18n="themes.zenFinance">Zen Finance</span>
                            </div>
                            <!-- Street Ledger - Bold & Modern -->
                            <div class="theme-appearance-tile" data-theme="street-ledger" aria-checked="false">
                                <div class="theme-preview theme-preview-street-ledger">
                                    <div class="theme-preview-header"></div>
                                    <div class="theme-preview-content">
                                        <div class="theme-preview-card"></div>
                                        <div class="theme-preview-card"></div>
                                    </div>
                                </div>
                                <span class="theme-appearance-name" data-i18n="themes.streetLedger">Street Ledger</span>
                            </div>
                            <!-- Classic Paper - Traditional -->
                            <div class="theme-appearance-tile" data-theme="classic-paper" aria-checked="false">
                                <div class="theme-preview theme-preview-classic-paper">
                                    <div class="theme-preview-header"></div>
                                    <div class="theme-preview-content">
                                        <div class="theme-preview-card"></div>
                                        <div class="theme-preview-card"></div>
                                    </div>
                                </div>
                                <span class="theme-appearance-name" data-i18n="themes.classicPaper">Classic Paper</span>
                            </div>
                        </div>
                        <!-- Theme Descriptions -->
                        <div class="theme-descriptions" id="theme-description">
                            <p class="theme-description-text settings-muted" data-theme-desc="cozy-ledger">Warm, calming tones with soft shadows ‚Äî designed to reduce stress during long daily use.</p>
                        </div>
                        <div id="theme-export-section" class="theme-advanced-options" style="display: none;">
                            <h3 style="margin-bottom: 12px;">Share Theme</h3>
                            <p class="settings-muted" style="margin-bottom: 16px;">Export your theme settings to share with others</p>
                            <button class="secondary-btn" id="export-theme-btn">Export Theme</button>
                            <input type="file" id="import-theme-input" accept=".json" style="display: none;">
                            <label for="import-theme-input" class="secondary-btn" style="display: inline-block; margin-left: 8px; cursor: pointer;">Import Theme</label>
                        </div>
                    </div>

                    <!-- Monthly Wrapped Section -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <svg class="settings-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            <h2 data-i18n="settings.monthlyWrapTitle">Monthly Wrapped</h2>
                        </div>
                        <p class="settings-muted" data-i18n="settings.monthlyWrapHint">Visual summary of your monthly activity</p>
                        <div class="monthly-wrap-cards">
                            <div class="monthly-wrap-card-stat">
                                <div class="wrap-stat-icon">üí∞</div>
                                <div class="wrap-stat-content">
                                    <div class="wrap-stat-value" id="monthly-total-revenue">‡ß≥0</div>
                                    <div class="wrap-stat-label" data-i18n="settings.totalRevenue">Total Revenue</div>
                                </div>
                            </div>
                            <div class="monthly-wrap-card-stat">
                                <div class="wrap-stat-icon">‚úÖ</div>
                                <div class="wrap-stat-content">
                                    <div class="wrap-stat-value" id="monthly-payments-received">‡ß≥0</div>
                                    <div class="wrap-stat-label" data-i18n="settings.paymentsReceived">Payments Received</div>
                                </div>
                            </div>
                            <div class="monthly-wrap-card-stat">
                                <div class="wrap-stat-icon">üìÑ</div>
                                <div class="wrap-stat-content">
                                    <div class="wrap-stat-value" id="monthly-bills-generated">0</div>
                                    <div class="wrap-stat-label" data-i18n="settings.billsGenerated">Bills Generated</div>
                                </div>
                            </div>
                            <div class="monthly-wrap-card-stat">
                                <div class="wrap-stat-icon">‚è≥</div>
                                <div class="wrap-stat-content">
                                    <div class="wrap-stat-value" id="monthly-pending-amount">‡ß≥0</div>
                                    <div class="wrap-stat-label" data-i18n="settings.pendingAmount">Pending Amount</div>
                                </div>
                            </div>
                        </div>
                        <button class="primary-btn monthly-wrap-view-btn" id="view-monthly-wrap-btn" data-i18n="settings.viewMonthlyWrap">View Full Monthly Wrap</button>
                    </div>

                    <!-- Subscriptions Section -->
                    <div class="settings-card subscription-card-animated">
                        <div class="settings-card-header">
                            <svg class="settings-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 7h-4V5a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v2H2a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1z"></path>
                            </svg>
                            <h2 data-i18n="settings.subscriptionTitle">‚ú® Subscriptions</h2>
                        </div>
                        <p class="settings-muted" style="margin-bottom: 12px;">
                            üéâ Unlock premium features! Click any subscribe button to visit our 
                            <a href="https://www.facebook.com/profile.php?id=61560074175677" target="_blank" style="color: var(--primary); font-weight: 600; text-decoration: none;">Cozy Tu Studio Facebook Page</a> 
                            and get your subscription.
                        </p>
                        <div class="subscription-status" id="subscription-status">
                            <p class="subscription-current">
                                <span data-i18n="settings.subscriptionCurrent">Current Plan:</span>
                                <strong id="current-plan-display">Free</strong>
                            </p>
                        </div>
                        <div class="subscription-plans">
                            <!-- Pro Plan -->
                            <div class="subscription-plan subscription-plan-animated">
                                <div class="plan-header">
                                    <h3 data-i18n="subscription.pro">Pro</h3>
                                    <span class="plan-badge animated-badge">‚ö° Monthly</span>
                                </div>
                                <div class="plan-price">40 ‡ß≥<span style="font-size: 0.5em; margin-left: 4px;">/month</span></div>
                                <p class="plan-duration" data-i18n="subscription.proDuration">Billed monthly</p>
                                <ul class="plan-benefits">
                                    <li data-i18n="subscription.proBenefit1">Unlimited customers</li>
                                    <li data-i18n="subscription.proBenefit2">Advanced debt tracking</li>
                                    <li data-i18n="subscription.proBenefit3">Priority support</li>
                                </ul>
                                <div class="coupon-section">
                                    <input type="text" class="coupon-input" id="coupon-input-pro" placeholder="Enter coupon code (optional)" data-i18n-placeholder="settings.couponPlaceholder">
                                    <div class="coupon-feedback" id="coupon-feedback-pro"></div>
                                </div>
                                <button class="primary-btn plan-subscribe-btn subscribe-facebook-btn animated-btn" data-plan="pro" onclick="window.open('https://www.facebook.com/profile.php?id=61560074175677', '_blank')" data-i18n="subscription.subscribe">
                                    <span class="btn-sparkle"></span>
                                    ‚ú® Subscribe Now
                                </button>
                            </div>

                            <!-- Max Plan -->
                            <div class="subscription-plan subscription-plan-animated">
                                <div class="plan-header">
                                    <h3 data-i18n="subscription.max">Max</h3>
                                    <span class="plan-badge plan-badge-best animated-badge" data-i18n="subscription.bestValue">üåü Best Value</span>
                                </div>
                                <div class="plan-price">300 ‡ß≥<span style="font-size: 0.5em; margin-left: 4px;">/year</span></div>
                                <p class="plan-duration" data-i18n="subscription.maxDuration">Billed annually (Save 37%)</p>
                                <ul class="plan-benefits">
                                    <li data-i18n="subscription.maxBenefit1">Everything in Pro</li>
                                    <li data-i18n="subscription.maxBenefit2">AI-powered insights</li>
                                    <li data-i18n="subscription.maxBenefit3">Advanced analytics</li>
                                    <li data-i18n="subscription.maxBenefit4">Custom branding</li>
                                </ul>
                                <div class="coupon-section">
                                    <input type="text" class="coupon-input" id="coupon-input-max" placeholder="Enter coupon code (optional)" data-i18n-placeholder="settings.couponPlaceholder">
                                    <div class="coupon-feedback" id="coupon-feedback-max"></div>
                                </div>
                                <button class="primary-btn plan-subscribe-btn subscribe-facebook-btn animated-btn" data-plan="max" onclick="window.open('https://www.facebook.com/profile.php?id=61560074175677', '_blank')" data-i18n="subscription.subscribe">
                                    <span class="btn-sparkle"></span>
                                    üíé Subscribe Now
                                </button>
                            </div>

                            <!-- Ultra Pro Plan -->
                            <div class="subscription-plan subscription-plan-animated subscription-plan-premium">
                                <div class="plan-header">
                                    <h3 data-i18n="subscription.ultra">Ultra Pro</h3>
                                    <span class="plan-badge plan-badge-premium animated-badge" data-i18n="subscription.premium">üëë Premium</span>
                                </div>
                                <div class="plan-price">480 ‡ß≥<span style="font-size: 0.5em; margin-left: 4px;">/year</span></div>
                                <p class="plan-duration" data-i18n="subscription.ultraDuration">Billed annually (Save 50%)</p>
                                <ul class="plan-benefits">
                                    <li data-i18n="subscription.ultraBenefit1">Everything in Max</li>
                                    <li data-i18n="subscription.ultraBenefit2">Unlimited AI features</li>
                                    <li data-i18n="subscription.ultraBenefit3">24/7 priority support</li>
                                    <li data-i18n="subscription.ultraBenefit4">Early access to features</li>
                                    <li data-i18n="subscription.ultraBenefit5">Custom integrations</li>
                                </ul>
                                <button class="primary-btn plan-subscribe-btn subscribe-facebook-btn animated-btn" data-plan="ultra" onclick="window.open('https://www.facebook.com/profile.php?id=61560074175677', '_blank')" data-i18n="subscription.subscribe">
                                    <span class="btn-sparkle"></span>
                                    üöÄ Subscribe Now
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer removed per user request -->
    </div>

    <dialog class="modal" id="profile-modal" aria-labelledby="profile-modal-title">
        <form class="modal-form" id="profile-form">
            <h2 id="profile-modal-title" data-i18n="modals.profile.title">Edit Profile</h2>
            <label>
                <span data-i18n="modals.profile.name">Name</span>
                <input type="text" name="name" maxlength="60" required />
            </label>
            <label>
                <span data-i18n="modals.profile.email">Email</span>
                <input type="email" name="email" maxlength="120" />
            </label>
            <label>
                <span data-i18n="modals.profile.profilePicture">Profile picture</span>
                <input type="file" name="profilePicture" accept="image/*" />
            </label>
            <label>
                <span data-i18n="modals.profile.extraPhoto">Additional photo</span>
                <input type="file" name="extraPhoto" accept="image/*" />
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="customer-modal" aria-labelledby="customer-modal-title">
        <form class="modal-form" id="customer-form">
            <h2 id="customer-modal-title" data-i18n="modals.customer.title">Add Customer</h2>
            <label>
                <span data-i18n="modals.customer.name">Customer Name</span>
                <input type="text" name="name" required maxlength="60" />
            </label>
            <label>
                <span data-i18n="modals.customer.phone">Phone Number (optional)</span>
                <input type="tel" name="phone" maxlength="15" />
            </label>
            <label>
                <span data-i18n="modals.customer.repayDays">Repayment window (days)</span>
                <input type="number" name="repaymentDays" min="1" max="90" value="7" />
            </label>
            <label>
                <span data-i18n="modals.customer.note">Note</span>
                <textarea name="note" rows="2" maxlength="140"></textarea>
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="debt-modal" aria-labelledby="debt-modal-title">
        <form class="modal-form" id="debt-form">
            <h2 id="debt-modal-title" data-i18n="modals.debt.title">Record Debt</h2>
            <input type="hidden" name="customerId" />
            <label>
                <span data-i18n="modals.debt.amount">Debt Amount (‡ß≥)</span>
                <input type="number" name="amount" min="1" step="1" required />
            </label>
            <label>
                <span data-i18n="modals.debt.description">Description</span>
                <textarea name="description" rows="2" maxlength="140"></textarea>
            </label>
            <label>
                <span data-i18n="modals.debt.date">Date</span>
                <input type="date" name="date" required />
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="payment-modal" aria-labelledby="payment-modal-title">
        <form class="modal-form" id="payment-form">
            <h2 id="payment-modal-title" data-i18n="modals.payment.title">Record Payment</h2>
            <input type="hidden" name="customerId" />
            <label>
                <span data-i18n="modals.payment.amount">Payment Amount (‡ß≥)</span>
                <input type="number" name="amount" min="1" step="1" required />
            </label>
            <label>
                <span data-i18n="modals.payment.date">Date</span>
                <input type="date" name="date" required />
            </label>
            <label>
                <span data-i18n="modals.payment.note">Note</span>
                <textarea name="note" rows="2" maxlength="140"></textarea>
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="note-modal" aria-labelledby="note-modal-title">
        <form class="modal-form" id="note-form">
            <h2 id="note-modal-title" data-i18n="modals.note.title">New Todo</h2>
            <label>
                <span data-i18n="modals.note.titleLabel">Title</span>
                <input type="text" name="title" maxlength="80" required />
            </label>
            <label>
                <span data-i18n="modals.note.color">Color</span>
                <select name="color">
                    <option value="yellow" data-i18n="modals.note.colorYellow">Yellow</option>
                    <option value="green" data-i18n="modals.note.colorGreen">Green</option>
                    <option value="blue" data-i18n="modals.note.colorBlue">Blue</option>
                    <option value="pink" data-i18n="modals.note.colorPink">Pink</option>
                    <option value="gray" data-i18n="modals.note.colorGray">Gray</option>
                </select>
            </label>
            <label>
                <span data-i18n="modals.note.body">Note</span>
                <textarea name="body" rows="4" maxlength="400"></textarea>
            </label>
            <label class="inline-checkbox">
                <input type="checkbox" name="pinned" />
                <span data-i18n="modals.note.pinned">Pin to top</span>
            </label>
            <input type="hidden" name="noteId" />
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="task-modal" aria-labelledby="task-modal-title">
        <form class="modal-form" id="task-form">
            <h2 id="task-modal-title" data-i18n="modals.task.title">Add Task</h2>
            <label>
                <span data-i18n="modals.task.name">Task Name</span>
                <input type="text" name="name" maxlength="80" required />
            </label>
            <label>
                <span data-i18n="modals.task.type">Type</span>
                <select name="type">
                    <option value="payment" data-i18n="modals.task.typePayment">Payment Follow-up</option>
                    <option value="delivery" data-i18n="modals.task.typeDelivery">Delivery</option>
                    <option value="purchase" data-i18n="modals.task.typePurchase">Stock Purchase</option>
                    <option value="other" data-i18n="modals.task.typeOther">Other</option>
                </select>
            </label>
            <label>
                <span data-i18n="modals.task.date">Due Date</span>
                <input type="date" name="dueDate" required />
            </label>
            <label>
                <span data-i18n="modals.task.note">Note</span>
                <textarea name="note" rows="2" maxlength="140"></textarea>
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="shop-profile-modal" aria-labelledby="shop-profile-modal-title">
        <form class="modal-form" id="shop-profile-form">
            <h2 id="shop-profile-modal-title" data-i18n="modals.shopProfile.title">Shop Profile</h2>
            <label>
                <span data-i18n="modals.shopProfile.ownerName">Your Name</span>
                <input type="text" name="ownerName" maxlength="60" required />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.shopName">Shop Name</span>
                <input type="text" name="shopName" maxlength="80" required />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.phoneNumber">Phone Number</span>
                <input type="tel" name="phoneNumber" maxlength="15" placeholder="01XXXXXXXXX" />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.shopLogo">Shop Logo/Picture</span>
                <input type="file" name="shopLogo" accept="image/*" />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.yourPhoto">Your Photo</span>
                <input type="file" name="ownerPhoto" accept="image/*" />
            </label>
            <div class="payment-methods-section">
                <h3 data-i18n="modals.shopProfile.paymentMethods">Payment Methods</h3>
                <label class="inline-checkbox">
                    <input type="checkbox" name="useBkash" />
                    <span>bKash</span>
                </label>
                <label class="inline-checkbox">
                    <input type="checkbox" name="useNagad" />
                    <span>Nagad</span>
                </label>
                <label class="inline-checkbox">
                    <input type="checkbox" name="useRocket" />
                    <span>Rocket</span>
                </label>
            </div>
            <label>
                <span data-i18n="modals.shopProfile.bkashNumber">bKash Number</span>
                <input type="tel" name="bkashNumber" maxlength="15" />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.nagadNumber">Nagad Number</span>
                <input type="tel" name="nagadNumber" maxlength="15" />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.rocketNumber">Rocket Number</span>
                <input type="tel" name="rocketNumber" maxlength="15" />
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal bill-modal-enhanced" id="bill-modal" aria-labelledby="bill-modal-title">
        <form class="modal-form" id="bill-form">
            <input type="hidden" name="billId" id="bill-id-input" />
            <div class="modal-header-enhanced">
                <div>
                    <h2 id="bill-modal-title" data-i18n="modals.bill.title">Create Bill / Invoice</h2>
                    <p class="modal-subtitle" data-i18n="modals.bill.subtitle">Generate professional bills for your customers</p>
                </div>
                <button type="button" class="icon-btn modal-close-btn" data-close aria-label="Close">‚úï</button>
            </div>
            
            <div class="bill-form-grid">
                <label class="enhanced-label">
                    <span data-i18n="modals.bill.customerName">Customer Name</span>
                    <select name="customerId" id="bill-customer-select">
                        <option value="">-- Select Customer or Enter New --</option>
                    </select>
                </label>
                <label class="enhanced-label">
                    <span data-i18n="modals.bill.customerNameManual">Or Enter Customer Name</span>
                    <input type="text" name="customerName" id="bill-customer-name" maxlength="60" placeholder="Enter customer name" />
                </label>
            </div>

            <label class="enhanced-label">
                <span data-i18n="modals.bill.invoiceNumber">Invoice Number (Auto-generated if empty)</span>
                <input type="text" name="invoiceNumber" maxlength="30" placeholder="INV-001" />
            </label>
            
            <div class="products-section">
                <div class="section-header">
                    <h3 data-i18n="modals.bill.productsTitle">Items / Services</h3>
                    <button type="button" class="add-product-btn-inline" id="add-product-btn-inline">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="16"></line>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                        <span data-i18n="modals.bill.addProduct">Add Item</span>
                    </button>
                </div>
                <div id="bill-products" class="bill-products-container">
                    <div class="bill-product-row">
                        <input type="text" name="productName[]" placeholder="Item/Service name" required />
                        <input type="number" name="productPrice[]" placeholder="Price" min="0" step="0.01" required />
                        <input type="number" name="productQuantity[]" placeholder="Qty" min="1" value="1" required />
                        <input type="number" name="productDiscount[]" placeholder="Discount %" min="0" max="100" step="0.01" value="0" />
                        <button type="button" class="remove-product-btn" aria-label="Remove product">√ó</button>
                    </div>
                </div>
            </div>

            <div class="bill-calculations">
                <div class="calc-row">
                    <span data-i18n="modals.bill.subtotal">Subtotal</span>
                    <strong>‡ß≥<span id="bill-subtotal">0</span></strong>
                </div>
                <div class="calc-row">
                    <label class="inline-label">
                        <span data-i18n="modals.bill.discount">Discount (%)</span>
                        <input type="number" name="totalDiscount" id="bill-total-discount" min="0" max="100" step="0.01" value="0" />
                    </label>
                    <strong>‡ß≥<span id="bill-discount-amount">0</span></strong>
                </div>
                <div class="calc-row">
                    <label class="inline-label">
                        <span data-i18n="modals.bill.tax">Tax (%) <small>(Optional)</small></span>
                        <input type="number" name="tax" id="bill-tax" min="0" step="0.01" value="0" />
                    </label>
                    <strong>‡ß≥<span id="bill-tax-amount">0</span></strong>
                </div>
            </div>
            
            <div class="bill-total-enhanced">
                <div class="total-label" data-i18n="modals.bill.total">Total Amount</div>
                <div class="total-amount">‡ß≥<span id="bill-total-amount">0</span></div>
            </div>

            <div class="bill-form-grid">
                <label class="enhanced-label">
                    <span data-i18n="modals.bill.dueDate">Due Date</span>
                    <input type="date" name="dueDate" id="bill-due-date" />
                </label>
                <label class="enhanced-label">
                    <span data-i18n="modals.bill.paymentStatus">Payment Status</span>
                    <select name="paymentStatus" id="bill-payment-status">
                        <option value="pending" data-i18n="modals.bill.statusPending">Pending</option>
                        <option value="paid" data-i18n="modals.bill.statusPaid">Paid</option>
                        <option value="partial" data-i18n="modals.bill.statusPartial">Partial</option>
                    </select>
                </label>
            </div>

            <label class="enhanced-label">
                <span data-i18n="modals.bill.notes">Notes / Terms (Optional)</span>
                <textarea name="notes" rows="2" maxlength="200" placeholder="Payment terms, delivery info, etc."></textarea>
            </label>
            
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn bill-generate-btn" data-i18n="modals.bill.generateBill">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                    </svg>
                    Generate Bill
                </button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="bill-customize-modal" aria-labelledby="bill-customize-modal-title">
        <div class="modal-form bill-customize-form">
            <div class="modal-header-enhanced">
                <h2 id="bill-customize-modal-title" data-i18n="modals.billCustomize.title">Customize Bill Card</h2>
                <button type="button" class="icon-btn modal-close-btn" data-close aria-label="Close">‚úï</button>
            </div>
            
            <div class="customize-layout">
                <div class="customize-controls">
                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.theme">Theme</h3>
                        <div class="theme-options">
                            <button type="button" class="theme-option" data-theme="minimal" data-i18n="modals.billCustomize.themeMinimal">Minimal</button>
                            <button type="button" class="theme-option active" data-theme="cozy" data-i18n="modals.billCustomize.themeCozy">Cozy</button>
                            <button type="button" class="theme-option" data-theme="professional" data-i18n="modals.billCustomize.themeProfessional">Professional</button>
                        </div>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.layout">Layout Style</h3>
                        <select id="customize-layout-style">
                            <option value="modern">Modern</option>
                            <option value="classic">Classic</option>
                            <option value="compact">Compact</option>
                        </select>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.colors">Colors</h3>
                        <div class="color-picker-grid">
                            <label>
                                <span>Primary Color</span>
                                <input type="color" id="customize-primary-color" value="#1c8b73" />
                            </label>
                            <label>
                                <span>Accent Color</span>
                                <input type="color" id="customize-accent-color" value="#f2a03d" />
                            </label>
                            <label>
                                <span>Background</span>
                                <input type="color" id="customize-bg-color" value="#ffffff" />
                            </label>
                        </div>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.font">Font</h3>
                        <select id="customize-font">
                            <option value="inter">Inter</option>
                            <option value="roboto">Roboto</option>
                            <option value="opensans">Open Sans</option>
                            <option value="lato">Lato</option>
                        </select>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.spacing">Spacing</h3>
                        <input type="range" id="customize-spacing" min="8" max="24" value="16" />
                        <span id="spacing-value">16px</span>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.border">Border</h3>
                        <label class="inline-checkbox">
                            <input type="checkbox" id="customize-border" checked />
                            <span>Show Border</span>
                        </label>
                        <input type="range" id="customize-border-width" min="0" max="4" value="2" />
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.logo">Shop Logo</h3>
                        <input type="file" id="customize-logo" accept="image/*" />
                        <button type="button" class="secondary-btn" id="remove-logo-btn">Remove Logo</button>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.fontSize">Font Size</h3>
                        <input type="range" id="customize-font-size" min="-4" max="8" value="0" />
                        <span id="font-size-value">0px</span>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.icons">Icons</h3>
                        <label class="inline-checkbox">
                            <input type="checkbox" id="customize-show-icons" checked />
                            <span>Show Icons</span>
                        </label>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.customNotes">Custom Notes</h3>
                        <textarea id="customize-notes" rows="3" maxlength="200" placeholder="Add custom notes or terms"></textarea>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.sections">Section Order</h3>
                        <div id="section-order-list" class="section-order-list"></div>
                    </div>
                </div>

                <div class="customize-preview">
                    <h3 data-i18n="modals.billCustomize.preview">Live Preview</h3>
                    <div id="bill-card-preview" class="bill-card-preview-container"></div>
                    <div class="preview-actions">
                        <button type="button" class="secondary-btn" id="preview-download-btn">Download Preview</button>
                    </div>
                </div>
            </div>

            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="button" class="secondary-btn" id="reset-customize-btn" data-i18n="modals.billCustomize.reset">Reset</button>
                <button type="button" class="primary-btn" id="apply-customize-btn" data-i18n="modals.billCustomize.apply">Apply & Download</button>
            </div>
        </div>
    </dialog>

    <dialog class="modal" id="monthly-wrap-modal" aria-labelledby="monthly-wrap-modal-title">
        <div class="modal-form">
            <h2 id="monthly-wrap-modal-title" data-i18n="modals.monthlyWrap.title">Monthly Summary</h2>
            <div id="monthly-wrap-content">
                <p data-i18n="modals.monthlyWrap.loading">Loading monthly summary...</p>
            </div>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.close">Close</button>
            </div>
        </div>
    </dialog>

    <dialog class="modal" id="card-customize-modal" aria-labelledby="card-customize-modal-title">
        <form class="modal-form" id="card-customize-form">
            <h2 id="card-customize-modal-title" data-i18n="modals.cardCustomize.title">Customize Card</h2>
            <label>
                <span data-i18n="modals.cardCustomize.style">Card Style</span>
                <select name="cardStyle">
                    <option value="default">Default</option>
                    <option value="funny">Funny</option>
                    <option value="elegant">Elegant</option>
                    <option value="colorful">Colorful</option>
                </select>
            </label>
            <label>
                <span data-i18n="modals.cardCustomize.message">Custom Message</span>
                <textarea name="customMessage" rows="3" maxlength="200" placeholder="Add a funny or custom message"></textarea>
            </label>
            <label>
                <span data-i18n="modals.cardCustomize.emoji">Add Emoji</span>
                <input type="text" name="emoji" maxlength="5" placeholder="üòä" />
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.apply">Apply</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="demand-modal" aria-labelledby="demand-modal-title">
        <form class="modal-form" id="demand-form">
            <div class="modal-header-with-close">
                <h2 id="demand-modal-title" data-i18n="modals.demand.title">Demand Payment</h2>
                <button type="button" class="modal-close-x" data-close aria-label="Close">‚úï</button>
            </div>
            <input type="hidden" name="customerId" />
            <label>
                <span data-i18n="modals.demand.amount">Amount to request (‡ß≥)</span>
                <input type="number" name="amount" min="1" step="1" required />
            </label>
            <label>
                <span data-i18n="modals.demand.dueDate">Due date</span>
                <input type="date" name="dueDate" />
            </label>
            <label>
                <span data-i18n="modals.demand.method">Payment method / link</span>
                <input type="text" name="paymentMethod" placeholder="bKash / Nagad / UPI / Bank link" />
            </label>
            <label>
                <span data-i18n="modals.demand.note">Message</span>
                <textarea name="note" rows="2" maxlength="180" placeholder="Please pay by Friday"></textarea>
            </label>
            <div class="demand-actions">
                <button type="submit" class="primary-btn" data-i18n="modals.demand.generate">Generate card</button>
                <button type="button" class="secondary-btn" id="demand-share-btn" data-i18n="modals.demand.share">Share</button>
                <a class="secondary-btn" id="demand-download-btn" download="demand-card.png" data-i18n="modals.demand.download">Download</a>
            </div>
            <div class="demand-preview" id="demand-preview">
                <p data-i18n="modals.demand.previewText">Generated payment card will appear here.</p>
                <img id="demand-preview-img" alt="" />
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="logo-modal" aria-labelledby="logo-modal-title">
        <form class="modal-form" id="logo-form">
            <h2 id="logo-modal-title" data-i18n="modals.logo.title">Add Shop Logo</h2>
            <label>
                <span data-i18n="modals.logo.name">Logo Name</span>
                <input type="text" name="logoName" maxlength="60" required />
            </label>
            <label>
                <span data-i18n="modals.logo.image">Logo Image</span>
                <input type="file" name="logoImage" accept="image/*" required />
            </label>
            <input type="hidden" name="logoId" />
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <template id="customer-card-template">
        <article class="customer-card" data-customer-id="">
            <header class="customer-card__header">
                <div>
                    <h2 class="customer-name"></h2>
                    <p class="customer-phone"></p>
                </div>
                <div class="customer-status">
                    <span class="status-pill"></span>
                    <span class="status-text"></span>
                </div>
            </header>
            <div class="customer-card__body">
                <div class="balance-row">
                    <span data-i18n="customers.card.balance">Balance</span>
                    <strong class="customer-balance">‡ß≥0</strong>
                </div>
                <div class="meta-grid">
                    <div>
                        <span data-i18n="customers.card.lastPayment">Last payment</span>
                        <p class="customer-last-payment">‚Äî</p>
                    </div>
                    <div>
                        <span data-i18n="customers.card.dueDate">Due date</span>
                        <p class="customer-due-date">‚Äî</p>
                    </div>
                    <div>
                        <span data-i18n="customers.card.trustRatio">Trust Ratio</span>
                        <p class="customer-trust-ratio">‚Äî</p>
                    </div>
                </div>
                <p class="customer-note"></p>
            </div>
            <footer class="customer-card__footer">
                <button class="secondary-btn" data-action="history" data-i18n="customers.card.history">History</button>
                <button class="secondary-btn" data-action="payment" data-i18n="customers.card.payment">Record Payment</button>
                <button class="secondary-btn" data-action="demand" data-i18n="customers.card.demand">Demand Payment</button>
                <button class="primary-btn" data-action="debt" data-i18n="customers.card.debt">Add Debt</button>
            </footer>
            <div class="customer-history" hidden>
                <h3 data-i18n="customers.card.historyTitle">Activity</h3>
                <ul class="history-list"></ul>
            </div>
        </article>
    </template>

    <template id="note-card-template">
        <article class="note-card enhanced-note-card" data-note-id="">
            <div class="note-card-inner">
                <header class="note-card-header">
                    <div class="note-title-row">
                        <span class="note-color-indicator"></span>
                        <div class="note-header-content">
                            <h2 class="note-title"></h2>
                            <time class="note-date"></time>
                        </div>
                        <button class="note-pin-btn" title="Pin to top" data-action="pin">
                            <svg class="pin-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 17v5"></path>
                                <path d="M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1z"></path>
                            </svg>
                        </button>
                    </div>
                </header>
                <div class="note-body-container">
                    <p class="note-body"></p>
                </div>
                <footer class="note-card-footer">
                    <div class="note-tags"></div>
                    <div class="note-actions">
                        <button class="icon-action-btn" data-action="edit" aria-label="Edit" title="Edit">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                        <button class="icon-action-btn delete-btn" data-action="delete" aria-label="Delete" title="Delete">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                            </svg>
                        </button>
                    </div>
                </footer>
            </div>
        </article>
    </template>

    <template id="task-card-template">
        <article class="task-card" data-task-id="">
            <header>
                <div>
                    <h2 class="task-name"></h2>
                    <p class="task-type"></p>
                </div>
                <label class="task-status">
                    <input type="checkbox" />
                    <span data-i18n="tasks.card.done">Done</span>
                </label>
            </header>
            <div class="task-body">
                <div class="task-due">
                    <span data-i18n="tasks.card.due">Due</span>
                    <time class="task-date"></time>
                </div>
                <p class="task-note"></p>
            </div>
            <footer>
                <button class="secondary-btn" data-action="delete" data-i18n="actions.delete">Delete</button>
            </footer>
        </article>
    </template>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="app.js" defer></script>
</body>
</html>
