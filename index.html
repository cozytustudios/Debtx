<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Debtx | Digital Khata for Bangladeshi Shopkeepers</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="themes.css" />
    <link rel="manifest" href="manifest.json" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Hind+Siliguri:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <script>
        // Apply theme early to prevent flash of unstyled content
        (function () {
            try {
                const stored = localStorage.getItem('debtx-data-v1');
                if (stored) {
                    const data = JSON.parse(stored);
                    const theme = data?.ui?.theme || 'studio-pro';
                    const validThemes = [
                        'light', 'dark', 'ocean', 'rose',
                        'studio-pro', 'cozy-ledger', 'clean-business', 'night-shop',
                        'zen-finance', 'street-ledger', 'classic-paper'
                    ];
                    if (validThemes.includes(theme)) {
                        document.documentElement.setAttribute('data-theme', theme);
                    } else {
                        document.documentElement.setAttribute('data-theme', 'studio-pro');
                    }
                }
            } catch (e) {
                // Fallback to studio-pro theme
                document.documentElement.setAttribute('data-theme', 'studio-pro');
            }
        })();
    </script>
</head>

<body data-view="phone">
    <!-- SVG Gradients for Icons -->
    <svg style="position: absolute; width: 0; height: 0; overflow: hidden;">
        <defs>
            <linearGradient id="premiumGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#ffd700;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#ff6b35;stop-opacity:1" />
            </linearGradient>
        </defs>
    </svg>
    <div class="auth-overlay" id="auth-overlay" hidden style="display: none;">
        <div class="auth-card">
            <header class="auth-card__header">
                <div>
                    <p class="auth-app-name">Debt<span class="logo-x">x</span></p>
                    <h1 data-i18n="auth.title">Secure your shop records</h1>
                    <p class="auth-subtitle" data-i18n="auth.subtitle">Set a password to unlock every visit. Add a
                        passcode for quick unlock.</p>
                </div>
                <button class="secondary-btn auth-close" id="auth-close-btn" aria-label="Close">‚úï</button>
            </header>
            <div class="auth-toggle" role="tablist">
                <button class="auth-tab active" data-mode="login" aria-selected="true"
                    data-i18n="auth.loginTab">Login</button>
                <button class="auth-tab" data-mode="setup" aria-selected="false" data-i18n="auth.setupTab">Create
                    account</button>
            </div>

            <div class="auth-forms">
                <form class="auth-form" id="auth-login-form" data-mode="login">
                    <label>
                        <span data-i18n="auth.passwordLabel">Password</span>
                        <span class="input-row">
                            <input type="password" name="password" autocomplete="current-password" required />
                            <button type="button" class="icon-btn" data-action="toggle-password"
                                aria-label="Show password">üëÅ</button>
                        </span>
                    </label>
                    <label>
                        <span data-i18n="auth.passcodeLabel">Passcode (optional)</span>
                        <span class="input-row">
                            <input type="password" name="passcode" inputmode="numeric" pattern="\d{4,8}"
                                placeholder="1234" />
                            <button type="button" class="icon-btn" data-action="toggle-passcode"
                                aria-label="Show passcode">üëÅ</button>
                        </span>
                    </label>
                    <p class="auth-hint" data-i18n="auth.loginHint">Enter your password (or passcode if you set one) to
                        unlock Debtx.</p>
                    <button type="submit" class="primary-btn" data-i18n="auth.unlock">Unlock</button>
                </form>

                <form class="auth-form hidden" id="auth-setup-form" data-mode="setup">
                    <label>
                        <span data-i18n="auth.nameLabel">Full name</span>
                        <input type="text" name="name" autocomplete="name" placeholder="Your name" />
                    </label>
                    <label>
                        <span data-i18n="auth.emailLabel">Email</span>
                        <input type="email" name="email" autocomplete="email" placeholder="you@example.com" />
                    </label>

                    <div class="profile-upload-area">
                        <label class="profile-upload-btn" id="profile-upload-label">
                            <div class="profile-upload-preview" id="profile-upload-preview">
                                <span class="profile-upload-icon">üì∑</span>
                                <span data-i18n="auth.tapToUpload">Tap to add photo</span>
                            </div>
                            <input type="file" name="profilePicture" accept="image/*" hidden />
                        </label>
                    </div>

                    <details class="auth-advanced">
                        <summary data-i18n="auth.advancedSecurity">üîí Add password protection (optional)</summary>
                        <div class="auth-advanced-content">
                            <label>
                                <span data-i18n="auth.passwordCreateLabel">Create password</span>
                                <span class="input-row">
                                    <input type="password" name="password" autocomplete="new-password" minlength="6"
                                        placeholder="Min 6 characters" />
                                    <button type="button" class="icon-btn" data-action="toggle-new-password"
                                        aria-label="Show password">üëÅ</button>
                                </span>
                            </label>
                            <label>
                                <span data-i18n="auth.passcodeOptional">4-8 digit passcode (optional)</span>
                                <input type="text" name="passcode" inputmode="numeric" pattern="\d{4,8}"
                                    placeholder="1234" />
                            </label>
                            <p class="auth-hint" data-i18n="auth.setupHint">You will need this password each time you
                                open Debtx.</p>
                        </div>
                    </details>

                    <button type="submit" class="primary-btn" data-i18n="auth.getStarted">Get Started</button>
                </form>
            </div>

            <p class="auth-error" id="auth-error" role="alert"></p>

            <div class="auth-skip">
                <button type="button" class="ghost-btn" id="auth-skip-btn" data-i18n="auth.skip">Skip for now ‚Üí</button>
                <p class="auth-skip-hint" data-i18n="auth.skipHint">Use without password protection</p>
            </div>
        </div>
    </div>

    <div class="app" id="app">
        <header class="app-header">
            <div class="app-title">
                <span class="title-en">Debt<span class="logo-x">x</span></span>
                <span class="title-bn">‡¶°‡ßá‡¶¨‡¶ü<span class="logo-x">‡¶è‡¶ï‡ßç‡¶∏</span></span>
            </div>
        </header>

        <!-- Dock: text + icons, always visible labels -->
        <!-- Dock: Floating Glass Bar -->
        <nav class="dock dock-v4" id="dock" aria-label="Main sections">
            <div class="dock-container">
                <!-- 1. Customers -->
                <button class="dock-item" data-target="customers" id="nav-customers" aria-label="Customers / ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ">
                    <div class="dock-icon-wrapper">
                        <svg class="dock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </div>
                    <span class="dock-label dock-label-bilingual" data-i18n-skip="true">
                        <span class="label-en">Customers</span>
                        <span class="label-bn">‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ</span>
                    </span>
                </button>

                <!-- 2. Bills -->
                <button class="dock-item" data-target="bills" id="nav-bills" aria-label="Bills / ‡¶¨‡¶ø‡¶≤">
                    <div class="dock-icon-wrapper">
                        <svg class="dock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 3h12a2 2 0 0 1 2 2v14l-4-2-4 2-4-2-4 2V5a2 2 0 0 1 2-2z"></path>
                            <path d="M9 7h6"></path>
                            <path d="M9 11h6"></path>
                            <path d="M9 15h3"></path>
                        </svg>
                    </div>
                    <span class="dock-label dock-label-bilingual" data-i18n-skip="true">
                        <span class="label-en">Bills</span>
                        <span class="label-bn">‡¶¨‡¶ø‡¶≤</span>
                    </span>
                </button>

                <!-- 3. AI Agent (Central Featured) -->
                <button class="dock-item dock-item-agent" data-target="ai" id="nav-ai" aria-label="AI Agent / ‡¶è‡¶ú‡ßá‡¶®‡ßç‡¶ü">
                    <div class="dock-agent-bubble">
                        <svg class="dock-icon-agent" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z">
                            </path>
                        </svg>
                    </div>
                    <span class="dock-label-agent dock-label-bilingual" data-i18n-skip="true">
                        <span class="label-en">Agent</span>
                        <span class="label-bn">‡¶è‡¶ú‡ßá‡¶®‡ßç‡¶ü</span>
                    </span>
                </button>

                <!-- 4. Tasks -->
                <button class="dock-item" data-target="tasks" id="nav-tasks" aria-label="Tasks / ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï">
                    <div class="dock-icon-wrapper">
                        <svg class="dock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M8 6h13"></path>
                            <path d="M8 12h13"></path>
                            <path d="M8 18h13"></path>
                            <path d="M3 6h.01"></path>
                            <path d="M3 12h.01"></path>
                            <path d="M3 18h.01"></path>
                        </svg>
                    </div>
                    <span class="dock-label dock-label-bilingual" data-i18n-skip="true">
                        <span class="label-en">Tasks</span>
                        <span class="label-bn">‡¶ï‡¶æ‡¶ú</span>
                    </span>
                </button>

                <!-- 5. Settings -->
                <button class="dock-item" data-target="settings" id="nav-settings" aria-label="Settings / ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏">
                    <div class="dock-icon-wrapper">
                        <svg class="dock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path
                                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                            </path>
                        </svg>
                    </div>
                    <span class="dock-label dock-label-bilingual" data-i18n-skip="true">
                        <span class="label-en">Settings</span>
                        <span class="label-bn">‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</span>
                    </span>
                </button>

                <!-- 6. Premium (Last item at the right) -->
                <button class="dock-item dock-item-premium" data-target="premium" id="nav-premium"
                    aria-label="Premium / ‡¶™‡ßç‡¶∞‡ßã">
                    <div class="dock-icon-wrapper">
                        <svg class="dock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                            <path d="M2 17l10 5 10-5"></path>
                            <path d="M2 12l10 5 10-5"></path>
                        </svg>
                    </div>
                    <span class="dock-label dock-label-bilingual" data-i18n-skip="true">
                        <span class="label-en">Premium</span>
                        <span class="label-bn">‡¶™‡ßç‡¶∞‡ßã</span>
                    </span>
                </button>
            </div>
        </nav>

        <main class="app-main">
            <section class="panel active" id="panel-customers" aria-label="Customer debts">
                <div class="panel-header">
                    <div>
                        <h1 data-i18n="customers.title">Customers & Debts</h1>
                        <p class="panel-subtitle" data-i18n="customers.subtitle">Track dues, payments, and reminders</p>
                    </div>
                    <button class="primary-btn" id="add-customer-btn" data-i18n="customers.addCustomer">+ Add
                        Customer</button>
                </div>

                <div class="customers-tabs">
                    <button class="tab-btn active" data-customers-tab="customers"
                        data-i18n="customers.tabs.customers">Customers</button>
                    <button class="tab-btn" data-customers-tab="debts" data-i18n="customers.tabs.debts">Debts</button>
                </div>

                <div class="customers-view" id="customers-view">
                    <div class="search-bar">
                        <input type="search" id="customer-search" placeholder="Search by name or phone"
                            data-i18n-placeholder="customers.searchPlaceholder" />
                    </div>

                    <div class="data-empty" id="customers-empty" hidden style="display: none !important;">
                        <!-- Hidden: No customers message removed per user request -->
                    </div>

                    <div class="cards" id="customer-list" aria-live="polite"></div>
                </div>

                <div class="debts-view" id="debts-view" hidden>
                    <div class="debts-summary">
                        <div class="debt-stat-card liquid-glass">
                            <div class="debt-stat-icon">üí∞</div>
                            <div>
                                <div class="debt-stat-value" id="debt-total-outstanding">‡ß≥0</div>
                                <div class="debt-stat-label" data-i18n="debts.totalOutstanding">Total Outstanding</div>
                            </div>
                        </div>
                        <div class="debt-stat-card liquid-glass">
                            <div class="debt-stat-icon">‚è≥</div>
                            <div>
                                <div class="debt-stat-value" id="debt-total-due-soon">‡ß≥0</div>
                                <div class="debt-stat-label" data-i18n="debts.totalDueSoon">Due Soon</div>
                            </div>
                        </div>
                        <div class="debt-stat-card liquid-glass">
                            <div class="debt-stat-icon">‚ö†Ô∏è</div>
                            <div>
                                <div class="debt-stat-value" id="debt-total-overdue">‡ß≥0</div>
                                <div class="debt-stat-label" data-i18n="debts.totalOverdue">Overdue</div>
                            </div>
                        </div>
                        <div class="debt-stat-card liquid-glass">
                            <div class="debt-stat-icon">‚úÖ</div>
                            <div>
                                <div class="debt-stat-value" id="debt-total-settled">‡ß≥0</div>
                                <div class="debt-stat-label" data-i18n="debts.totalSettled">Settled</div>
                            </div>
                        </div>
                    </div>

                    <div class="search-bar">
                        <input type="search" id="debt-search" placeholder="Search by customer or note"
                            data-i18n-placeholder="debts.searchPlaceholder" />
                    </div>

                    <div class="debt-filters">
                        <button class="filter-btn active" data-filter="all" data-i18n="debts.filterAll">All</button>
                        <button class="filter-btn" data-filter="open" data-i18n="debts.filterOpen">Open</button>
                        <button class="filter-btn" data-filter="dueSoon" data-i18n="debts.filterDueSoon">Due
                            Soon</button>
                        <button class="filter-btn" data-filter="overdue"
                            data-i18n="debts.filterOverdue">Overdue</button>
                        <button class="filter-btn" data-filter="settled"
                            data-i18n="debts.filterSettled">Settled</button>
                    </div>

                    <div class="data-empty" id="debt-empty" hidden>
                        <div class="empty-state">
                            <div class="empty-icon">üí∏</div>
                            <p data-i18n="debts.empty">No debts found. Add a customer or record a new debt.</p>
                        </div>
                    </div>

                    <div class="cards" id="debt-list" aria-live="polite"></div>
                </div>
            </section>

            <section class="panel" id="panel-bills" aria-label="Make Bills">
                <div class="panel-header">
                    <div>
                        <h1 data-i18n="bills.title">Billing & Invoicing</h1>
                        <p class="panel-subtitle" data-i18n="bills.subtitle">Create bills, invoices, and track payments
                        </p>
                    </div>
                    <button class="primary-btn" id="new-bill-btn" data-i18n="bills.newBill">+ New Bill</button>
                </div>

                <!-- Bills Quick Stats -->
                <div class="bills-stats-container">
                    <div class="bill-stat-card">
                        <div class="stat-icon" style="background: rgba(34, 197, 94, 0.15); color: #16a34a;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <rect x="6" y="3" width="12" height="18" rx="2"></rect>
                                <path d="M9 8h6M9 12h6M9 16h4" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="bills-total-count">0</div>
                            <div class="stat-label" data-i18n="bills.totalBills">Total Bills</div>
                        </div>
                    </div>
                    <div class="bill-stat-card">
                        <div class="stat-icon" style="background: rgba(34, 197, 94, 0.15); color: #16a34a;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M20 6L9 17l-5-5"></path>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="bills-paid-count">0</div>
                            <div class="stat-label" data-i18n="bills.paidBills">Paid</div>
                        </div>
                    </div>
                    <div class="bill-stat-card">
                        <div class="stat-icon" style="background: rgba(251, 191, 36, 0.15); color: #d97706;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M12 6v6l4 2"></path>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="bills-pending-count">0</div>
                            <div class="stat-label" data-i18n="bills.pendingBills">Pending</div>
                        </div>
                    </div>
                    <div class="bill-stat-card">
                        <div class="stat-icon" style="background: rgba(239, 68, 68, 0.15); color: #dc2626;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path
                                    d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                                </path>
                                <line x1="12" y1="9" x2="12" y2="13"></line>
                                <line x1="12" y1="17" x2="12.01" y2="17"></line>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="bills-overdue-count">0</div>
                            <div class="stat-label" data-i18n="bills.overdueBills">Overdue</div>
                        </div>
                    </div>
                </div>

                <!-- Search and Filters -->
                <div class="search-bar">
                    <input type="search" id="bill-search" placeholder="Search bills by customer, invoice number..."
                        data-i18n-placeholder="bills.searchPlaceholder" />
                </div>

                <div class="bill-filters">
                    <button class="filter-btn active" data-filter="all" data-i18n="bills.filterAll">All</button>
                    <button class="filter-btn" data-filter="paid" data-i18n="bills.filterPaid">Paid</button>
                    <button class="filter-btn" data-filter="pending" data-i18n="bills.filterPending">Pending</button>
                    <button class="filter-btn" data-filter="overdue" data-i18n="bills.filterOverdue">Overdue</button>
                </div>

                <div class="data-empty" id="bills-empty" hidden>
                    <div class="empty-state">
                        <div class="empty-icon">üìÑ</div>
                        <p data-i18n="bills.empty">No bills yet. Create your first bill.</p>
                        <button class="primary-btn" id="empty-new-bill-btn" data-i18n="bills.newBill">+ New
                            Bill</button>
                    </div>
                </div>

                <div class="cards" id="bills-list" aria-live="polite"></div>
            </section>

            <section class="panel" id="panel-ai" aria-label="AI Agent">
                <div class="panel-header">
                    <div>
                        <h1 data-i18n="ai.title">AI Agent</h1>
                        <p class="panel-subtitle" data-i18n="ai.subtitle">Calm Bangla assistant for debt, tasks, and
                            notes</p>
                    </div>
                </div>

                <!-- AI Tools Tabs -->
                <div class="ai-tools-tabs">
                    <button class="ai-tab-btn active" data-ai-tab="prochat">Optichain Pro Chat</button>
                    <button class="ai-tab-btn" data-ai-tab="chat" data-i18n="ai.chat">AI Agent</button>
                    <button class="ai-tab-btn" data-ai-tab="cardgen" data-i18n="ai.cardGenerator">Card
                        Generator</button>
                </div>

                <!-- Optichain Pro Chat -->
                <div class="ai-tool-panel active" id="ai-prochat-panel">
                    <div class="prochat-shell">
                        <div class="prochat-hero">
                            <div class="prochat-orb"></div>
                            <h2 class="prochat-title">Optichain Pro Chat</h2>
                            <p class="prochat-subtitle">
                                DeepSeek-first chat for quick answers and actions.
                            </p>
                        </div>

                        <div class="prochat-usage" aria-live="polite">
                            <div class="prochat-usage-plan">
                                <span class="prochat-usage-label">Plan</span>
                                <strong id="prochat-usage-plan">Free</strong>
                            </div>
                            <div class="prochat-usage-meter">
                                <div class="prochat-usage-row">
                                    <span>Usage</span>
                                    <span id="prochat-usage-count">0/0</span>
                                </div>
                                <div class="prochat-usage-bar">
                                    <span id="prochat-usage-bar"></span>
                                </div>
                                <span class="prochat-usage-hint" id="prochat-usage-hint">Resets monthly</span>
                            </div>
                            <span class="prochat-noapi-badge" id="prochat-noapi-badge">No API</span>
                        </div>

                        <div class="prochat-lock" id="prochat-lock" hidden>
                            <div class="prochat-lock-card">
                                <h3>Optichain Pro Chat is locked</h3>
                                <p>Upgrade to Max or Ultra to unlock 100 chats per month.</p>
                                <button type="button" class="support-btn-new upgrade upgrade-plan-btn">
                                    <span class="title-en">Upgrade Plan</span>
                                    <span class="title-bn">‡¶Ü‡¶™‡¶ó‡ßç‡¶∞‡ßá‡¶° ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®</span>
                                </button>
                            </div>
                        </div>

                        <div class="prochat-messages" id="prochat-messages">
                            <div class="prochat-empty">
                                <p>Ask anything to start chatting.</p>
                            </div>
                        </div>

                        <div class="prochat-input-bar">
                            <button class="prochat-add-btn" id="prochat-add-btn" aria-label="Add">+</button>
                            <div class="prochat-input-wrap">
                                <span class="prochat-input-icon">üåê</span>
                                <input type="text" id="prochat-input" placeholder="Message Optichain Pro Chat..." />
                            </div>
                            <button class="prochat-send-btn" id="prochat-send-btn" aria-label="Send">
                                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="22" y1="2" x2="11" y2="13"></line>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Debt Card Generator -->
                <div class="ai-tool-panel" id="ai-cardgen-panel">
                    <div class="card-generator-container">
                        <div class="card-generator-header">
                            <div class="card-generator-title">
                                <span class="card-generator-badge" data-i18n="ai.cardBadge">Studio</span>
                                <h2 data-i18n="ai.debtCardTitle">Debt Card Generator</h2>
                                <p class="settings-muted" data-i18n="ai.debtCardHint">Build polished reminder cards with
                                    live preview and pro templates.</p>
                            </div>
                            <div class="card-generator-pills">
                                <span class="generator-pill" data-i18n="ai.cardGenPillAuto">Auto-fill</span>
                                <span class="generator-pill" data-i18n="ai.cardGenPillPreview">Live Preview</span>
                                <span class="generator-pill" data-i18n="ai.cardGenPillShare">Share Ready</span>
                            </div>
                        </div>

                        <div class="card-generator-grid">
                            <form class="card-gen-form" id="debt-card-form">
                                <div class="card-gen-section">
                                    <div class="card-gen-section-title" data-i18n="ai.cardSectionCustomer">Customer
                                        Details</div>
                                    <div class="card-gen-grid">
                                        <label>
                                            <span data-i18n="ai.selectCustomer">Select Customer</span>
                                            <select name="selectedCustomer" id="card-customer-select">
                                                <option value="">-- Select a customer --</option>
                                            </select>
                                        </label>

                                        <label>
                                            <span data-i18n="ai.customerNameField">Customer Name (or enter
                                                manually)</span>
                                            <input type="text" name="customerName" placeholder="Enter customer name" />
                                        </label>

                                        <label>
                                            <span data-i18n="ai.debtAmount">Debt Amount (‡ß≥)</span>
                                            <input type="number" name="debtAmount" placeholder="1000" min="1"
                                                required />
                                        </label>

                                        <label>
                                            <span data-i18n="ai.dueDate">Due Date</span>
                                            <input type="date" name="dueDate" />
                                        </label>
                                    </div>
                                </div>

                                <div class="card-gen-section">
                                    <div class="card-gen-section-title" data-i18n="ai.cardSectionPayment">Shop & Payment
                                    </div>
                                    <div class="card-gen-grid">
                                        <label>
                                            <span data-i18n="ai.shopName">Shop Name</span>
                                            <input type="text" name="shopName" placeholder="Your shop name" />
                                        </label>

                                        <label>
                                            <span data-i18n="ai.selectLogo">Select Shop Logo</span>
                                            <select name="selectedLogo" id="card-logo-select">
                                                <option value="">-- Select a logo (optional) --</option>
                                            </select>
                                        </label>

                                        <label>
                                            <span data-i18n="ai.paymentMethod">Payment Method</span>
                                            <select name="paymentMethod">
                                                <option value="bKash">bKash</option>
                                                <option value="Nagad">Nagad</option>
                                                <option value="Rocket">Rocket</option>
                                                <option value="Cash">Cash</option>
                                                <option value="Bank">Bank Transfer</option>
                                            </select>
                                        </label>

                                        <label>
                                            <span data-i18n="ai.paymentNumber">Payment Number/Details</span>
                                            <input type="text" name="paymentNumber" placeholder="01XXXXXXXXX" />
                                        </label>
                                    </div>
                                </div>

                                <div class="card-gen-section">
                                    <div class="card-gen-section-title" data-i18n="ai.cardSectionStyle">Style & Message
                                    </div>
                                    <div class="card-gen-grid">
                                        <label class="span-2">
                                            <span data-i18n="ai.cardStyle">Card Style</span>
                                            <div class="card-style-picker">
                                                <input type="radio" name="cardStyle" value="classic" id="style-classic"
                                                    checked />
                                                <label for="style-classic" class="card-style-option">
                                                    <span class="style-title" data-i18n="ai.styleClassic">Classic</span>
                                                    <span class="style-sub">
                                                        <span class="title-en">Gradient</span>
                                                        <span class="title-bn">‡¶ó‡ßç‡¶∞‡ßá‡¶°‡¶ø‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü</span>
                                                    </span>
                                                </label>

                                                <input type="radio" name="cardStyle" value="modern" id="style-modern" />
                                                <label for="style-modern" class="card-style-option">
                                                    <span class="style-title" data-i18n="ai.styleModern">Modern</span>
                                                    <span class="style-sub">
                                                        <span class="title-en">Bold</span>
                                                        <span class="title-bn">‡¶¨‡ßã‡¶≤‡ßç‡¶°</span>
                                                    </span>
                                                </label>

                                                <input type="radio" name="cardStyle" value="minimal"
                                                    id="style-minimal" />
                                                <label for="style-minimal" class="card-style-option">
                                                    <span class="style-title" data-i18n="ai.styleMinimal">Minimal</span>
                                                    <span class="style-sub">
                                                        <span class="title-en">Clean</span>
                                                        <span class="title-bn">‡¶∏‡¶ø‡¶Æ‡ßç‡¶™‡¶≤</span>
                                                    </span>
                                                </label>
                                            </div>
                                        </label>

                                        <label class="span-2">
                                            <span data-i18n="ai.cardColor">Card Color</span>
                                            <div class="color-picker">
                                                <input type="radio" name="cardColor" value="#ff6b6b" id="color1"
                                                    checked />
                                                <label for="color1" class="color-option"
                                                    style="background: #ff6b6b;"></label>

                                                <input type="radio" name="cardColor" value="#4ecdc4" id="color2" />
                                                <label for="color2" class="color-option"
                                                    style="background: #4ecdc4;"></label>

                                                <input type="radio" name="cardColor" value="#45b7d1" id="color3" />
                                                <label for="color3" class="color-option"
                                                    style="background: #45b7d1;"></label>

                                                <input type="radio" name="cardColor" value="#f9ca24" id="color4" />
                                                <label for="color4" class="color-option"
                                                    style="background: #f9ca24;"></label>

                                                <input type="radio" name="cardColor" value="#6c5ce7" id="color5" />
                                                <label for="color5" class="color-option"
                                                    style="background: #6c5ce7;"></label>

                                                <input type="radio" name="cardColor" value="#a29bfe" id="color6" />
                                                <label for="color6" class="color-option"
                                                    style="background: #a29bfe;"></label>
                                            </div>
                                        </label>

                                        <label class="span-2">
                                            <span data-i18n="ai.customMessage">Custom Message (optional)</span>
                                            <textarea name="customMessage" rows="2"
                                                placeholder="Please pay at your earliest convenience..."></textarea>
                                        </label>
                                        <div class="message-presets span-2">
                                            <button type="button" class="message-preset-btn"
                                                data-message="Please pay at your earliest convenience. Thank you!"
                                                data-message-bn="‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡¶Æ‡¶§‡ßã ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶!">
                                                <span class="title-en">Gentle</span>
                                                <span class="title-bn">‡¶®‡¶∞‡¶Æ</span>
                                            </button>
                                            <button type="button" class="message-preset-btn"
                                                data-message="Your payment is due. Please settle the balance today."
                                                data-message-bn="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶ú‡¶á ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®‡•§">
                                                <span class="title-en">Due Today</span>
                                                <span class="title-bn">‡¶Ü‡¶ú ‡¶¨‡¶æ‡¶ï‡¶ø</span>
                                            </button>
                                            <button type="button" class="message-preset-btn"
                                                data-message="This is a reminder about your outstanding payment. Kindly clear it soon."
                                                data-message-bn="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶ï‡ßá‡¶Ø‡¶º‡¶æ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∞‡¶ø‡¶Æ‡¶æ‡¶á‡¶®‡ßç‡¶°‡¶æ‡¶∞‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®‡•§">
                                                <span class="title-en">Reminder</span>
                                                <span class="title-bn">‡¶∞‡¶ø‡¶Æ‡¶æ‡¶á‡¶®‡ßç‡¶°‡¶æ‡¶∞</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="card-gen-actions">
                                    <button type="submit" class="primary-btn" data-i18n="ai.generateCard">Generate
                                        Card</button>
                                </div>
                            </form>

                            <div class="card-preview card-preview-pro" id="debt-card-preview" hidden>
                                <h3 data-i18n="ai.preview">Preview</h3>
                                <div class="generated-debt-card" id="generated-card-content"></div>
                                <div class="card-actions">
                                    <button class="secondary-btn" id="download-debt-card-png-btn"
                                        data-i18n="ai.downloadPng">Download PNG</button>
                                    <button class="secondary-btn" id="download-debt-card-pdf-btn"
                                        data-i18n="ai.downloadPdf">Download PDF</button>
                                    <button class="secondary-btn" id="share-debt-card-btn" data-i18n="ai.shareCard">üì§
                                        Share</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI Chat -->
                <div class="ai-tool-panel" id="ai-chat-panel">
                    <div class="ai-agent-ui-modern">
                        <!-- Top Navigation -->
                        <div class="ai-nav-modern">
                            <button class="ai-nav-menu" id="ai-nav-menu" aria-label="Menu">‚ò∞</button>
                            <button class="ai-nav-settings" id="ai-nav-settings" aria-label="Settings">‚öô</button>
                        </div>

                        <!-- Greeting Section -->
                        <div class="ai-greeting-modern">
                            <h2 class="ai-greeting-name" id="ai-greeting-name">
                                <span class="title-en">Hello, <span id="ai-buddy-name-display">Assistant</span>!</span>
                                <span class="title-bn">‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã, <span id="ai-buddy-name-display-bn">‡¶∏‡¶π‡¶æ‡¶Ø‡¶º‡¶ï</span>!</span>
                            </h2>
                            <p class="ai-greeting-question" data-i18n="ai.greetingQuestion">How can I help you today?
                            </p>
                        </div>

                        <div class="ai-usage-strip" aria-live="polite">
                            <div class="ai-usage-plan">
                                <span class="ai-usage-label" data-i18n="ai.usagePlanLabel">Plan</span>
                                <strong id="ai-usage-plan">Free</strong>
                            </div>
                            <div class="ai-usage-meter">
                                <div class="ai-usage-meter-row">
                                    <span data-i18n="ai.usageLabel">AI usage</span>
                                    <span id="ai-usage-count">0/30 today</span>
                                </div>
                                <div class="ai-usage-bar">
                                    <span id="ai-usage-bar"></span>
                                </div>
                                <span class="ai-usage-hint" id="ai-usage-hint">Resets daily</span>
                            </div>
                            <span class="ai-noapi-badge" data-i18n="ai.noApiBadge">No API</span>
                        </div>

                        <!-- AI Buddy (Reactive Orb) -->
                        <div class="ai-buddy-container">
                            <div class="ai-buddy-orb" id="ai-buddy-orb">
                                <div class="ai-buddy-eyes">
                                    <div class="ai-buddy-eye left"></div>
                                    <div class="ai-buddy-eye right"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Suggested Actions -->
                        <div class="ai-suggestions-modern" id="ai-shortcuts">
                            <button class="ai-suggestion-btn" data-suggestion-en="Add debt for Rahim 500 taka"
                                data-suggestion-bn="‡¶∞‡¶æ‡¶π‡¶ø‡¶Æ ‡ß´‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßã">
                                <span class="suggestion-icon">üßæ</span>
                                <span class="title-en">Add a debt</span>
                                <span class="title-bn">‡¶¨‡¶æ‡¶ï‡¶ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßã</span>
                            </button>
                            <button class="ai-suggestion-btn"
                                data-suggestion-en="Add task tomorrow 9am: payment reminder"
                                data-suggestion-bn="‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ‡¶ï‡¶æ‡¶≤ ‡¶∏‡¶ï‡¶æ‡¶≤ ‡ßØ‡¶ü‡¶æ‡ßü ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡¶ø‡¶Æ‡¶æ‡¶á‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßã">
                                <span class="suggestion-icon">‚úÖ</span>
                                <span class="title-en">Add a task</span>
                                <span class="title-bn">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßã</span>
                            </button>
                            <button class="ai-suggestion-btn" data-suggestion-en="Summarize today's tasks"
                                data-suggestion-bn="‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡ßá‡¶™‡ßá ‡¶¨‡¶≤‡ßã">
                                <span class="suggestion-icon">üóÇ</span>
                                <span class="title-en">Summarize tasks</span>
                                <span class="title-bn">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂</span>
                            </button>
                            <button class="ai-suggestion-btn" data-suggestion-en="Change theme to cozy dark"
                                data-suggestion-bn="‡¶•‡¶ø‡¶Æ ‡¶ï‡¶ú‡¶ø ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶ï‡¶∞‡ßá ‡¶¶‡¶æ‡¶ì">
                                <span class="suggestion-icon">üé®</span>
                                <span class="title-en">Change theme</span>
                                <span class="title-bn">‡¶•‡¶ø‡¶Æ ‡¶¨‡¶¶‡¶≤‡¶æ‡¶ì</span>
                            </button>
                        </div>

                        <!-- Input Bar -->
                        <div class="ai-input-bar-modern">
                            <button class="ai-input-add-btn" id="ai-input-add-btn" aria-label="Add">+</button>
                            <input type="text" id="ai-input" class="ai-input-modern" placeholder="Ask me anything..."
                                data-i18n-placeholder="ai.placeholder" />
                            <button class="ai-send-btn-modern" id="ai-send-btn" aria-label="Send">
                                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="22" y1="2" x2="11" y2="13"></line>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                </svg>
                            </button>
                            <button class="ai-voice-btn-modern" id="ai-voice-btn" data-voice-target="ai"
                                aria-label="Voice Input">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                                    <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                                    <line x1="12" y1="19" x2="12" y2="23"></line>
                                    <line x1="8" y1="23" x2="16" y2="23"></line>
                                </svg>
                            </button>
                        </div>

                        <!-- Usage Limit Message (shown when limit reached) -->
                        <div id="ai-limit-message-modern" class="ai-limit-message-modern" hidden>
                            <div class="ai-limit-content">
                                <div class="ai-limit-icon-modern">üåø</div>
                                <div>
                                    <h3 data-i18n="ai.limitTitleFree">Your free AI limit is finished for today</h3>
                                    <p data-i18n="ai.limitBodyFree">Upgrade to Max or Ultra for more calm, Bangla-first
                                        AI support.</p>
                                </div>
                                <button class="ai-limit-cta-modern" id="ai-upgrade-btn" data-i18n="ai.limitCta">See
                                    Plans</button>
                            </div>
                        </div>

                        <!-- Chat Messages (hidden by default, shown when conversation starts) -->
                        <div class="ai-chat-messages-modern" id="ai-messages" hidden>
                            <!-- Messages will be dynamically added here -->
                        </div>
                    </div>
                </div>
            </section>

            <section class="panel" id="panel-notes" aria-label="Notes and Tasks">
                <!-- Tasks / Notes Tabs -->
                <div class="notes-tasks-tabs">
                    <button class="tab-btn-nt" data-tab="tasks">
                        <span class="title-en">Tasks</span>
                        <span class="title-bn">‡¶ï‡¶æ‡¶ú</span>
                    </button>
                    <button class="tab-btn-nt active" data-tab="notes">
                        <span class="title-en">Notes</span>
                        <span class="title-bn">‡¶®‡ßã‡¶ü</span>
                    </button>
                </div>
                <div id="tasks-section" hidden>
                    <div class="habit-tracker-v2">
                        <!-- Horizontal Calendar Strip -->
                        <div class="calendar-strip" id="task-calendar-strip">
                            <!-- JS will render days here -->
                        </div>

                        <div class="todo-header-clean">
                            <div class="todo-header-left">
                                <h1 class="todo-title-bold">To-Do Today</h1>
                                <button class="habit-add-pill" id="add-habit-btn">
                                    <span class="pill-icon">üìÖ</span>
                                    <span>New habit</span>
                                </button>
                            </div>
                        </div>

                        <!-- Habit-style List -->
                        <div class="habit-list-container" id="habit-tasks-list">
                            <!-- Habits will be rendered here -->
                        </div>
                        <button class="todo-add-fab" id="todo-add-btn" aria-label="Add task">
                            <span class="todo-add-icon">+</span>
                            <span class="todo-add-label">Add task</span>
                        </button>
                    </div>
                </div>

                <div id="notes-section" hidden>
                    <div class="notes-app-v3">
                        <!-- Tabs -->
                        <div class="notes-tabs-modern">
                            <button class="notes-tab-btn active" data-tab="all">All Notes</button>
                            <button class="notes-tab-btn" data-tab="folders">Folders</button>
                        </div>

                        <!-- All Notes Grid -->
                        <div id="notes-grid-view">
                            <div class="notes-masonry" id="notes-grid-modern">
                                <!-- JS renders cards here -->
                            </div>
                        </div>

                        <!-- Folders Grid -->
                        <div id="folders-grid-view" style="display: none;">
                            <div class="folders-grid">
                                <div class="folder-tile" data-folder="my-notes">
                                    <span class="folder-icon">üìÑ</span>
                                    <span class="folder-name">My Notes</span>
                                </div>
                                <div class="folder-tile" data-folder="todo-list">
                                    <span class="folder-icon">‚úì</span>
                                    <span class="folder-name">To-do list</span>
                                </div>
                                <div class="folder-tile" data-folder="journal">
                                    <span class="folder-icon">üñãÔ∏è</span>
                                    <span class="folder-name">Journal</span>
                                </div>
                                <div class="folder-tile" data-folder="projects">
                                    <span class="folder-icon">üìÇ</span>
                                    <span class="folder-name">Projects</span>
                                </div>
                                <div class="folder-tile" data-folder="reading">
                                    <span class="folder-icon">üìñ</span>
                                    <span class="folder-name">Reading List</span>
                                </div>
                            </div>
                        </div>

                        <!-- FAB -->
                        <button class="notes-fab-new" id="fab-add-note">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2.5">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Premium Panel -->
            <section class="panel" id="panel-premium" aria-label="Pricing">
                <div class="premium-panel-new pricing-screen">
                    <div class="pricing-hero-new">
                        <div class="pricing-hero-copy">
                            <p class="pricing-kicker" data-i18n="pricing.kicker">Simple, calm pricing</p>
                            <h1 class="pricing-title-modern" data-i18n="pricing.title">Choose the plan that fits</h1>
                            <p class="pricing-subtitle-modern" data-i18n="pricing.subtitle">Annual saves more, monthly
                                stays
                                light. Fully mobile-ready.</p>
                        </div>
                        <div class="pricing-status-card" id="premium-current-status">
                            <div class="status-row">
                                <span data-i18n="pricing.currentLabel">Current plan</span>
                                <strong id="premium-current-plan">Free</strong>
                            </div>
                            <div class="status-row">
                                <span data-i18n="pricing.aiUsageLabel">AI usage</span>
                                <strong id="premium-current-usage">0/30 today</strong>
                            </div>
                            <div class="status-row">
                                <span>Days left</span>
                                <strong id="premium-days-left">‚Äî</strong>
                            </div>
                            <p class="status-hint" id="premium-current-hint"></p>
                        </div>
                    </div>

                    <div class="pricing-toggle-row">
                        <div class="pricing-billing-toggle" role="group" aria-label="Billing frequency">
                            <button class="billing-toggle-btn active" data-billing-toggle="annual">Annual</button>
                            <button class="billing-toggle-btn" data-billing-toggle="monthly">Monthly</button>
                        </div>
                        <div class="pricing-save-pill">Save 25% on annual</div>
                    </div>

                    <div class="pricing-support-promo">
                        <span>To buy a subscription coupon, message us on Facebook:</span>
                        <a href="https://www.facebook.com/profile.php?id=61560074175677" target="_blank"
                            rel="noopener noreferrer">facebook.com/profile.php?id=61560074175677</a>
                    </div>

                    <div class="pricing-card-stack" id="pricing-card-stack">
                        <article class="pricing-pill-card" data-billing="all" data-plan-card="free">
                            <header class="pill-card-header">
                                <div>
                                    <p class="pill-plan-label">Free</p>
                                    <p class="pill-plan-note">Kick off with basics</p>
                                </div>
                                <span class="pill-status active" data-i18n="pricing.currentLabel">Active</span>
                            </header>
                            <div class="pill-price-line">
                                <span class="pill-price">‡ß≥0</span>
                                <span class="pill-period">forever</span>
                            </div>
                            <ul class="pill-features">
                                <li class="included">Core baki, bills & tasks</li>
                                <li class="included">AI agent: 20 / month</li>
                                <li class="included">Offline-first data</li>
                                <li class="excluded">Advanced exports</li>
                            </ul>
                            <button class="pill-cta ghost" data-plan-select="free" data-billing-mode="annual">Stay on
                                Free</button>
                        </article>

                        <article class="pricing-pill-card bright" data-billing="annual" data-plan-card="max">
                            <header class="pill-card-header">
                                <div>
                                    <p class="pill-plan-label">Max</p>
                                    <p class="pill-plan-note">Annual ‚Ä¢ Most Flexible</p>
                                </div>
                                <span class="pill-status">Save 27%</span>
                            </header>
                            <div class="pill-price-line">
                                <span class="pill-price">‡ß≥400</span>
                                <span class="pill-period">/year</span>
                            </div>
                            <p class="pill-slashed">‡ß≥550</p>
                            <ul class="pill-features">
                                <li class="included">AI agent: 100 / year</li>
                                <li class="included">Full agent button across app</li>
                                <li class="included">Themes + automation</li>
                                <li class="included">Priority reminders</li>
                            </ul>
                            <div class="pricing-coupon-modern">
                                <input class="coupon-input-modern" id="premium-coupon-max" type="text"
                                    autocapitalize="characters" placeholder="Enter coupon code"
                                    data-i18n-placeholder="pricing.couponPlaceholder" />
                                <button class="coupon-btn-modern" id="premium-activate-max" type="button"
                                    data-i18n="settings.redeemCoupon">Redeem</button>
                            </div>
                            <div class="premium-coupon-feedback" id="premium-feedback-max" aria-live="polite"></div>
                        </article>

                        <article class="pricing-pill-card dark" data-billing="annual" data-plan-card="ultra">
                            <header class="pill-card-header">
                                <div>
                                    <p class="pill-plan-label">Ultra</p>
                                    <p class="pill-plan-note">Annual ‚Ä¢ Unlimited</p>
                                </div>
                                <span class="pill-status popular">Popular</span>
                            </header>
                            <div class="pill-price-line">
                                <span class="pill-price">‡ß≥800</span>
                                <span class="pill-period">/year</span>
                            </div>
                            <ul class="pill-features">
                                <li class="included">AI agent: 200 / year</li>
                                <li class="included">All pro controls unlocked</li>
                                <li class="included">Concierge support</li>
                                <li class="included">Early features access</li>
                            </ul>
                            <div class="pricing-coupon-modern">
                                <input class="coupon-input-modern" id="premium-coupon-ultra" type="text"
                                    autocapitalize="characters" placeholder="Enter coupon code"
                                    data-i18n-placeholder="pricing.couponPlaceholder" />
                                <button class="coupon-btn-modern" id="premium-activate-ultra" type="button"
                                    data-i18n="settings.redeemCoupon">Redeem</button>
                            </div>
                            <div class="premium-coupon-feedback" id="premium-feedback-ultra" aria-live="polite"></div>
                        </article>

                        <article class="pricing-pill-card bright" data-billing="all" data-plan-card="agentic_ultra"
                            data-price-monthly="699" data-price-annual="4299">
                            <header class="pill-card-header">
                                <div>
                                    <p class="pill-plan-label">Agentic Ultra</p>
                                    <p class="pill-plan-note">Monthly or Annual ‚Ä¢ Agent Boost</p>
                                </div>
                                <span class="pill-status popular">New</span>
                            </header>
                            <div class="pill-price-line">
                                <span class="pill-price" data-agentic-ultra-price>‡ß≥699</span>
                                <span class="pill-period" data-agentic-ultra-period>/month</span>
                            </div>
                            <p class="pill-slashed" data-agentic-ultra-alt>‡ß≥4299/year</p>
                            <ul class="pill-features">
                                <li class="included">AI agent: 200 / month (monthly)</li>
                                <li class="included">AI agent: 1000 / year (annual)</li>
                                <li class="included">All pro controls unlocked</li>
                                <li class="included">Priority support & early access</li>
                            </ul>
                            <div class="pricing-coupon-modern">
                                <input class="coupon-input-modern" id="premium-coupon-agentic_ultra" type="text"
                                    autocapitalize="characters" placeholder="Enter coupon code"
                                    data-i18n-placeholder="pricing.couponPlaceholder" />
                                <button class="coupon-btn-modern" id="premium-activate-agentic_ultra" type="button"
                                    data-i18n="settings.redeemCoupon">Redeem</button>
                            </div>
                            <div class="premium-coupon-feedback" id="premium-feedback-agentic_ultra" aria-live="polite">
                            </div>
                        </article>

                        <article class="pricing-pill-card" data-billing="monthly" data-plan-card="nano" hidden>
                            <header class="pill-card-header">
                                <div>
                                    <p class="pill-plan-label">Nano</p>
                                    <p class="pill-plan-note">Monthly starter</p>
                                </div>
                                <span class="pill-status">Light</span>
                            </header>
                            <div class="pill-price-line">
                                <span class="pill-price">‡ß≥60</span>
                                <span class="pill-period">/month</span>
                            </div>
                            <ul class="pill-features">
                                <li class="included">AI agent: 5 / day</li>
                                <li class="included">Manage up to 20 customers</li>
                                <li class="included">Smart reminders</li>
                                <li class="excluded">Priority support</li>
                            </ul>
                            <div class="pricing-coupon-modern">
                                <input class="coupon-input-modern" id="premium-coupon-nano" type="text"
                                    autocapitalize="characters" placeholder="Enter coupon code"
                                    data-i18n-placeholder="pricing.couponPlaceholder" />
                                <button class="coupon-btn-modern" id="premium-activate-nano" type="button"
                                    data-i18n="settings.redeemCoupon">Redeem</button>
                            </div>
                            <div class="premium-coupon-feedback" id="premium-feedback-nano" aria-live="polite"></div>
                        </article>

                        <article class="pricing-pill-card bright" data-billing="monthly" data-plan-card="pro" hidden>
                            <header class="pill-card-header">
                                <div>
                                    <p class="pill-plan-label">Pro</p>
                                    <p class="pill-plan-note">Monthly growth</p>
                                </div>
                                <span class="pill-status popular">Popular</span>
                            </header>
                            <div class="pill-price-line">
                                <span class="pill-price">‡ß≥120</span>
                                <span class="pill-period">/month</span>
                            </div>
                            <ul class="pill-features">
                                <li class="included">AI agent: 100 / month</li>
                                <li class="included">Export + share-ready bills</li>
                                <li class="included">Voice everywhere</li>
                                <li class="included">Team-ready dashboards</li>
                            </ul>
                            <div class="pricing-coupon-modern">
                                <input class="coupon-input-modern" id="premium-coupon-pro" type="text"
                                    autocapitalize="characters" placeholder="Enter coupon code"
                                    data-i18n-placeholder="pricing.couponPlaceholder" />
                                <button class="coupon-btn-modern" id="premium-activate-pro" type="button"
                                    data-i18n="settings.redeemCoupon">Redeem</button>
                            </div>
                            <div class="premium-coupon-feedback" id="premium-feedback-pro" aria-live="polite"></div>
                        </article>
                    </div>

                    <p class="pricing-footnote" data-i18n="pricing.footnote">No paid APIs. Works offline and keeps your
                        data close.</p>
                </div>
            </section>

            <section class="panel" id="panel-settings" aria-label="Settings">
                <!-- New Modern Settings UI -->
                <div class="settings-new">
                    <!-- Header -->
                    <div class="settings-header-new">
                        <h1>
                            <span class="title-en">Settings</span>
                            <span class="title-bn">‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</span>
                        </h1>
                        <p class="settings-subtitle">
                            <span class="title-en">Customize your experience</span>
                            <span class="title-bn">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                        </p>
                    </div>

                    <div class="settings-section-new" id="settings-subscription-overview">
                        <div class="section-header-new">
                            <div class="section-icon-new"
                                style="background: linear-gradient(135deg, #f59e0b, #ec4899);">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white"
                                    stroke-width="2">
                                    <path d="M12 1v22"></path>
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7H14.5a3.5 3.5 0 0 1 0 7H7"></path>
                                </svg>
                            </div>
                            <div class="section-title-new">
                                <h3>Subscription</h3>
                                <p>Current plan and days remaining</p>
                            </div>
                        </div>
                        <div class="section-content-new">
                            <div class="subscription-box-new">
                                <div class="subscription-metrics-new">
                                    <div class="setting-item-new">
                                        <span class="setting-label-new">Current plan</span>
                                        <strong class="setting-value-new" id="settings-current-plan">Free</strong>
                                    </div>
                                    <div class="setting-item-new">
                                        <span class="setting-label-new">Days left</span>
                                        <strong class="setting-value-new" id="settings-days-left">‚Äî</strong>
                                    </div>
                                </div>
                                <div class="renew-box-new" id="settings-renew-box" hidden>
                                    <div class="renew-box-icon" aria-hidden="true">‚è≥</div>
                                    <div class="renew-box-body">
                                        <div class="renew-box-title" id="settings-renew-title">Renews in</div>
                                        <div class="renew-box-value" id="settings-renew-value">‚Äî</div>
                                        <div class="renew-box-sub" id="settings-renew-sub">‚Äî</div>
                                    </div>
                                </div>
                                <p class="support-note-new" id="settings-expiry-note"></p>
                                <div class="subscription-actions-new">
                                    <a href="https://www.facebook.com/profile.php?id=61560074175677" target="_blank"
                                        rel="noopener noreferrer" class="support-btn-new chat">
                                        Buy / Renew coupon on Facebook
                                    </a>
                                    <button type="button" class="support-btn-new upgrade upgrade-plan-btn">
                                        <span class="title-en">Upgrade Plan</span>
                                        <span class="title-bn">‡¶Ü‡¶™‡¶ó‡ßç‡¶∞‡ßá‡¶° ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®</span>
                                    </button>
                                    <button type="button" class="support-btn-new cancel" id="settings-cancel-sub-btn"
                                        hidden>
                                        Cancel subscription
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Settings Grid -->
                    <div class="settings-grid-new">
                        <!-- Profile Section -->

                        <div class="settings-section-new">
                            <div class="section-header-new">
                                <div class="section-icon-new"
                                    style="background: linear-gradient(135deg, #6366f1, #8b5cf6);">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white"
                                        stroke-width="2">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                </div>
                                <div class="section-title-new">
                                    <h3>
                                        <span class="title-en">Shop Profile</span>
                                        <span class="title-bn">‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</span>
                                    </h3>
                                    <p>
                                        <span class="title-en">Your business information</span>
                                        <span class="title-bn">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø</span>
                                    </p>
                                </div>
                            </div>
                            <div class="section-content-new">
                                <div class="profile-upload-new">
                                    <div class="avatar-upload-new" id="settings-shop-logo-preview">
                                        <span id="settings-shop-logo-placeholder">üè™</span>
                                        <input type="file" id="settings-shop-logo-input" accept="image/*" hidden>
                                    </div>
                                    <label for="settings-shop-logo-input" class="upload-btn-new">
                                        <span class="title-en">Change Logo</span>
                                        <span class="title-bn">‡¶≤‡ßã‡¶ó‡ßã ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®</span>
                                    </label>
                                </div>
                                <div class="input-group-new">
                                    <label>
                                        <span class="title-en">Shop Name</span>
                                        <span class="title-bn">‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</span>
                                    </label>
                                    <input type="text" id="settings-shop-name-input" maxlength="80"
                                        placeholder="Your shop name">
                                </div>
                                <div class="input-group-new">
                                    <label>
                                        <span class="title-en">Owner Name</span>
                                        <span class="title-bn">‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</span>
                                    </label>
                                    <input type="text" id="settings-owner-name-input" maxlength="60"
                                        placeholder="Your name">
                                </div>
                                <div class="input-row-new">
                                    <div class="input-group-new">
                                        <label>
                                            <span class="title-en">Phone</span>
                                            <span class="title-bn">‡¶´‡ßã‡¶®</span>
                                        </label>
                                        <input type="tel" id="settings-phone-number" maxlength="15"
                                            placeholder="01XXXXXXXXX">
                                    </div>
                                    <div class="input-group-new">
                                        <label>
                                            <span class="title-en">Payment Number</span>
                                            <span class="title-bn">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</span>
                                        </label>
                                        <input type="tel" id="settings-payment-number" maxlength="15"
                                            placeholder="01XXXXXXXXX">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Appearance Section -->
                        <div class="settings-section-new">
                            <div class="section-header-new">
                                <div class="section-icon-new"
                                    style="background: linear-gradient(135deg, #f59e0b, #ef4444);">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white"
                                        stroke-width="2">
                                        <circle cx="12" cy="12" r="5"></circle>
                                        <line x1="12" y1="1" x2="12" y2="3"></line>
                                        <line x1="12" y1="21" x2="12" y2="23"></line>
                                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                    </svg>
                                </div>
                                <div class="section-title-new">
                                    <h3>
                                        <span class="title-en">Appearance</span>
                                        <span class="title-bn">‡¶ö‡ßá‡¶π‡¶æ‡¶∞‡¶æ</span>
                                    </h3>
                                    <p>
                                        <span class="title-en">Theme, text size & dock</span>
                                        <span class="title-bn">‡¶•‡¶ø‡¶Æ, ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶ì ‡¶°‡¶ï</span>
                                    </p>
                                </div>
                            </div>
                            <div class="section-content-new">
                                <!-- Language -->
                                <div class="setting-item-new">
                                    <span class="setting-label-new">
                                        <span class="title-en">Language</span>
                                        <span class="title-bn">‡¶≠‡¶æ‡¶∑‡¶æ</span>
                                    </span>
                                    <div class="language-toggle-new">
                                        <button type="button" class="lang-btn-new" data-lang="en">EN</button>
                                        <button type="button" class="lang-btn-new active" data-lang="bn">‡¶¨‡¶æ‡¶Ç</button>
                                    </div>
                                </div>

                                <!-- Text Size -->
                                <div class="setting-item-new">
                                    <span class="setting-label-new">
                                        <span class="title-en">Text Size</span>
                                        <span class="title-bn">‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú</span>
                                    </span>
                                    <div class="text-size-new">
                                        <button type="button" class="size-btn-new" data-size="1">A</button>
                                        <button type="button" class="size-btn-new" data-size="2">A</button>
                                        <button type="button" class="size-btn-new active" data-size="3">A</button>
                                        <button type="button" class="size-btn-new" data-size="4">A</button>
                                        <button type="button" class="size-btn-new" data-size="5">A</button>
                                    </div>
                                </div>

                                <!-- Dock Size -->
                                <div class="setting-item-new">
                                    <span class="setting-label-new">
                                        <span class="title-en">Dock Size</span>
                                        <span class="title-bn">‡¶°‡¶ï ‡¶∏‡¶æ‡¶á‡¶ú</span>
                                    </span>
                                    <div class="dock-slider-new">
                                        <input type="range" id="dock-size-range" min="0.6" max="1.15" step="0.01"
                                            value="1" />
                                        <span class="dock-value-new" id="dock-size-value">100%</span>
                                    </div>
                                </div>

                                <!-- UI Size -->
                                <div class="setting-item-new">
                                    <span class="setting-label-new">
                                        <span class="title-en">UI Size</span>
                                        <span class="title-bn">‡¶á‡¶â‡¶Ü‡¶á ‡¶∏‡¶æ‡¶á‡¶ú</span>
                                    </span>
                                    <div class="dock-slider-new">
                                        <input type="range" id="ui-scale-range" min="0.8" max="1.0" step="0.01"
                                            value="1" />
                                        <span class="dock-value-new" id="ui-scale-value">100%</span>
                                    </div>
                                </div>

                                <!-- App View -->
                                <div class="setting-item-new">
                                    <span class="setting-label-new">
                                        <span class="title-en">App View</span>
                                        <span class="title-bn">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶≠‡¶ø‡¶â</span>
                                    </span>
                                    <div class="view-toggle-new">
                                        <button type="button" class="view-btn-new active" data-view="phone">
                                            <span class="title-en">Phone</span>
                                            <span class="title-bn">‡¶´‡ßã‡¶®</span>
                                        </button>
                                        <button type="button" class="view-btn-new" data-view="desktop">
                                            <span class="title-en">Desktop</span>
                                            <span class="title-bn">‡¶°‡ßá‡¶∏‡ßç‡¶ï‡¶ü‡¶™</span>
                                        </button>
                                    </div>
                                </div>

                                <!-- Simple To-Do Mode -->
                                <div class="setting-item-new">
                                    <span class="setting-label-new">
                                        <span class="title-en">Simple To-Do</span>
                                        <span class="title-bn">‡¶∏‡¶π‡¶ú ‡¶ü‡ßÅ-‡¶°‡ßÅ</span>
                                    </span>
                                    <label class="switch-new">
                                        <input type="checkbox" id="simple-todo-toggle">
                                        <span class="slider-new"></span>
                                    </label>
                                </div>

                                <!-- Themes -->
                                <div class="themes-grid-new" id="theme-grid">
                                    <div class="theme-tile-new" data-theme="studio-pro" aria-checked="true">
                                        <div class="theme-preview-new pro"></div>
                                        <span class="theme-label">Pro</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="cozy-ledger" aria-checked="false">
                                        <div class="theme-preview-new cozy"></div>
                                        <span class="theme-label">Cozy</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="clean-business" aria-checked="false">
                                        <div class="theme-preview-new clean"></div>
                                        <span class="theme-label">Clean</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="night-shop" aria-checked="false">
                                        <div class="theme-preview-new night"></div>
                                        <span class="theme-label">Night</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="zen-finance" aria-checked="false">
                                        <div class="theme-preview-new zen"></div>
                                        <span class="theme-label">Zen</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="street-ledger" aria-checked="false">
                                        <div class="theme-preview-new street"></div>
                                        <span class="theme-label">Street</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="classic-paper" aria-checked="false">
                                        <div class="theme-preview-new classic"></div>
                                        <span class="theme-label">Classic</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="midnight-purple" aria-checked="false">
                                        <div class="theme-preview-new midnight-purple"></div>
                                        <span class="theme-label">Midnight</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="sunset-orange" aria-checked="false">
                                        <div class="theme-preview-new sunset-orange"></div>
                                        <span class="theme-label">Sunset</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Methods Section -->
                        <div class="settings-section-new">
                            <div class="section-header-new">
                                <div class="section-icon-new"
                                    style="background: linear-gradient(135deg, #10b981, #059669);">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white"
                                        stroke-width="2">
                                        <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                        <line x1="1" y1="10" x2="23" y2="10"></line>
                                    </svg>
                                </div>
                                <div class="section-title-new">
                                    <h3>
                                        <span class="title-en">Payment Methods</span>
                                        <span class="title-bn">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø</span>
                                    </h3>
                                    <p>
                                        <span class="title-en">Enable payment options</span>
                                        <span class="title-bn">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶™‡¶∂‡¶® ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                                    </p>
                                </div>
                            </div>
                            <div class="section-content-new">
                                <div class="payment-item-new">
                                    <div class="payment-info-new">
                                        <span class="payment-name-new">bKash</span>
                                        <span class="payment-desc-new">Mobile Banking</span>
                                    </div>
                                    <label class="switch-new">
                                        <input type="checkbox" id="payment-toggle-bkash">
                                        <span class="slider-new"></span>
                                    </label>
                                </div>
                                <div class="payment-item-new">
                                    <div class="payment-info-new">
                                        <span class="payment-name-new">Nagad</span>
                                        <span class="payment-desc-new">Mobile Banking</span>
                                    </div>
                                    <label class="switch-new">
                                        <input type="checkbox" id="payment-toggle-nagad">
                                        <span class="slider-new"></span>
                                    </label>
                                </div>
                                <div class="payment-item-new">
                                    <div class="payment-info-new">
                                        <span class="payment-name-new">Rocket</span>
                                        <span class="payment-desc-new">Mobile Banking</span>
                                    </div>
                                    <label class="switch-new">
                                        <input type="checkbox" id="payment-toggle-rocket">
                                        <span class="slider-new"></span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Data Backup & Transfer -->
                        <div class="settings-section-new">
                            <div class="section-header-new">
                                <div class="section-icon-new"
                                    style="background: linear-gradient(135deg, #0ea5e9, #0284c7);">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white"
                                        stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="7 10 12 15 17 10"></polyline>
                                        <line x1="12" y1="15" x2="12" y2="3"></line>
                                    </svg>
                                </div>
                                <div class="section-title-new">
                                    <h3 data-i18n="settings.dataTitle">Data Backup & Transfer</h3>
                                    <p data-i18n="settings.dataHint">Export your data as JSON to backup or transfer
                                        to
                                        another device. Import to restore your data.</p>
                                </div>
                            </div>
                            <div class="section-content-new">
                                <div class="support-buttons-new">
                                    <button type="button" class="support-btn-new export" id="export-data-btn">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                            <polyline points="7 10 12 15 17 10"></polyline>
                                            <line x1="12" y1="15" x2="12" y2="3"></line>
                                        </svg>
                                        <span data-i18n="settings.exportData">Export JSON</span>
                                    </button>
                                    <label class="support-btn-new import" for="import-data-input">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                            <polyline points="17 8 12 3 7 8"></polyline>
                                            <line x1="12" y1="3" x2="12" y2="15"></line>
                                        </svg>
                                        <span data-i18n="settings.importData">Import JSON</span>
                                    </label>
                                </div>
                                <input type="file" id="import-data-input" accept=".json,application/json" hidden>
                                <p id="data-status" class="data-status" role="status"></p>
                            </div>
                        </div>

                        <!-- Monthly Stats Section -->
                        <div class="settings-section-new">
                            <div class="section-header-new">
                                <div class="section-icon-new"
                                    style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white"
                                        stroke-width="2">
                                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                        <line x1="16" y1="2" x2="16" y2="6"></line>
                                        <line x1="8" y1="2" x2="8" y2="6"></line>
                                        <line x1="3" y1="10" x2="21" y2="10"></line>
                                    </svg>
                                </div>
                                <div class="section-title-new">
                                    <h3>
                                        <span class="title-en">Monthly Stats</span>
                                        <span class="title-bn">‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®</span>
                                    </h3>
                                    <p>
                                        <span class="title-en">Your business overview</span>
                                        <span class="title-bn">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂</span>
                                    </p>
                                </div>
                            </div>
                            <div class="section-content-new">
                                <div class="stats-grid-new">
                                    <div class="stat-card-new">
                                        <span class="stat-icon-new">üí∞</span>
                                        <div class="stat-info-new">
                                            <span class="stat-value-new" id="monthly-total-revenue">‡ß≥0</span>
                                            <span class="stat-label-new">Revenue</span>
                                        </div>
                                    </div>
                                    <div class="stat-card-new">
                                        <span class="stat-icon-new">‚úÖ</span>
                                        <div class="stat-info-new">
                                            <span class="stat-value-new" id="monthly-payments-received">‡ß≥0</span>
                                            <span class="stat-label-new">Received</span>
                                        </div>
                                    </div>
                                    <div class="stat-card-new">
                                        <span class="stat-icon-new">üìÑ</span>
                                        <div class="stat-info-new">
                                            <span class="stat-value-new" id="monthly-bills-generated">0</span>
                                            <span class="stat-label-new">Bills</span>
                                        </div>
                                    </div>
                                    <div class="stat-card-new">
                                        <span class="stat-icon-new">‚è≥</span>
                                        <div class="stat-info-new">
                                            <span class="stat-value-new" id="monthly-pending-amount">‡ß≥0</span>
                                            <span class="stat-label-new">Pending</span>
                                        </div>
                                    </div>
                                </div>
                                <button class="view-wrap-btn-new" id="view-monthly-wrap-btn">
                                    <span class="title-en">View Full Report</span>
                                    <span class="title-bn">‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Support & Subscription Section -->
                    <div class="settings-section-new">
                        <div class="section-header-new">
                            <div class="section-icon-new"
                                style="background: linear-gradient(135deg, #ec4899, #be185d);">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white"
                                    stroke-width="2">
                                    <path
                                        d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                                    </path>
                                </svg>
                            </div>
                            <div class="section-title-new">
                                <h3>
                                    <span class="title-en">Help & Support</span>
                                    <span class="title-bn">‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ì ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</span>
                                </h3>
                                <p>
                                    <span class="title-en">Get help or manage subscription</span>
                                    <span class="title-bn">‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶®‡¶ø‡¶® ‡¶¨‡¶æ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶™‡¶∞‡¶ø‡¶ö‡¶æ‡¶≤‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                                </p>
                            </div>
                        </div>
                        <div class="section-content-new">
                            <div class="support-buttons-new">
                                <a href="https://www.facebook.com/profile.php?id=61560074175677" target="_blank"
                                    rel="noopener noreferrer" class="support-btn-new chat">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path
                                            d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                                        </path>
                                    </svg>
                                    <span>
                                        <span class="title-en">Support Chat</span>
                                        <span class="title-bn">‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü</span>
                                    </span>
                                </a>
                            </div>
                            <p class="support-note-new">
                                <span class="title-en">Need help? Chat with us on Facebook for quick support!</span>
                                <span class="title-bn">‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞? ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶´‡ßá‡¶∏‡¶¨‡ßÅ‡¶ï‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü
                                    ‡¶ï‡¶∞‡ßÅ‡¶®!</span>
                            </p>
                        </div>
                    </div>

                    <!-- Subscription Management (Moved to Bottom) -->
                    <div class="settings-section-new" id="settings-subscription-management">
                        <div class="section-header-new">
                            <div class="section-icon-new"
                                style="background: linear-gradient(135deg, #f59e0b, #ec4899);">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white"
                                    stroke-width="2">
                                    <path d="M12 1v22"></path>
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7H14.5a3.5 3.5 0 0 1 0 7H7"></path>
                                </svg>
                            </div>
                            <div class="section-title-new">
                                <h3>Subscription Status</h3>
                                <p>Plan details & renewal</p>
                            </div>
                        </div>
                        <div class="section-content-new">
                            <div class="subscription-box-new">
                                <div class="subscription-metrics-new">
                                    <div class="setting-item-new">
                                        <span class="setting-label-new">Current plan</span>
                                        <strong class="setting-value-new" id="settings-current-plan">Free</strong>
                                    </div>
                                    <div class="setting-item-new">
                                        <span class="setting-label-new">Days left</span>
                                        <strong class="setting-value-new" id="settings-days-left">‚Äî</strong>
                                    </div>
                                </div>
                                <div class="renew-box-new" id="settings-renew-box" hidden>
                                    <div class="renew-box-icon" aria-hidden="true">‚è≥</div>
                                    <div class="renew-box-body">
                                        <div class="renew-box-title" id="settings-renew-title">Renews in</div>
                                        <div class="renew-box-value" id="settings-renew-value">‚Äî</div>
                                        <div class="renew-box-sub" id="settings-renew-sub">‚Äî</div>
                                    </div>
                                </div>
                                <p class="support-note-new" id="settings-expiry-note"></p>
                                <div class="subscription-actions-new">
                                    <button type="button" class="support-btn-new upgrade upgrade-plan-btn">
                                        <span class="title-en">Upgrade Plan</span>
                                        <span class="title-bn">‡¶Ü‡¶™‡¶ó‡ßç‡¶∞‡ßá‡¶° ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®</span>
                                    </button>
                                    <button type="button" class="support-btn-new cancel" id="settings-cancel-sub-btn"
                                        hidden>
                                        Cancel subscription
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Credits Footer -->
                    <div class="settings-credits-new">
                        <div class="credits-logo">
                            <span class="credits-icon">‚ú®</span>
                            <span class="credits-brand">DebtX</span>
                        </div>
                        <div class="credits-info">
                            <p class="credits-made">Made in Bangladesh , Tested in Canada</p>
                            <p class="credits-founder">Founder: <strong>Sajid Hossain</strong></p>
                        </div>
                        <div class="credits-version">
                            <span>Version 6</span>
                        </div>
                    </div>
                </div>
    </div>
    </section>
    </main>

    </div>

    <dialog class="modal" id="profile-modal" aria-labelledby="profile-modal-title">
        <form class="modal-form" id="profile-form">
            <h2 id="profile-modal-title" data-i18n="modals.profile.title">Edit Profile</h2>
            <label>
                <span data-i18n="modals.profile.name">Name</span>
                <input type="text" name="name" maxlength="60" required />
            </label>
            <label>
                <span data-i18n="modals.profile.email">Email</span>
                <input type="email" name="email" maxlength="120" />
            </label>
            <label>
                <span data-i18n="modals.profile.profilePicture">Profile picture</span>
                <input type="file" name="profilePicture" accept="image/*" />
            </label>
            <label>
                <span data-i18n="modals.profile.extraPhoto">Additional photo</span>
                <input type="file" name="extraPhoto" accept="image/*" />
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="customer-modal" aria-labelledby="customer-modal-title">
        <form class="modal-form" id="customer-form">
            <h2 id="customer-modal-title" data-i18n="modals.customer.title">Add Customer</h2>
            <label>
                <span data-i18n="modals.customer.name">Customer Name</span>
                <input type="text" name="name" required maxlength="60" />
            </label>
            <label>
                <span data-i18n="modals.customer.phone">Phone Number (optional)</span>
                <input type="tel" name="phone" maxlength="15" />
            </label>
            <label>
                <span data-i18n="modals.customer.repayDays">Repayment window (days)</span>
                <input type="number" name="repaymentDays" min="1" max="90" value="7" />
            </label>
            <label>
                <span data-i18n="modals.customer.note">Note</span>
                <textarea name="note" rows="2" maxlength="140"></textarea>
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="debt-modal" aria-labelledby="debt-modal-title">
        <form class="modal-form" id="debt-form">
            <h2 id="debt-modal-title" data-i18n="modals.debt.title">Record Debt</h2>
            <label>
                <span data-i18n="modals.debt.customer">Customer</span>
                <select name="customerId" id="debt-customer-select" required>
                    <option value="" data-i18n="modals.debt.customerPlaceholder">Select customer</option>
                </select>
            </label>
            <label>
                <span data-i18n="modals.debt.amount">Debt Amount (‡ß≥)</span>
                <div style="display: flex; gap: 8px; align-items: center;">
                    <input type="number" name="amount" min="1" step="1" required style="flex: 1;" />
                    <button type="button" class="voice-input-btn" id="debt-voice-btn" data-voice-target="debt"
                        aria-label="Voice Input" title="Voice Input">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                            <line x1="12" y1="19" x2="12" y2="23"></line>
                            <line x1="8" y1="23" x2="16" y2="23"></line>
                        </svg>
                    </button>
                </div>
            </label>
            <label>
                <span data-i18n="modals.debt.description">Description</span>
                <textarea name="description" rows="2" maxlength="140"></textarea>
            </label>
            <label>
                <span data-i18n="modals.debt.date">Date</span>
                <input type="date" name="date" required />
            </label>
            <div class="voice-preview-card" id="debt-voice-preview" hidden>
                <div class="voice-preview-header">
                    <h3 data-i18n="voice.preview.title">Voice preview</h3>
                    <p id="debt-voice-question" data-i18n="voice.preview.confirmQuestion">‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá? Save ‡¶ï‡¶∞‡¶¨‡ßã?</p>
                </div>
                <div class="voice-preview-grid">
                    <div class="voice-preview-field">
                        <span data-i18n="voice.preview.customer">Customer</span>
                        <strong id="debt-preview-customer">‚Äî</strong>
                    </div>
                    <div class="voice-preview-field">
                        <span data-i18n="voice.preview.amount">Amount</span>
                        <strong id="debt-preview-amount">‚Äî</strong>
                    </div>
                    <div class="voice-preview-field">
                        <span data-i18n="voice.preview.type">Type</span>
                        <strong id="debt-preview-type">‡¶¨‡¶æ‡¶ï‡¶ø</strong>
                    </div>
                    <div class="voice-preview-field">
                        <span data-i18n="voice.preview.date">Date</span>
                        <strong id="debt-preview-date">‚Äî</strong>
                    </div>
                    <div class="voice-preview-field span-2">
                        <span data-i18n="voice.preview.note">Note</span>
                        <strong id="debt-preview-note">‚Äî</strong>
                    </div>
                </div>
                <div class="voice-preview-actions">
                    <button type="button" class="secondary-btn" id="debt-voice-edit" data-i18n="voice.preview.edit">Edit
                    </button>
                    <button type="button" class="primary-btn" id="debt-voice-confirm"
                        data-i18n="voice.preview.confirmCta">Confirm save</button>
                </div>
            </div>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="payment-modal" aria-labelledby="payment-modal-title">
        <form class="modal-form" id="payment-form">
            <h2 id="payment-modal-title" data-i18n="modals.payment.title">Record Payment</h2>
            <input type="hidden" name="customerId" />
            <label>
                <span data-i18n="modals.payment.amount">Payment Amount (‡ß≥)</span>
                <input type="number" name="amount" min="1" step="1" required />
            </label>
            <label>
                <span data-i18n="modals.payment.date">Date</span>
                <input type="date" name="date" required />
            </label>
            <label>
                <span data-i18n="modals.payment.note">Note</span>
                <textarea name="note" rows="2" maxlength="140"></textarea>
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="note-modal" aria-labelledby="note-modal-title">
        <form class="modal-form" id="note-form">
            <h2 id="note-modal-title" data-i18n="modals.note.title">New Note</h2>
            <label>
                <span data-i18n="modals.note.titleLabel">Title</span>
                <input type="text" name="title" maxlength="80" required />
            </label>
            <label>
                <span data-i18n="modals.note.color">Color</span>
                <select name="color">
                    <option value="yellow" data-i18n="modals.note.colorYellow">Yellow</option>
                    <option value="green" data-i18n="modals.note.colorGreen">Green</option>
                    <option value="blue" data-i18n="modals.note.colorBlue">Blue</option>
                    <option value="pink" data-i18n="modals.note.colorPink">Pink</option>
                    <option value="gray" data-i18n="modals.note.colorGray">Gray</option>
                </select>
            </label>
            <label>
                <span data-i18n="modals.note.body">Note</span>
                <textarea name="body" rows="4" maxlength="400"></textarea>
            </label>
            <label class="inline-checkbox">
                <input type="checkbox" name="pinned" />
                <span data-i18n="modals.note.pinned">Pin to top</span>
            </label>
            <input type="hidden" name="noteId" />
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="task-modal" aria-labelledby="task-modal-title">
        <form class="modal-form" id="task-form">
            <h2 id="task-modal-title" data-i18n="modals.task.title">Add Task</h2>
            <label>
                <span data-i18n="modals.task.name">Task Name</span>
                <div style="display: flex; gap: 8px; align-items: center;">
                    <input type="text" name="name" maxlength="80" required style="flex: 1;" />
                    <button type="button" class="voice-input-btn" id="task-voice-btn" data-voice-target="task"
                        aria-label="Voice Input" title="Voice Input">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                            <line x1="12" y1="19" x2="12" y2="23"></line>
                            <line x1="8" y1="23" x2="16" y2="23"></line>
                        </svg>
                    </button>
                </div>
            </label>
            <label>
                <span data-i18n="modals.task.type">Category</span>
                <select name="type">
                    <option value="work" data-i18n="modals.task.typeWork">üíº Work</option>
                    <option value="personal" data-i18n="modals.task.typePersonal">üë§ Personal</option>
                    <option value="shopping" data-i18n="modals.task.typeShopping">üõí Shopping</option>
                    <option value="other" data-i18n="modals.task.typeOther">üìù Other</option>
                </select>
            </label>
            <label>
                <span data-i18n="modals.task.priority">Priority</span>
                <select name="priority">
                    <option value="low">üü¢ Low</option>
                    <option value="medium" selected>üü° Medium</option>
                    <option value="high">üî¥ High</option>
                    <option value="urgent">‚ö° Urgent</option>
                </select>
            </label>
            <label>
                <span data-i18n="modals.task.date">Due Date</span>
                <input type="date" name="dueDate" required />
            </label>
            <label>
                <span data-i18n="modals.task.time">Due Time (optional)</span>
                <input type="time" name="dueTime" />
            </label>
            <label>
                <span data-i18n="modals.task.note">Note</span>
                <textarea name="note" rows="3" maxlength="200"></textarea>
            </label>
            <label class="inline-checkbox">
                <input type="checkbox" name="recurring" />
                <span data-i18n="modals.task.recurring">Repeat this task</span>
            </label>
            <label id="recurring-options" style="display: none;">
                <span data-i18n="modals.task.recurringType">Repeat</span>
                <select name="recurringType">
                    <option value="daily">Daily</option>
                    <option value="weekly">Weekly</option>
                    <option value="monthly">Monthly</option>
                </select>
            </label>
            <div class="voice-preview-card" id="task-voice-preview" hidden>
                <div class="voice-preview-header">
                    <h3 data-i18n="voice.preview.title">Voice preview</h3>
                    <p id="task-voice-question" data-i18n="voice.preview.confirmQuestion">Confirm save?</p>
                </div>
                <div class="voice-preview-grid">
                    <div class="voice-preview-field">
                        <span data-i18n="voice.preview.task">Task</span>
                        <strong id="task-preview-title">‚Äî</strong>
                    </div>
                    <div class="voice-preview-field">
                        <span data-i18n="voice.preview.date">Date</span>
                        <strong id="task-preview-date">‚Äî</strong>
                    </div>
                    <div class="voice-preview-field">
                        <span data-i18n="voice.preview.time">Time</span>
                        <strong id="task-preview-time">‚Äî</strong>
                    </div>
                    <div class="voice-preview-field span-2">
                        <span data-i18n="voice.preview.note">Note</span>
                        <strong id="task-preview-note">‚Äî</strong>
                    </div>
                </div>
                <div class="voice-preview-actions">
                    <button type="button" class="secondary-btn" id="task-voice-edit" data-i18n="voice.preview.edit">Edit
                    </button>
                    <button type="button" class="primary-btn" id="task-voice-confirm"
                        data-i18n="voice.preview.confirmCta">Confirm save</button>
                </div>
            </div>
            <input type="hidden" name="taskId" />
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="shop-profile-modal" aria-labelledby="shop-profile-modal-title">
        <form class="modal-form" id="shop-profile-form">
            <h2 id="shop-profile-modal-title" data-i18n="modals.shopProfile.title">Shop Profile</h2>
            <label>
                <span data-i18n="modals.shopProfile.ownerName">Your Name</span>
                <input type="text" name="ownerName" maxlength="60" required />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.shopName">Shop Name</span>
                <input type="text" name="shopName" maxlength="80" required />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.phoneNumber">Phone Number</span>
                <input type="tel" name="phoneNumber" maxlength="15" placeholder="01XXXXXXXXX" />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.shopLogo">Shop Logo/Picture</span>
                <input type="file" name="shopLogo" accept="image/*" />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.yourPhoto">Your Photo</span>
                <input type="file" name="ownerPhoto" accept="image/*" />
            </label>
            <div class="payment-methods-section">
                <h3 data-i18n="modals.shopProfile.paymentMethods">Payment Methods</h3>
                <label class="inline-checkbox">
                    <input type="checkbox" name="useBkash" />
                    <span>bKash</span>
                </label>
                <label class="inline-checkbox">
                    <input type="checkbox" name="useNagad" />
                    <span>Nagad</span>
                </label>
                <label class="inline-checkbox">
                    <input type="checkbox" name="useRocket" />
                    <span>Rocket</span>
                </label>
            </div>
            <label>
                <span data-i18n="modals.shopProfile.bkashNumber">bKash Number</span>
                <input type="tel" name="bkashNumber" maxlength="15" />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.nagadNumber">Nagad Number</span>
                <input type="tel" name="nagadNumber" maxlength="15" />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.rocketNumber">Rocket Number</span>
                <input type="tel" name="rocketNumber" maxlength="15" />
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal bill-modal-enhanced" id="bill-modal" aria-labelledby="bill-modal-title">
        <form class="modal-form" id="bill-form">
            <input type="hidden" name="billId" id="bill-id-input" />
            <div class="modal-header-enhanced">
                <div>
                    <h2 id="bill-modal-title" data-i18n="modals.bill.title">Create Bill / Invoice</h2>
                    <p class="modal-subtitle" data-i18n="modals.bill.subtitle">Generate professional bills for your
                        customers</p>
                </div>
                <button type="button" class="icon-btn modal-close-btn" data-close aria-label="Close">‚úï</button>
            </div>

            <div class="bill-form-grid">
                <label class="enhanced-label">
                    <span data-i18n="modals.bill.customerName">Customer Name</span>
                    <select name="customerId" id="bill-customer-select">
                        <option value="">-- Select Customer or Enter New --</option>
                    </select>
                </label>
                <label class="enhanced-label">
                    <span data-i18n="modals.bill.customerNameManual">Or Enter Customer Name</span>
                    <input type="text" name="customerName" id="bill-customer-name" maxlength="60"
                        placeholder="Enter customer name" />
                </label>
            </div>

            <label class="enhanced-label">
                <span data-i18n="modals.bill.invoiceNumber">Invoice Number (Auto-generated if empty)</span>
                <input type="text" name="invoiceNumber" maxlength="30" placeholder="INV-001" />
            </label>

            <div class="products-section">
                <div class="section-header">
                    <h3 data-i18n="modals.bill.productsTitle">Items / Services</h3>
                    <button type="button" class="add-product-btn-inline" id="add-product-btn-inline">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="16"></line>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                        <span data-i18n="modals.bill.addProduct">Add Item</span>
                    </button>
                </div>
                <div id="bill-products" class="bill-products-container">
                    <div class="bill-product-row">
                        <input type="text" name="productName[]" placeholder="Item/Service name" required />
                        <input type="number" name="productPrice[]" placeholder="Price" min="0" step="0.01" required />
                        <input type="number" name="productQuantity[]" placeholder="Qty" min="1" value="1" required />
                        <input type="number" name="productDiscount[]" placeholder="Discount %" min="0" max="100"
                            step="0.01" value="0" />
                        <button type="button" class="remove-product-btn" aria-label="Remove product">√ó</button>
                    </div>
                </div>
            </div>

            <div class="bill-calculations">
                <div class="calc-row">
                    <span data-i18n="modals.bill.subtotal">Subtotal</span>
                    <strong>‡ß≥<span id="bill-subtotal">0</span></strong>
                </div>
                <div class="calc-row">
                    <label class="inline-label">
                        <span data-i18n="modals.bill.discount">Discount (%)</span>
                        <input type="number" name="totalDiscount" id="bill-total-discount" min="0" max="100" step="0.01"
                            value="0" />
                    </label>
                    <strong>‡ß≥<span id="bill-discount-amount">0</span></strong>
                </div>
                <div class="calc-row">
                    <label class="inline-label">
                        <span data-i18n="modals.bill.tax">Tax (%) <small>(Optional)</small></span>
                        <input type="number" name="tax" id="bill-tax" min="0" step="0.01" value="0" />
                    </label>
                    <strong>‡ß≥<span id="bill-tax-amount">0</span></strong>
                </div>
            </div>

            <div class="bill-total-enhanced">
                <div class="total-label" data-i18n="modals.bill.total">Total Amount</div>
                <div class="total-amount">‡ß≥<span id="bill-total-amount">0</span></div>
            </div>

            <div class="bill-form-grid">
                <label class="enhanced-label">
                    <span data-i18n="modals.bill.dueDate">Due Date</span>
                    <input type="date" name="dueDate" id="bill-due-date" />
                </label>
                <label class="enhanced-label">
                    <span data-i18n="modals.bill.paymentStatus">Payment Status</span>
                    <select name="paymentStatus" id="bill-payment-status">
                        <option value="pending" data-i18n="modals.bill.statusPending">Pending</option>
                        <option value="paid" data-i18n="modals.bill.statusPaid">Paid</option>
                        <option value="partial" data-i18n="modals.bill.statusPartial">Partial</option>
                    </select>
                </label>
            </div>

            <label class="enhanced-label">
                <span data-i18n="modals.bill.notes">Notes / Terms (Optional)</span>
                <textarea name="notes" rows="2" maxlength="200"
                    placeholder="Payment terms, delivery info, etc."></textarea>
            </label>

            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn bill-generate-btn" data-i18n="modals.bill.generateBill">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                    </svg>
                    Generate Bill
                </button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="bill-customize-modal" aria-labelledby="bill-customize-modal-title">
        <div class="modal-form bill-customize-form">
            <div class="modal-header-enhanced">
                <h2 id="bill-customize-modal-title" data-i18n="modals.billCustomize.title">Customize Bill Card</h2>
                <button type="button" class="icon-btn modal-close-btn" data-close aria-label="Close">‚úï</button>
            </div>

            <div class="customize-layout">
                <div class="customize-controls">
                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.theme">Theme</h3>
                        <div class="theme-options">
                            <button type="button" class="theme-option" data-theme="minimal"
                                data-i18n="modals.billCustomize.themeMinimal">Minimal</button>
                            <button type="button" class="theme-option active" data-theme="cozy"
                                data-i18n="modals.billCustomize.themeCozy">Cozy</button>
                            <button type="button" class="theme-option" data-theme="professional"
                                data-i18n="modals.billCustomize.themeProfessional">Professional</button>
                        </div>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.layout">Layout Style</h3>
                        <select id="customize-layout-style">
                            <option value="modern">Modern</option>
                            <option value="classic">Classic</option>
                            <option value="compact">Compact</option>
                        </select>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.colors">Colors</h3>
                        <div class="color-picker-grid">
                            <label>
                                <span>Primary Color</span>
                                <input type="color" id="customize-primary-color" value="#1c8b73" />
                            </label>
                            <label>
                                <span>Accent Color</span>
                                <input type="color" id="customize-accent-color" value="#f2a03d" />
                            </label>
                            <label>
                                <span>Background</span>
                                <input type="color" id="customize-bg-color" value="#ffffff" />
                            </label>
                        </div>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.font">Font</h3>
                        <select id="customize-font">
                            <option value="inter">Inter</option>
                            <option value="roboto">Roboto</option>
                            <option value="opensans">Open Sans</option>
                            <option value="lato">Lato</option>
                        </select>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.spacing">Spacing</h3>
                        <input type="range" id="customize-spacing" min="8" max="24" value="16" />
                        <span id="spacing-value">16px</span>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.border">Border</h3>
                        <label class="inline-checkbox">
                            <input type="checkbox" id="customize-border" checked />
                            <span>Show Border</span>
                        </label>
                        <input type="range" id="customize-border-width" min="0" max="4" value="2" />
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.logo">Shop Logo</h3>
                        <input type="file" id="customize-logo" accept="image/*" />
                        <button type="button" class="secondary-btn" id="remove-logo-btn">Remove Logo</button>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.fontSize">Font Size</h3>
                        <input type="range" id="customize-font-size" min="-4" max="8" value="0" />
                        <span id="font-size-value">0px</span>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.icons">Icons</h3>
                        <label class="inline-checkbox">
                            <input type="checkbox" id="customize-show-icons" checked />
                            <span>Show Icons</span>
                        </label>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.customNotes">Custom Notes</h3>
                        <textarea id="customize-notes" rows="3" maxlength="200"
                            placeholder="Add custom notes or terms"></textarea>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.sections">Section Order</h3>
                        <div id="section-order-list" class="section-order-list"></div>
                    </div>
                </div>

                <div class="customize-preview">
                    <h3 data-i18n="modals.billCustomize.preview">Live Preview</h3>
                    <div id="bill-card-preview" class="bill-card-preview-container"></div>
                    <div class="preview-actions">
                        <button type="button" class="secondary-btn" id="preview-download-png-btn">Download PNG</button>
                        <button type="button" class="secondary-btn" id="preview-download-pdf-btn">Download PDF</button>
                    </div>
                </div>
            </div>

            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="button" class="secondary-btn" id="reset-customize-btn"
                    data-i18n="modals.billCustomize.reset">Reset</button>
                <button type="button" class="primary-btn" id="apply-customize-btn"
                    data-i18n="modals.billCustomize.apply">Apply & Download</button>
            </div>
        </div>
    </dialog>

    <dialog class="modal" id="monthly-wrap-modal" aria-labelledby="monthly-wrap-modal-title">
        <div class="modal-form">
            <h2 id="monthly-wrap-modal-title" data-i18n="modals.monthlyWrap.title">Monthly Summary</h2>
            <div id="monthly-wrap-content">
                <p data-i18n="modals.monthlyWrap.loading">Loading monthly summary...</p>
            </div>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.close">Close</button>
            </div>
        </div>
    </dialog>

    <dialog class="modal" id="trial-popup-modal" aria-labelledby="trial-popup-modal-title">
        <div class="modal-form">
            <div class="trial-popup-header">
                <h2 id="trial-popup-modal-title">
                    <span class="title-en">üéâ Free Trial Activated!</span>
                    <span class="title-bn">üéâ ‡¶´‡ßç‡¶∞‡¶ø ‡¶ü‡ßç‡¶∞‡¶æ‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º!</span>
                </h2>
            </div>
            <div class="trial-popup-content">
                <p class="trial-popup-message">
                    <span class="title-en">You now have 3 days of free access to all premium features!</span>
                    <span class="title-bn">‡¶è‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡ß© ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶´‡ßç‡¶∞‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶∞‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡ßá‡¶∞!</span>
                </p>
                <ul class="trial-benefits">
                    <li>
                        <span class="title-en">‚ú® Unlimited customers</span>
                        <span class="title-bn">‚ú® ‡¶∏‡ßÄ‡¶Æ‡¶æ‡¶π‡ßÄ‡¶® ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ</span>
                    </li>
                    <li>
                        <span class="title-en">ü§ñ AI Assistant access</span>
                        <span class="title-bn">ü§ñ ‡¶è‡¶Ü‡¶á ‡¶∏‡¶π‡¶æ‡¶Ø‡¶º‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏</span>
                    </li>
                    <li>
                        <span class="title-en">üìä Advanced analytics</span>
                        <span class="title-bn">üìä ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£</span>
                    </li>
                </ul>
            </div>
            <div class="modal-actions">
                <button type="button" class="primary-btn" data-close>
                    <span class="title-en">Get Started</span>
                    <span class="title-bn">‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                </button>
            </div>
        </div>
    </dialog>

    <dialog class="modal" id="card-customize-modal" aria-labelledby="card-customize-modal-title">
        <form class="modal-form" id="card-customize-form">
            <h2 id="card-customize-modal-title" data-i18n="modals.cardCustomize.title">Customize Card</h2>
            <label>
                <span data-i18n="modals.cardCustomize.style">Card Style</span>
                <select name="cardStyle">
                    <option value="default">Default</option>
                    <option value="funny">Funny</option>
                    <option value="elegant">Elegant</option>
                    <option value="colorful">Colorful</option>
                </select>
            </label>
            <label>
                <span data-i18n="modals.cardCustomize.message">Custom Message</span>
                <textarea name="customMessage" rows="3" maxlength="200"
                    placeholder="Add a funny or custom message"></textarea>
            </label>
            <label>
                <span data-i18n="modals.cardCustomize.emoji">Add Emoji</span>
                <input type="text" name="emoji" maxlength="5" placeholder="üòä" />
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.apply">Apply</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="demand-modal" aria-labelledby="demand-modal-title">
        <form class="modal-form" id="demand-form">
            <div class="modal-header-with-close">
                <h2 id="demand-modal-title" data-i18n="modals.demand.title">Demand Payment</h2>
                <button type="button" class="modal-close-x" data-close aria-label="Close">‚úï</button>
            </div>
            <input type="hidden" name="customerId" />
            <label>
                <span data-i18n="modals.demand.amount">Amount to request (‡ß≥)</span>
                <input type="number" name="amount" min="1" step="1" required />
            </label>
            <label>
                <span data-i18n="modals.demand.dueDate">Due date</span>
                <input type="date" name="dueDate" />
            </label>
            <label>
                <span data-i18n="modals.demand.method">Payment method / link</span>
                <input type="text" name="paymentMethod" placeholder="bKash / Nagad / UPI / Bank link" />
            </label>
            <label>
                <span data-i18n="modals.demand.note">Message</span>
                <textarea name="note" rows="2" maxlength="180" placeholder="Please pay by Friday"></textarea>
            </label>
            <div class="demand-actions">
                <button type="submit" class="primary-btn" data-i18n="modals.demand.generate">Generate card</button>
                <button type="button" class="secondary-btn" id="demand-share-btn"
                    data-i18n="modals.demand.share">Share</button>
                <a class="secondary-btn" id="demand-download-btn" download="demand-card.png"
                    data-i18n="modals.demand.download">Download</a>
            </div>
            <div class="demand-preview" id="demand-preview">
                <p data-i18n="modals.demand.previewText">Generated payment card will appear here.</p>
                <img id="demand-preview-img" alt="" />
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="logo-modal" aria-labelledby="logo-modal-title">
        <form class="modal-form" id="logo-form">
            <h2 id="logo-modal-title" data-i18n="modals.logo.title">Add Shop Logo</h2>
            <label>
                <span data-i18n="modals.logo.name">Logo Name</span>
                <input type="text" name="logoName" maxlength="60" required />
            </label>
            <label>
                <span data-i18n="modals.logo.image">Logo Image</span>
                <input type="file" name="logoImage" accept="image/*" required />
            </label>
            <input type="hidden" name="logoId" />
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <!-- Onboarding Tutorial Modal -->
    <dialog class="modal onboarding-modal" id="onboarding-modal">
        <div class="onboarding-container">
            <button class="onboarding-skip" id="onboarding-skip">
                <span class="title-en">Skip Tutorial</span>
                <span class="title-bn">‡¶ü‡¶ø‡¶â‡¶ü‡ßã‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶¨‡¶æ‡¶¶ ‡¶¶‡¶ø‡¶®</span>
            </button>

            <div class="onboarding-slides" id="onboarding-slides">
                <!-- Step 1: Welcome -->
                <div class="onboarding-slide active" data-step="0">
                    <div class="onboarding-icon">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--primary)"
                            stroke-width="1.5">
                            <path d="M12 2L2 7l10 5 10-5-10-5z" />
                            <path d="M2 17l10 5 10-5" />
                            <path d="M2 12l10 5 10-5" />
                        </svg>
                    </div>
                    <h2 class="onboarding-title">
                        <span class="title-en">Welcome to DebtX!</span>
                        <span class="title-bn">DebtX-‡¶è ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!</span>
                    </h2>
                    <p class="onboarding-desc">
                        <span class="title-en">Let us show you how to get started with managing your shop's debts and
                            bills.</span>
                        <span class="title-bn">‡¶Ü‡¶∏‡ßÅ‡¶® ‡¶¶‡ßá‡¶ñ‡¶ø ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶ì ‡¶¨‡¶ø‡¶≤ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá‡¶®‡•§</span>
                    </p>
                </div>

                <!-- Step 2: Add Customers -->
                <div class="onboarding-slide" data-step="1">
                    <div class="onboarding-icon">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--primary)"
                            stroke-width="1.5">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                            <circle cx="9" cy="7" r="4" />
                            <line x1="19" y1="8" x2="19" y2="14" />
                            <line x1="22" y1="11" x2="16" y2="11" />
                        </svg>
                    </div>
                    <h2 class="onboarding-title">
                        <span class="title-en">Add Your First Customer</span>
                        <span class="title-bn">‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                    </h2>
                    <p class="onboarding-desc">
                        <span class="title-en">Start by adding customers to track their debts and payments. Tap the
                            <strong>+ Add Customer</strong> button on the Customers page.</span>
                        <span class="title-bn">‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¶‡ßá‡¶®‡¶æ ‡¶ì ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ ‡¶™‡ßá‡¶ú‡ßá
                            <strong>+ ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</strong> ‡¶¨‡ßã‡¶§‡¶æ‡¶Æ‡ßá ‡¶ü‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</span>
                    </p>
                    <div class="onboarding-tip">
                        <span class="title-en">üí° Tip: Add phone number to easily contact customers</span>
                        <span class="title-bn">üí° ‡¶ü‡¶ø‡¶™: ‡¶∏‡¶π‡¶ú‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                    </div>
                </div>

                <!-- Step 3: Record Debts & Payments -->
                <div class="onboarding-slide" data-step="2">
                    <div class="onboarding-icon">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--primary)"
                            stroke-width="1.5">
                            <rect x="1" y="4" width="22" height="16" rx="2" ry="2" />
                            <line x1="1" y1="10" x2="23" y2="10" />
                        </svg>
                    </div>
                    <h2 class="onboarding-title">
                        <span class="title-en">Record Debts & Payments</span>
                        <span class="title-bn">‡¶¶‡ßá‡¶®‡¶æ ‡¶ì ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                    </h2>
                    <p class="onboarding-desc">
                        <span class="title-en">Tap on any customer card to record debts when they buy on credit, or
                            payments when they pay back.</span>
                        <span class="title-bn">‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ ‡¶ï‡¶æ‡¶∞‡ßç‡¶°‡ßá ‡¶ü‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶∞‡ßá ‡¶¨‡¶æ‡¶ï‡¶ø‡¶§‡ßá ‡¶ï‡¶ø‡¶®‡¶≤‡ßá ‡¶¶‡ßá‡¶®‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¶‡¶ø‡¶≤‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü
                            ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</span>
                    </p>
                    <div class="onboarding-tip">
                        <span class="title-en">üí° Tip: Use "Add Debt" for credit purchases, "Record Payment" for
                            received money</span>
                        <span class="title-bn">üí° ‡¶ü‡¶ø‡¶™: ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶ï‡ßá‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø "‡¶¶‡ßá‡¶®‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®", ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡ßá‡¶≤‡ßá "‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶°
                            ‡¶ï‡¶∞‡ßÅ‡¶®"</span>
                    </div>
                </div>

                <!-- Step 4: Create Bills -->
                <div class="onboarding-slide" data-step="3">
                    <div class="onboarding-icon">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--primary)"
                            stroke-width="1.5">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                            <polyline points="14 2 14 8 20 8" />
                            <line x1="16" y1="13" x2="8" y2="13" />
                            <line x1="16" y1="17" x2="8" y2="17" />
                            <polyline points="10 9 9 9 8 9" />
                        </svg>
                    </div>
                    <h2 class="onboarding-title">
                        <span class="title-en">Create Professional Bills</span>
                        <span class="title-bn">‡¶™‡ßç‡¶∞‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶¨‡¶ø‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                    </h2>
                    <p class="onboarding-desc">
                        <span class="title-en">Go to <strong>Bills</strong> in the navigation to create beautiful,
                            professional bills. Add items, set prices, and generate printable bills.</span>
                        <span class="title-bn">‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶®‡ßá <strong>‡¶¨‡¶ø‡¶≤</strong>-‡¶è ‡¶ó‡¶ø‡¶Ø‡¶º‡ßá ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶™‡ßç‡¶∞‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶¨‡¶ø‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
                            ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶¶‡¶æ‡¶Æ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</span>
                    </p>
                    <div class="onboarding-tip">
                        <span class="title-en">üí° Tip: Customize your bill with shop logo and custom notes</span>
                        <span class="title-bn">üí° ‡¶ü‡¶ø‡¶™: ‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá‡¶∞ ‡¶≤‡ßã‡¶ó‡ßã ‡¶ì ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶®‡ßã‡¶ü ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶¨‡¶ø‡¶≤ ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®</span>
                    </div>
                </div>

                <!-- Step 5: All Set -->
                <div class="onboarding-slide" data-step="4">
                    <div class="onboarding-icon celebration">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--primary)"
                            stroke-width="1.5">
                            <circle cx="12" cy="12" r="10" />
                            <path d="M8 14s1.5 2 4 2 4-2 4-2" />
                            <line x1="9" y1="9" x2="9.01" y2="9" />
                            <line x1="15" y1="9" x2="15.01" y2="9" />
                        </svg>
                    </div>
                    <h2 class="onboarding-title">
                        <span class="title-en">You're All Set!</span>
                        <span class="title-bn">‡¶Ü‡¶™‡¶®‡¶ø ‡¶§‡ßà‡¶∞‡¶ø!</span>
                    </h2>
                    <p class="onboarding-desc">
                        <span class="title-en">Explore <strong>Notes</strong> for quick reminders, <strong>AI
                                Tools</strong> for smart features, and <strong>Settings</strong> to customize your
                            experience.</span>
                        <span class="title-bn">‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶®‡ßã‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø <strong>‡¶®‡ßã‡¶ü‡¶∏</strong>, ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø <strong>AI
                                Tools</strong> ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶á‡¶ú‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø <strong>‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</strong> ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßç‡¶≤‡ßã‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</span>
                    </p>
                </div>
            </div>

            <!-- Progress Dots -->
            <div class="onboarding-dots">
                <span class="dot active" data-step="0"></span>
                <span class="dot" data-step="1"></span>
                <span class="dot" data-step="2"></span>
                <span class="dot" data-step="3"></span>
                <span class="dot" data-step="4"></span>
            </div>

            <!-- Navigation -->
            <div class="onboarding-nav">
                <button class="onboarding-btn secondary" id="onboarding-prev" style="visibility: hidden;">
                    <span class="title-en">Back</span>
                    <span class="title-bn">‡¶Ü‡¶ó‡ßá‡¶∞</span>
                </button>
                <button class="onboarding-btn primary" id="onboarding-next">
                    <span class="title-en">Next</span>
                    <span class="title-bn">‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ</span>
                </button>
            </div>
        </div>
    </dialog>

    <template id="customer-card-template">
        <article class="customer-card" data-customer-id="">
            <header class="customer-card__header">
                <div>
                    <h2 class="customer-name"></h2>
                    <p class="customer-phone"></p>
                </div>
                <div class="customer-status">
                    <span class="status-pill"></span>
                    <span class="status-text"></span>
                </div>
            </header>
            <div class="customer-card__body">
                <div class="balance-row">
                    <span data-i18n="customers.card.balance">Balance</span>
                    <strong class="customer-balance">‡ß≥0</strong>
                </div>
                <div class="meta-grid">
                    <div>
                        <span data-i18n="customers.card.lastPayment">Last payment</span>
                        <p class="customer-last-payment">‚Äî</p>
                    </div>
                    <div>
                        <span data-i18n="customers.card.dueDate">Due date</span>
                        <p class="customer-due-date">‚Äî</p>
                    </div>
                    <div>
                        <span data-i18n="customers.card.trustRatio">Trust Ratio</span>
                        <p class="customer-trust-ratio">‚Äî</p>
                    </div>
                </div>
                <p class="customer-note"></p>
            </div>
            <footer class="customer-card__footer">
                <button class="secondary-btn" data-action="history" data-i18n="customers.card.history">History</button>
                <button class="secondary-btn" data-action="payment" data-i18n="customers.card.payment">Record
                    Payment</button>
                <button class="secondary-btn" data-action="demand" data-i18n="customers.card.demand">Demand
                    Payment</button>
                <button class="primary-btn" data-action="debt" data-i18n="customers.card.debt">Add Debt</button>
                <button class="danger-btn" data-action="delete" data-i18n="customers.card.delete">Delete</button>
            </footer>
            <div class="customer-history" hidden>
                <h3 data-i18n="customers.card.historyTitle">Activity</h3>
                <ul class="history-list"></ul>
            </div>
        </article>
    </template>

    <template id="note-card-template">
        <article class="note-card enhanced-note-card" data-note-id="">
            <div class="note-card-inner">
                <header class="note-card-header">
                    <div class="note-title-row">
                        <span class="note-color-indicator"></span>
                        <div class="note-header-content">
                            <h2 class="note-title"></h2>
                            <time class="note-date"></time>
                        </div>
                        <button class="note-pin-btn" title="Pin to top" data-action="pin">
                            <svg class="pin-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2">
                                <path d="M12 17v5"></path>
                                <path
                                    d="M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1z">
                                </path>
                            </svg>
                        </button>
                    </div>
                </header>
                <div class="note-body-container">
                    <p class="note-body"></p>
                </div>
                <footer class="note-card-footer">
                    <div class="note-tags"></div>
                    <div class="note-actions">
                        <button class="icon-action-btn" data-action="edit" aria-label="Edit" title="Edit">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                        <button class="icon-action-btn delete-btn" data-action="delete" aria-label="Delete"
                            title="Delete">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path
                                    d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                </path>
                            </svg>
                        </button>
                    </div>
                </footer>
            </div>
        </article>
    </template>

    <template id="task-card-template">
        <article class="task-card" data-task-id="">
            <header>
                <div>
                    <div class="task-header-top">
                        <h2 class="task-name"></h2>
                        <span class="task-priority"></span>
                    </div>
                    <p class="task-type"></p>
                </div>
                <label class="task-status">
                    <input type="checkbox" />
                    <span data-i18n="tasks.card.done">Done</span>
                </label>
            </header>
            <div class="task-body">
                <div class="task-due">
                    <span data-i18n="tasks.card.due">Due</span>
                    <time class="task-date"></time>
                </div>
                <p class="task-note"></p>
            </div>
            <footer>
                <button class="icon-action-btn" data-action="edit" aria-label="Edit" title="Edit">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                </button>
                <button class="icon-action-btn delete-btn" data-action="delete" aria-label="Delete" title="Delete">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                </button>
            </footer>
        </article>
    </template>

    <!-- Voice Listening Overlay -->
    <div class="voice-listening-overlay" id="voice-overlay">
        <div class="voice-wave">
            <div class="voice-bar"></div>
            <div class="voice-bar"></div>
            <div class="voice-bar"></div>
            <div class="voice-bar"></div>
            <div class="voice-bar"></div>
        </div>
        <span class="voice-status-text" data-i18n="voice.listening">Listening...</span>
    </div>

    <dialog class="modal ai-paywall-modal" id="ai-paywall-modal" aria-labelledby="ai-paywall-title">
        <div class="modal-form ai-paywall-card">
            <div class="ai-paywall-icon">ü§ñ</div>
            <h2 id="ai-paywall-title">Upgrade to Max to use the Agent more.</h2>
            <p class="ai-paywall-subtitle">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶´‡ßç‡¶∞‡¶ø AI ‡¶∂‡ßá‡¶∑‡•§ Max ‡¶®‡¶ø‡¶≤‡ßá ‡ßß‡ß¶‡ß¶ ‡¶¨‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§</p>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="ai.paywallLater">Not now</button>
                <button type="button" class="primary-btn" id="ai-paywall-upgrade-btn" data-i18n="ai.paywallCta">See Max
                    plan</button>
            </div>
        </div>
    </dialog>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="env.js"></script>
    <script src="app.js" defer></script>
</body>

</html>
