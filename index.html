<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Debtx | Digital Khata for Bangladeshi Shopkeepers</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="themes.css" />
    <link rel="manifest" href="manifest.json" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+Bengali:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        // Apply theme early to prevent flash of unstyled content
        (function() {
            try {
                const stored = localStorage.getItem('debtx-data-v1');
                if (stored) {
                    const data = JSON.parse(stored);
                    const theme = data?.ui?.theme || 'cozy-ledger';
                    const validThemes = [
                        'light', 'dark', 'ocean', 'rose',
                        'cozy-ledger', 'clean-business', 'night-shop', 
                        'zen-finance', 'street-ledger', 'classic-paper'
                    ];
                    if (validThemes.includes(theme)) {
                        document.documentElement.setAttribute('data-theme', theme);
                    } else {
                        document.documentElement.setAttribute('data-theme', 'cozy-ledger');
                    }
                }
            } catch (e) {
                // Fallback to cozy-ledger theme
                document.documentElement.setAttribute('data-theme', 'cozy-ledger');
            }
        })();
    </script>
</head>
<body>
    <!-- SVG Gradients for Icons -->
    <svg style="position: absolute; width: 0; height: 0; overflow: hidden;">
        <defs>
            <linearGradient id="premiumGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#ffd700;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#ff6b35;stop-opacity:1" />
            </linearGradient>
        </defs>
    </svg>
    <div class="auth-overlay" id="auth-overlay" hidden style="display: none;">
        <div class="auth-card">
            <header class="auth-card__header">
                <div>
                    <p class="auth-app-name">Debt<span class="logo-x">x</span></p>
                    <h1 data-i18n="auth.title">Secure your shop records</h1>
                    <p class="auth-subtitle" data-i18n="auth.subtitle">Set a password to unlock every visit. Add a passcode for quick unlock.</p>
                </div>
                <button class="secondary-btn auth-close" id="auth-close-btn" aria-label="Close">‚úï</button>
            </header>
            <div class="auth-toggle" role="tablist">
                <button class="auth-tab active" data-mode="login" aria-selected="true" data-i18n="auth.loginTab">Login</button>
                <button class="auth-tab" data-mode="setup" aria-selected="false" data-i18n="auth.setupTab">Create account</button>
            </div>

            <div class="auth-forms">
                <form class="auth-form" id="auth-login-form" data-mode="login">
                    <label>
                        <span data-i18n="auth.passwordLabel">Password</span>
                        <span class="input-row">
                            <input type="password" name="password" autocomplete="current-password" required />
                            <button type="button" class="icon-btn" data-action="toggle-password" aria-label="Show password">üëÅ</button>
                        </span>
                    </label>
                    <label>
                        <span data-i18n="auth.passcodeLabel">Passcode (optional)</span>
                        <span class="input-row">
                            <input type="password" name="passcode" inputmode="numeric" pattern="\d{4,8}" placeholder="1234" />
                            <button type="button" class="icon-btn" data-action="toggle-passcode" aria-label="Show passcode">üëÅ</button>
                        </span>
                    </label>
                    <p class="auth-hint" data-i18n="auth.loginHint">Enter your password (or passcode if you set one) to unlock Debtx.</p>
                    <button type="submit" class="primary-btn" data-i18n="auth.unlock">Unlock</button>
                </form>

                <form class="auth-form hidden" id="auth-setup-form" data-mode="setup">
                    <label>
                        <span data-i18n="auth.nameLabel">Full name</span>
                        <input type="text" name="name" autocomplete="name" placeholder="Your name" />
                    </label>
                    <label>
                        <span data-i18n="auth.emailLabel">Email</span>
                        <input type="email" name="email" autocomplete="email" placeholder="you@example.com" />
                    </label>
                    
                    <div class="profile-upload-area">
                        <label class="profile-upload-btn" id="profile-upload-label">
                            <div class="profile-upload-preview" id="profile-upload-preview">
                                <span class="profile-upload-icon">üì∑</span>
                                <span data-i18n="auth.tapToUpload">Tap to add photo</span>
                            </div>
                            <input type="file" name="profilePicture" accept="image/*" hidden />
                        </label>
                    </div>
                    
                    <details class="auth-advanced">
                        <summary data-i18n="auth.advancedSecurity">üîí Add password protection (optional)</summary>
                        <div class="auth-advanced-content">
                            <label>
                                <span data-i18n="auth.passwordCreateLabel">Create password</span>
                                <span class="input-row">
                                    <input type="password" name="password" autocomplete="new-password" minlength="6" placeholder="Min 6 characters" />
                                    <button type="button" class="icon-btn" data-action="toggle-new-password" aria-label="Show password">üëÅ</button>
                                </span>
                            </label>
                            <label>
                                <span data-i18n="auth.passcodeOptional">4-8 digit passcode (optional)</span>
                                <input type="text" name="passcode" inputmode="numeric" pattern="\d{4,8}" placeholder="1234" />
                            </label>
                            <p class="auth-hint" data-i18n="auth.setupHint">You will need this password each time you open Debtx.</p>
                        </div>
                    </details>
                    
                    <button type="submit" class="primary-btn" data-i18n="auth.getStarted">Get Started</button>
                </form>
            </div>

            <p class="auth-error" id="auth-error" role="alert"></p>
            
            <div class="auth-skip">
                <button type="button" class="ghost-btn" id="auth-skip-btn" data-i18n="auth.skip">Skip for now ‚Üí</button>
                <p class="auth-skip-hint" data-i18n="auth.skipHint">Use without password protection</p>
            </div>
        </div>
    </div>

    <div class="app" id="app">
        <header class="app-header">
            <div class="app-title">
                <span class="title-en">Debt<span class="logo-x">x</span></span>
                <span class="title-bn">‡¶°‡ßá‡¶¨‡¶ü<span class="logo-x">‡¶è‡¶ï‡ßç‡¶∏</span></span>
            </div>
        </header>

        <!-- Dock: text + icons, always visible labels -->
        <nav class="dock dock-animated dock-v2 dock-v3" id="dock" aria-label="Main sections">
            <div class="dock-inner dock-glass">
                <button class="dock-item dock-item-animated active" data-target="customers" id="nav-customers" aria-label="Customers">
                    <span class="dock-icon-box">
                        <svg class="dock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </span>
                    <span class="dock-label" data-i18n="nav.customers">Customers</span>
                </button>
                <button class="dock-item dock-item-animated" data-target="bills" id="nav-bills" aria-label="Bills">
                    <span class="dock-icon-box">
                        <svg class="dock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                    </span>
                    <span class="dock-label" data-i18n="nav.bills">Bills</span>
                </button>
                <button class="dock-item dock-item-animated" data-target="ai" id="nav-ai" aria-label="AI Tools">
                    <span class="dock-icon-box">
                        <svg class="dock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect>
                            <rect x="9" y="9" width="6" height="6"></rect>
                            <line x1="9" y1="1" x2="9" y2="4"></line>
                            <line x1="15" y1="1" x2="15" y2="4"></line>
                            <line x1="9" y1="20" x2="9" y2="23"></line>
                            <line x1="15" y1="20" x2="15" y2="23"></line>
                            <line x1="20" y1="9" x2="23" y2="9"></line>
                            <line x1="20" y1="14" x2="23" y2="14"></line>
                            <line x1="1" y1="9" x2="4" y2="9"></line>
                            <line x1="1" y1="14" x2="4" y2="14"></line>
                        </svg>
                    </span>
                    <span class="dock-label" data-i18n="nav.ai">AI</span>
                </button>
                <button class="dock-item dock-item-animated" data-target="notes" id="nav-notes" aria-label="Notes">
                    <span class="dock-icon-box">
                        <svg class="dock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 20h9"></path>
                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                        </svg>
                    </span>
                    <span class="dock-label" data-i18n="nav.notes">Notes</span>
                </button>
                <button class="dock-item dock-item-animated" data-target="settings" id="nav-settings" aria-label="Settings">
                    <span class="dock-icon-box">
                        <svg class="dock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                        </svg>
                    </span>
                    <span class="dock-label" data-i18n="nav.settings">Settings</span>
                </button>
                <button class="dock-item dock-item-animated dock-item-premium" data-target="premium" id="nav-premium" aria-label="Premium">
                    <span class="dock-icon-box">
                        <svg class="dock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="8" r="7"></circle>
                            <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
                        </svg>
                    </span>
                    <span class="dock-label" data-i18n="nav.premium">Pro</span>
                </button>
            </div>
        </nav>

        <main class="app-main">
            <section class="panel active" id="panel-customers" aria-label="Customer debts">
                <div class="panel-header">
                    <div>
                        <h1 data-i18n="customers.title">Customers & Debts</h1>
                        <p class="panel-subtitle" data-i18n="customers.subtitle">Track dues, payments, and reminders</p>
                    </div>
                    <button class="primary-btn" id="add-customer-btn" data-i18n="customers.addCustomer">+ Add Customer</button>
                </div>

                <div class="customers-tabs">
                    <button class="tab-btn active" data-customers-tab="customers" data-i18n="customers.tabs.customers">Customers</button>
                    <button class="tab-btn" data-customers-tab="debts" data-i18n="customers.tabs.debts">Debts</button>
                </div>

                <div class="customers-view" id="customers-view">
                    <div class="search-bar">
                        <input type="search" id="customer-search" placeholder="Search by name or phone" data-i18n-placeholder="customers.searchPlaceholder" />
                    </div>

                    <div class="data-empty" id="customers-empty" hidden style="display: none !important;">
                        <!-- Hidden: No customers message removed per user request -->
                    </div>

                    <div class="cards" id="customer-list" aria-live="polite"></div>
                </div>

                <div class="debts-view" id="debts-view" hidden>
                    <div class="debts-summary">
                        <div class="debt-stat-card liquid-glass">
                            <div class="debt-stat-icon">üí∞</div>
                            <div>
                                <div class="debt-stat-value" id="debt-total-outstanding">‡ß≥0</div>
                                <div class="debt-stat-label" data-i18n="debts.totalOutstanding">Total Outstanding</div>
                            </div>
                        </div>
                        <div class="debt-stat-card liquid-glass">
                            <div class="debt-stat-icon">‚è≥</div>
                            <div>
                                <div class="debt-stat-value" id="debt-total-due-soon">‡ß≥0</div>
                                <div class="debt-stat-label" data-i18n="debts.totalDueSoon">Due Soon</div>
                            </div>
                        </div>
                        <div class="debt-stat-card liquid-glass">
                            <div class="debt-stat-icon">‚ö†Ô∏è</div>
                            <div>
                                <div class="debt-stat-value" id="debt-total-overdue">‡ß≥0</div>
                                <div class="debt-stat-label" data-i18n="debts.totalOverdue">Overdue</div>
                            </div>
                        </div>
                        <div class="debt-stat-card liquid-glass">
                            <div class="debt-stat-icon">‚úÖ</div>
                            <div>
                                <div class="debt-stat-value" id="debt-total-settled">‡ß≥0</div>
                                <div class="debt-stat-label" data-i18n="debts.totalSettled">Settled</div>
                            </div>
                        </div>
                    </div>

                    <div class="search-bar">
                        <input type="search" id="debt-search" placeholder="Search by customer or note" data-i18n-placeholder="debts.searchPlaceholder" />
                    </div>

                    <div class="debt-filters">
                        <button class="filter-btn active" data-filter="all" data-i18n="debts.filterAll">All</button>
                        <button class="filter-btn" data-filter="open" data-i18n="debts.filterOpen">Open</button>
                        <button class="filter-btn" data-filter="dueSoon" data-i18n="debts.filterDueSoon">Due Soon</button>
                        <button class="filter-btn" data-filter="overdue" data-i18n="debts.filterOverdue">Overdue</button>
                        <button class="filter-btn" data-filter="settled" data-i18n="debts.filterSettled">Settled</button>
                    </div>

                    <div class="data-empty" id="debt-empty" hidden>
                        <div class="empty-state">
                            <div class="empty-icon">üí∏</div>
                            <p data-i18n="debts.empty">No debts found. Add a customer or record a new debt.</p>
                        </div>
                    </div>

                    <div class="cards" id="debt-list" aria-live="polite"></div>
                </div>
            </section>

            <section class="panel" id="panel-bills" aria-label="Make Bills">
                <div class="panel-header">
                    <div>
                        <h1 data-i18n="bills.title">Billing & Invoicing</h1>
                        <p class="panel-subtitle" data-i18n="bills.subtitle">Create bills, invoices, and track payments</p>
                    </div>
                    <button class="primary-btn" id="new-bill-btn" data-i18n="bills.newBill">+ New Bill</button>
                </div>

                <!-- Bills Quick Stats -->
                <div class="bills-stats-container">
                    <div class="bill-stat-card">
                        <div class="stat-icon" style="background: rgba(34, 197, 94, 0.15); color: #16a34a;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="6" y="3" width="12" height="18" rx="2"></rect>
                                <path d="M9 8h6M9 12h6M9 16h4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="bills-total-count">0</div>
                            <div class="stat-label" data-i18n="bills.totalBills">Total Bills</div>
                        </div>
                    </div>
                    <div class="bill-stat-card">
                        <div class="stat-icon" style="background: rgba(34, 197, 94, 0.15); color: #16a34a;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 6L9 17l-5-5"></path>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="bills-paid-count">0</div>
                            <div class="stat-label" data-i18n="bills.paidBills">Paid</div>
                        </div>
                    </div>
                    <div class="bill-stat-card">
                        <div class="stat-icon" style="background: rgba(251, 191, 36, 0.15); color: #d97706;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M12 6v6l4 2"></path>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="bills-pending-count">0</div>
                            <div class="stat-label" data-i18n="bills.pendingBills">Pending</div>
                        </div>
                    </div>
                    <div class="bill-stat-card">
                        <div class="stat-icon" style="background: rgba(239, 68, 68, 0.15); color: #dc2626;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                                <line x1="12" y1="9" x2="12" y2="13"></line>
                                <line x1="12" y1="17" x2="12.01" y2="17"></line>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="bills-overdue-count">0</div>
                            <div class="stat-label" data-i18n="bills.overdueBills">Overdue</div>
                        </div>
                    </div>
                </div>

                <!-- Search and Filters -->
                <div class="search-bar">
                    <input type="search" id="bill-search" placeholder="Search bills by customer, invoice number..." data-i18n-placeholder="bills.searchPlaceholder" />
                </div>

                <div class="bill-filters">
                    <button class="filter-btn active" data-filter="all" data-i18n="bills.filterAll">All</button>
                    <button class="filter-btn" data-filter="paid" data-i18n="bills.filterPaid">Paid</button>
                    <button class="filter-btn" data-filter="pending" data-i18n="bills.filterPending">Pending</button>
                    <button class="filter-btn" data-filter="overdue" data-i18n="bills.filterOverdue">Overdue</button>
                </div>

                <div class="data-empty" id="bills-empty" hidden>
                    <div class="empty-state">
                        <div class="empty-icon">üìÑ</div>
                        <p data-i18n="bills.empty">No bills yet. Create your first bill.</p>
                        <button class="primary-btn" id="empty-new-bill-btn" data-i18n="bills.newBill">+ New Bill</button>
                    </div>
                </div>

                <div class="cards" id="bills-list" aria-live="polite"></div>
            </section>

            <section class="panel" id="panel-ai" aria-label="AI Tools">
                <div class="panel-header">
                    <div>
                        <h1 data-i18n="ai.title">AI Tools</h1>
                        <p class="panel-subtitle" data-i18n="ai.subtitle">Calculator, Card Generator & AI Chat</p>
                    </div>
                </div>

                <!-- AI Tools Tabs -->
                <div class="ai-tools-tabs">
                    <button class="ai-tab-btn active" data-ai-tab="cardgen" data-i18n="ai.cardGenerator">Card Generator</button>
                    <button class="ai-tab-btn" data-ai-tab="calculator" data-i18n="ai.calculator">Calculator</button>
                    <button class="ai-tab-btn" data-ai-tab="chat" data-i18n="ai.chat">AI Chat</button>
                </div>

                <!-- Debt Card Generator -->
                <div class="ai-tool-panel active" id="ai-cardgen-panel">
                    <div class="card-generator-container">
                        <div class="premium-header">
                            <div>
                                <h2 data-i18n="ai.debtCardTitle">Debt Card Generator</h2>
                                <p class="settings-muted" data-i18n="ai.debtCardHint">Create custom debt reminder cards for your customers</p>
                            </div>
                        </div>
                        
                        <form class="card-gen-form" id="debt-card-form">
                            <label>
                                <span data-i18n="ai.selectCustomer">Select Customer</span>
                                <select name="selectedCustomer" id="card-customer-select">
                                    <option value="">-- Select a customer --</option>
                                </select>
                            </label>
                            
                            <label>
                                <span data-i18n="ai.customerName">Customer Name (or enter manually)</span>
                                <input type="text" name="customerName" placeholder="Enter customer name" />
                            </label>
                            
                            <label>
                                <span data-i18n="ai.debtAmount">Debt Amount (‡ß≥)</span>
                                <input type="number" name="debtAmount" placeholder="1000" min="1" required />
                            </label>
                            
                            <label>
                                <span data-i18n="ai.selectLogo">Select Shop Logo</span>
                                <select name="selectedLogo" id="card-logo-select">
                                    <option value="">-- Select a logo (optional) --</option>
                                </select>
                            </label>
                            
                            <label>
                                <span data-i18n="ai.shopName">Shop Name</span>
                                <input type="text" name="shopName" placeholder="Your shop name" />
                            </label>
                            
                            <label>
                                <span data-i18n="ai.paymentMethod">Payment Method</span>
                                <select name="paymentMethod">
                                    <option value="bKash">bKash</option>
                                    <option value="Nagad">Nagad</option>
                                    <option value="Rocket">Rocket</option>
                                    <option value="Cash">Cash</option>
                                    <option value="Bank">Bank Transfer</option>
                                </select>
                            </label>
                            
                            <label>
                                <span data-i18n="ai.paymentNumber">Payment Number/Details</span>
                                <input type="text" name="paymentNumber" placeholder="01XXXXXXXXX" />
                            </label>
                            
                            <label>
                                <span data-i18n="ai.dueDate">Due Date</span>
                                <input type="date" name="dueDate" />
                            </label>
                            
                            <label>
                                <span data-i18n="ai.cardColor">Card Color</span>
                                <div class="color-picker">
                                    <input type="radio" name="cardColor" value="#ff6b6b" id="color1" checked />
                                    <label for="color1" class="color-option" style="background: #ff6b6b;"></label>
                                    
                                    <input type="radio" name="cardColor" value="#4ecdc4" id="color2" />
                                    <label for="color2" class="color-option" style="background: #4ecdc4;"></label>
                                    
                                    <input type="radio" name="cardColor" value="#45b7d1" id="color3" />
                                    <label for="color3" class="color-option" style="background: #45b7d1;"></label>
                                    
                                    <input type="radio" name="cardColor" value="#f9ca24" id="color4" />
                                    <label for="color4" class="color-option" style="background: #f9ca24;"></label>
                                    
                                    <input type="radio" name="cardColor" value="#6c5ce7" id="color5" />
                                    <label for="color5" class="color-option" style="background: #6c5ce7;"></label>
                                    
                                    <input type="radio" name="cardColor" value="#a29bfe" id="color6" />
                                    <label for="color6" class="color-option" style="background: #a29bfe;"></label>
                                </div>
                            </label>
                            
                            <label>
                                <span data-i18n="ai.customMessage">Custom Message (optional)</span>
                                <textarea name="customMessage" rows="2" placeholder="Please pay at your earliest convenience..."></textarea>
                            </label>
                            
                            <button type="submit" class="primary-btn" data-i18n="ai.generateCard">Generate Card</button>
                        </form>
                        
                        <div class="card-preview" id="debt-card-preview" hidden>
                            <h3 data-i18n="ai.preview">Preview</h3>
                            <div class="generated-debt-card" id="generated-card-content"></div>
                            <div class="card-actions">
                                <button class="secondary-btn" id="download-debt-card-btn" data-i18n="ai.downloadCard">üì• Download</button>
                                <button class="secondary-btn" id="share-debt-card-btn" data-i18n="ai.shareCard">üì§ Share</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calculator -->
                <div class="ai-tool-panel" id="ai-calculator-panel">
                    <div class="calculator-container">
                        <h2 data-i18n="calculator.title">Calculator</h2>
                        <p class="settings-muted" data-i18n="calculator.subtitle">Quick calculations for your shop</p>
                        
                        <div class="calculator-display">
                            <div class="calculator-expression" id="calc-expression"></div>
                            <div class="calculator-result" id="calc-result">0</div>
                        </div>
                        <div class="calculator-buttons">
                            <button class="calc-btn calc-btn-clear" data-action="clear">C</button>
                            <button class="calc-btn calc-btn-clear" data-action="clear-all">AC</button>
                            <button class="calc-btn calc-btn-operator" data-action="backspace">‚å´</button>
                            <button class="calc-btn calc-btn-operator" data-value="/">√∑</button>
                            <button class="calc-btn" data-value="7">7</button>
                            <button class="calc-btn" data-value="8">8</button>
                            <button class="calc-btn" data-value="9">9</button>
                            <button class="calc-btn calc-btn-operator" data-value="*">√ó</button>
                            <button class="calc-btn" data-value="4">4</button>
                            <button class="calc-btn" data-value="5">5</button>
                            <button class="calc-btn" data-value="6">6</button>
                            <button class="calc-btn calc-btn-operator" data-value="-">‚àí</button>
                            <button class="calc-btn" data-value="1">1</button>
                            <button class="calc-btn" data-value="2">2</button>
                            <button class="calc-btn" data-value="3">3</button>
                            <button class="calc-btn calc-btn-operator" data-value="+">+</button>
                            <button class="calc-btn calc-btn-zero" data-value="0">0</button>
                            <button class="calc-btn" data-value=".">.</button>
                            <button class="calc-btn calc-btn-equals" data-action="equals">=</button>
                        </div>
                    </div>
                </div>

                <!-- AI Chat -->
                <div class="ai-tool-panel" id="ai-chat-panel">
                    <div id="ai-subscription-message" class="subscription-required-message" hidden>
                        <div class="ultra-badge">
                            <span class="ultra-icon">üîí</span>
                            <span class="ultra-label">Ultra Only</span>
                        </div>
                        <h3 class="subscription-title">
                            <span class="title-en">AI Chat - Ultra Exclusive</span>
                            <span class="title-bn">‡¶è‡¶Ü‡¶á ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü - ‡¶∂‡ßÅ‡¶ß‡ßÅ Ultra ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®</span>
                        </h3>
                        <p class="subscription-desc">
                            <span class="title-en">AI Chat is exclusively available for Ultra plan subscribers. Upgrade to Ultra to unlock powerful AI-powered conversations for your business.</span>
                            <span class="title-bn">‡¶è‡¶Ü‡¶á ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ Ultra ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶® ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨‡¶æ‡¶∞‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ ‡¶è‡¶Ü‡¶á ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡¶§‡ßá Ultra ‡¶§‡ßá ‡¶Ü‡¶™‡¶ó‡ßç‡¶∞‡ßá‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</span>
                        </p>
                        <div class="ultra-price-tag">
                            <span class="title-en">800 ‡ß≥/year</span>
                            <span class="title-bn">‡ßÆ‡ß¶‡ß¶ ‡ß≥/‡¶¨‡¶õ‡¶∞</span>
                        </div>
                        <button class="primary-btn ultra-subscribe-btn" onclick="window.open('https://www.facebook.com/profile.php?id=61560074175677', '_blank')">
                            <span class="title-en">Subscribe to Ultra</span>
                            <span class="title-bn">Ultra ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                        </button>
                        <p class="coupon-hint-text">
                            <span class="title-en">Use coupon code: <strong>TERECEPROXMAX</strong></span>
                            <span class="title-bn">‡¶ï‡ßÅ‡¶™‡¶® ‡¶ï‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®: <strong>TERECEPROXMAX</strong></span>
                        </p>
                    </div>

                    <div class="ai-chat-container" id="ai-chat-container">
                        <div class="ai-messages" id="ai-messages">
                            <div class="ai-message ai-message-assistant">
                                <div class="ai-avatar">ü§ñ</div>
                                <div class="ai-content">
                                    <p data-i18n="ai.welcome">Hello! I can help you manage your shop, track payments, generate reminder cards, and more. How can I help you today?</p>
                                </div>
                            </div>
                        </div>
                        <div class="ai-shortcuts" id="ai-shortcuts">
                            <button class="ai-shortcut-btn" data-suggestion="Find customer trust ratio">Find Customer Trust Ratio</button>
                            <button class="ai-shortcut-btn" data-suggestion="Show overdue payments">Show Overdue Payments</button>
                            <button class="ai-shortcut-btn" data-suggestion="Generate payment reminder card">Generate Payment Card</button>
                            <button class="ai-shortcut-btn" data-suggestion="Calculate total revenue this month">Monthly Revenue</button>
                            <button class="ai-shortcut-btn" data-suggestion="List all customers with outstanding balance">Outstanding Customers</button>
                        </div>
                        <div class="ai-input-container">
                            <input type="text" id="ai-input" class="ai-input" placeholder="Ask me anything..." data-i18n-placeholder="ai.placeholder" />
                            <button class="ai-voice-btn" id="ai-voice-btn" aria-label="Voice Input" title="Voice Input">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                                    <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                                    <line x1="12" y1="19" x2="12" y2="23"></line>
                                    <line x1="8" y1="23" x2="16" y2="23"></line>
                                </svg>
                            </button>
                            <button class="ai-send-btn" id="ai-send-btn" aria-label="Send">‚û§</button>
                        </div>
                    </div>
                </div>
            </section>

            <section class="panel" id="panel-notes" aria-label="Notes and Tasks">
                <!-- Tasks / Notes Tabs -->
                <div class="notes-tasks-tabs">
                    <button class="tab-btn-nt" data-tab="tasks">
                        <span class="title-en">Tasks</span>
                        <span class="title-bn">‡¶ï‡¶æ‡¶ú</span>
                    </button>
                    <button class="tab-btn-nt active" data-tab="notes">
                        <span class="title-en">Notes</span>
                        <span class="title-bn">‡¶®‡ßã‡¶ü</span>
                    </button>
                </div>
                <div id="tasks-section" hidden>
                <!-- New Modern Todo App UI -->
                <div class="todo-app-new">
                    <!-- Header -->
                    <div class="todo-header-new">
                        <div class="todo-header-content">
                            <h1>
                                <span class="title-en">My Tasks</span>
                                <span class="title-bn">‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú</span>
                            </h1>
                            <p>
                                <span class="title-en">Stay organized and productive</span>
                                <span class="title-bn">‡¶∏‡¶Ç‡¶ó‡¶†‡¶ø‡¶§ ‡¶è‡¶¨‡¶Ç ‡¶â‡ßé‡¶™‡¶æ‡¶¶‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶•‡¶æ‡¶ï‡ßÅ‡¶®</span>
                            </p>
                        </div>
                        <div class="todo-header-stats">
                            <div class="todo-stat-badge">
                                <span class="todo-stat-number" id="total-tasks-count">0</span>
                                <span class="todo-stat-label">
                                    <span class="title-en">Total</span>
                                    <span class="title-bn">‡¶Æ‡ßã‡¶ü</span>
                                </span>
                            </div>
                            <div class="todo-stat-badge completed">
                                <span class="todo-stat-number" id="completed-tasks-count">0</span>
                                <span class="todo-stat-label">
                                    <span class="title-en">Done</span>
                                    <span class="title-bn">‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®</span>
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Add Task -->
                    <div class="todo-quick-add-new">
                        <input type="text" id="quick-task-input" placeholder="Add a new task..." class="quick-task-input-new">
                        <select id="quick-task-category" class="quick-task-select-new">
                            <option value="personal">Personal</option>
                            <option value="work">Work</option>
                            <option value="shopping">Shopping</option>
                            <option value="health">Health</option>
                            <option value="other">Other</option>
                        </select>
                        <button type="button" id="quick-add-task-btn" class="quick-add-btn-new">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </button>
                    </div>

                    <!-- Category Tabs -->
                    <div class="todo-tabs-new">
                        <button class="todo-tab-new active" data-category="all">
                            <span class="tab-icon">üìã</span>
                            <span class="title-en">All</span>
                            <span class="title-bn">‡¶∏‡¶¨</span>
                        </button>
                        <button class="todo-tab-new" data-category="personal">
                            <span class="tab-icon">üë§</span>
                            <span class="title-en">Personal</span>
                            <span class="title-bn">‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§</span>
                        </button>
                        <button class="todo-tab-new" data-category="work">
                            <span class="tab-icon">üíº</span>
                            <span class="title-en">Work</span>
                            <span class="title-bn">‡¶ï‡¶æ‡¶ú</span>
                        </button>
                        <button class="todo-tab-new" data-category="shopping">
                            <span class="tab-icon">üõí</span>
                            <span class="title-en">Shopping</span>
                            <span class="title-bn">‡¶ï‡ßá‡¶®‡¶æ‡¶ï‡¶æ‡¶ü‡¶æ</span>
                        </button>
                        <button class="todo-tab-new" data-category="health">
                            <span class="tab-icon">üí™</span>
                            <span class="title-en">Health</span>
                            <span class="title-bn">‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø</span>
                        </button>
                    </div>

                    <!-- Progress Bar -->
                    <div class="todo-progress-new">
                        <div class="progress-info">
                            <span>
                                <span class="title-en">Progress</span>
                                <span class="title-bn">‡¶Ö‡¶ó‡ßç‡¶∞‡¶ó‡¶§‡¶ø</span>
                            </span>
                            <span class="progress-percent" id="tasks-progress-percent">0%</span>
                        </div>
                        <div class="progress-bar-new">
                            <div class="progress-fill-new" id="tasks-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>

                    <!-- AI Debt Calendar Card -->
                    <div class="todo-calendar-card-new" id="ai-debt-calendar">
                        <div class="calendar-card-header">
                            <div class="calendar-card-title">
                                <span class="calendar-icon">üìÖ</span>
                                <div>
                                    <h3>
                                        <span class="title-en">AI Debt Calendar</span>
                                        <span class="title-bn">‡¶è‡¶Ü‡¶á ‡¶ã‡¶£ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞</span>
                                    </h3>
                                    <p>
                                        <span class="title-en">Upcoming payment days</span>
                                        <span class="title-bn">‡¶Ü‡¶∏‡¶®‡ßç‡¶® ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶¶‡¶ø‡¶®</span>
                                    </p>
                                </div>
                            </div>
                            <button class="refresh-btn-new" id="ai-debt-calendar-refresh">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M23 4v6h-6M1 20v-6h6"></path>
                                    <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                                </svg>
                            </button>
                        </div>
                        <div class="calendar-list-new" id="ai-debt-calendar-list"></div>
                    </div>

                    <!-- Mini Calendar -->
                    <div class="todo-mini-calendar-card-new" id="tasks-calendar-card">
                        <div class="mini-calendar-header">
                            <span class="calendar-icon">üóìÔ∏è</span>
                            <h3>
                                <span class="title-en">Calendar</span>
                                <span class="title-bn">‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞</span>
                            </h3>
                        </div>
                        <div class="mini-calendar calendar-enhanced" id="tasks-mini-calendar"></div>
                    </div>

                    <!-- Tasks List -->
                    <div class="todo-list-new" id="todo-tasks-list-new">
                        <!-- Tasks will be rendered here -->
                    </div>

                    <!-- Old todo-tasks-list for compatibility -->
                    <div class="todo-tasks-list" id="todo-tasks-list" style="display: none;"></div>

                    <!-- Empty State -->
                    <div class="todo-empty-new" id="todo-empty-new" hidden>
                        <div class="empty-illustration">
                            <svg width="120" height="120" viewBox="0 0 120 120" fill="none">
                                <circle cx="60" cy="60" r="50" fill="var(--surface-soft)" stroke="var(--border)" stroke-width="2"/>
                                <path d="M40 55h40M40 65h30M40 75h20" stroke="var(--text-soft)" stroke-width="3" stroke-linecap="round"/>
                                <circle cx="85" cy="85" r="20" fill="var(--primary)" opacity="0.2"/>
                                <path d="M80 85l5 5 10-10" stroke="var(--primary)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <h3>
                            <span class="title-en">No tasks yet</span>
                            <span class="title-bn">‡¶è‡¶ñ‡¶®‡¶ì ‡¶ï‡ßã‡¶® ‡¶ï‡¶æ‡¶ú ‡¶®‡ßá‡¶á</span>
                        </h3>
                        <p>
                            <span class="title-en">Add your first task to get started!</span>
                            <span class="title-bn">‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶ï‡¶æ‡¶ú ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®!</span>
                        </p>
                    </div>

                    <!-- Old Category Views for backward compatibility -->
                    <div class="todo-categories-view" id="todo-categories-view" style="display: none;">
                        <div class="todo-categories-grid" id="todo-categories-grid"></div>
                        <div class="data-empty" id="categories-empty" hidden>
                            <div class="empty-state-icon">üìã</div>
                            <p data-i18n="tasks.empty">No categories yet.</p>
                        </div>
                    </div>
                    <div class="todo-detail-view" id="todo-detail-view" style="display: none;"></div>
                </div>
                </div>

                <!-- Notes Section - Premium Redesigned -->
                <div class="notes-app-v2" id="notes-section">
                        <!-- Notes Header -->
                        <div class="notes-header-v2">
                            <div class="notes-header-left">
                                <div class="notes-icon-badge">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M12 20h9"></path>
                                        <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h2 class="notes-title-v2">
                                        <span class="title-en">My Notes</span>
                                        <span class="title-bn">‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶®‡ßã‡¶ü</span>
                                    </h2>
                                    <p class="notes-subtitle-v2">
                                        <span class="title-en">Quick thoughts & ideas</span>
                                        <span class="title-bn">‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ ‡¶ì ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ</span>
                                    </p>
                                </div>
                            </div>
                            <div class="notes-stats-v2">
                                <div class="note-stat-pill" id="notes-count-pill">
                                    <span class="note-stat-num" id="notes-total-count">0</span>
                                    <span class="note-stat-text">
                                        <span class="title-en">Notes</span>
                                        <span class="title-bn">‡¶®‡ßã‡¶ü</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Notes Search & Actions -->
                        <div class="notes-controls-v2">
                            <div class="notes-search-v2">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <path d="m21 21-4.35-4.35"></path>
                                </svg>
                                <input type="search" id="notes-search" placeholder="Search notes..." data-i18n-placeholder="notes.searchPlaceholder">
                            </div>
                            <button class="notes-add-btn-v2" id="add-note-btn" aria-label="Add Note">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                <span class="title-en">New Note</span>
                                <span class="title-bn">‡¶®‡¶§‡ßÅ‡¶® ‡¶®‡ßã‡¶ü</span>
                            </button>
                        </div>

                        <!-- All / Pinned / Recent -->
                        <div class="notes-filter-row">
                            <button class="filter-btn active" data-filter="all">
                                <span class="title-en">All</span>
                                <span class="title-bn">‡¶∏‡¶¨</span>
                            </button>
                            <button class="filter-btn" data-filter="pinned">
                                <span class="title-en">Pinned</span>
                                <span class="title-bn">‡¶™‡¶ø‡¶® ‡¶ï‡¶∞‡¶æ</span>
                            </button>
                            <button class="filter-btn" data-filter="recent">
                                <span class="title-en">Recent</span>
                                <span class="title-bn">‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï</span>
                            </button>
                        </div>
                        
                        <!-- Color Filter Pills -->
                        <div class="notes-color-filters">
                            <button class="color-filter-pill active" data-color="all">
                                <span class="title-en">All</span>
                                <span class="title-bn">‡¶∏‡¶¨</span>
                            </button>
                            <button class="color-filter-pill" data-color="yellow">
                                <span class="color-dot yellow"></span>
                                <span class="title-en">Yellow</span>
                                <span class="title-bn">‡¶π‡¶≤‡ßÅ‡¶¶</span>
                            </button>
                            <button class="color-filter-pill" data-color="green">
                                <span class="color-dot green"></span>
                                <span class="title-en">Green</span>
                                <span class="title-bn">‡¶∏‡¶¨‡ßÅ‡¶ú</span>
                            </button>
                            <button class="color-filter-pill" data-color="blue">
                                <span class="color-dot blue"></span>
                                <span class="title-en">Blue</span>
                                <span class="title-bn">‡¶®‡ßÄ‡¶≤</span>
                            </button>
                            <button class="color-filter-pill" data-color="pink">
                                <span class="color-dot pink"></span>
                                <span class="title-en">Pink</span>
                                <span class="title-bn">‡¶ó‡ßã‡¶≤‡¶æ‡¶™‡¶ø</span>
                            </button>
                            <button class="color-filter-pill" data-color="gray">
                                <span class="color-dot gray"></span>
                                <span class="title-en">Gray</span>
                                <span class="title-bn">‡¶ß‡ßÇ‡¶∏‡¶∞</span>
                            </button>
                        </div>
                        
                        <!-- Notes Empty State - Beautiful -->
                        <div class="notes-empty-v2" id="notes-empty" hidden>
                            <div class="empty-illustration-v2">
                                <svg width="100" height="100" viewBox="0 0 100 100" fill="none">
                                    <circle cx="50" cy="50" r="45" fill="var(--primary-soft)" stroke="var(--primary)" stroke-width="2" stroke-dasharray="8 4"/>
                                    <rect x="30" y="25" width="40" height="50" rx="4" fill="var(--surface)" stroke="var(--border)" stroke-width="2"/>
                                    <line x1="38" y1="38" x2="62" y2="38" stroke="var(--text-soft)" stroke-width="2" stroke-linecap="round"/>
                                    <line x1="38" y1="48" x2="58" y2="48" stroke="var(--text-soft)" stroke-width="2" stroke-linecap="round"/>
                                    <line x1="38" y1="58" x2="52" y2="58" stroke="var(--text-soft)" stroke-width="2" stroke-linecap="round"/>
                                    <circle cx="72" cy="70" r="14" fill="var(--primary)" opacity="0.9"/>
                                    <line x1="72" y1="64" x2="72" y2="76" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
                                    <line x1="66" y1="70" x2="78" y2="70" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
                                </svg>
                            </div>
                            <h4>
                                <span class="title-en">Start capturing ideas</span>
                                <span class="title-bn">‡¶Ü‡¶á‡¶°‡¶ø‡¶Ø‡¶º‡¶æ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                            </h4>
                            <p>
                                <span class="title-en">Your notes will appear here. Tap the button to create your first note.</span>
                                <span class="title-bn">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡ßã‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶®‡ßã‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßã‡¶§‡¶æ‡¶Æ‡ßá ‡¶ü‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</span>
                            </p>
                            <button class="empty-create-btn" id="empty-add-note-btn">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                <span class="title-en">Create Note</span>
                                <span class="title-bn">‡¶®‡ßã‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                            </button>
                        </div>
                        
                        <!-- Notes Grid - Modern Cards -->
                        <div class="notes-grid-v2" id="notes-list" aria-live="polite"></div>
                        
                        <!-- Floating Action Button for Notes -->
                        <button class="notes-fab" id="notes-fab" aria-label="Add Note">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </button>
                </div>
            </section>

            <!-- Premium Panel -->
            <section class="panel" id="panel-premium" aria-label="Premium">
                <div class="premium-panel-new">
                    <div class="premium-hero">
                        <div class="premium-hero-icon">‚≠ê</div>
                        <h1>
                            <span class="title-en">Upgrade to Premium</span>
                            <span class="title-bn">‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ‡ßá ‡¶Ü‡¶™‡¶ó‡ßç‡¶∞‡ßá‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                        </h1>
                        <p>
                            <span class="title-en">Unlock all features and grow your business</span>
                            <span class="title-bn">‡¶∏‡¶¨ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ ‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡¶®</span>
                        </p>
                    </div>
                    
                    <!-- Current Plan Status -->
                    <div class="premium-current-status" id="premium-current-status">
                        <div class="status-badge free">
                            <span class="title-en">Current: Free Plan</span>
                            <span class="title-bn">‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶®: ‡¶´‡ßç‡¶∞‡¶ø ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®</span>
                        </div>
                    </div>
                    
                    <!-- All 4 Plans - Sorted by Price (Cheapest First) -->
                    <div class="plan-carousel-viewport">
                        <div class="plan-carousel-track" id="plan-carousel-track">
                        
                        <!-- 1. MAX Plan - ‡ß≥400/year (CHEAPEST) -->
                        <div class="plan-card-new featured" data-plan="max">
                            <div class="plan-badge-new">üí∞ Best Value</div>
                            <div class="plan-header-new">
                                <h3>MAX</h3>
                                <div class="plan-price-new">
                                    <strong>‡ß≥400</strong>
                                    <span>/year</span>
                                </div>
                            </div>
                            <ul class="plan-features-new">
                                <li>‚úì <span class="title-en">Unlimited customers</span><span class="title-bn">‡¶∏‡ßÄ‡¶Æ‡¶æ‡¶π‡ßÄ‡¶® ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ</span></li>
                                <li>‚úì <span class="title-en">Everything in Pro</span><span class="title-bn">‡¶™‡ßç‡¶∞‡ßã-‡¶è‡¶∞ ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ</span></li>
                                <li>‚úì <span class="title-en">AI Insights</span><span class="title-bn">‡¶è‡¶Ü‡¶á ‡¶Ö‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶¶‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø</span></li>
                                <li>‚úì <span class="title-en">Priority support</span><span class="title-bn">‡¶Ö‡¶ó‡ßç‡¶∞‡¶æ‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</span></li>
                            </ul>
                            <div class="plan-coupon-new">
                                <input type="text" id="premium-coupon-max" class="coupon-input-new" placeholder="Enter coupon code" autocomplete="off" />
                                <button type="button" class="coupon-btn-new" data-plan="max" id="premium-activate-max">
                                    <span class="title-en">Activate</span>
                                    <span class="title-bn">‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º</span>
                                </button>
                            </div>
                            <div class="coupon-feedback-new" id="premium-feedback-max"></div>
                        </div>

                        <!-- 2. PRO Plan - ‡ß≥40/month (~‡ß≥480/year) -->
                        <div class="plan-card-new" data-plan="pro">
                            <div class="plan-header-new">
                                <h3>PRO</h3>
                                <div class="plan-price-new">
                                    <strong>‡ß≥40</strong>
                                    <span>/month</span>
                                </div>
                            </div>
                            <ul class="plan-features-new">
                                <li>‚úì <span class="title-en">Up to 100 customers</span><span class="title-bn">‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡ßß‡ß¶‡ß¶ ‡¶ú‡¶® ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ</span></li>
                                <li>‚úì <span class="title-en">Todo & Tasks</span><span class="title-bn">‡¶ü‡ßÅ‡¶°‡ßÅ ‡¶ì ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</span></li>
                                <li>‚úì <span class="title-en">Advanced tracking</span><span class="title-bn">‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç</span></li>
                                <li>‚úì <span class="title-en">No Premium button</span><span class="title-bn">‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶®‡ßá‡¶á</span></li>
                            </ul>
                            <div class="plan-coupon-new">
                                <input type="text" id="premium-coupon-pro" class="coupon-input-new" placeholder="Enter coupon code" autocomplete="off" />
                                <button type="button" class="coupon-btn-new" data-plan="pro" id="premium-activate-pro">
                                    <span class="title-en">Activate</span>
                                    <span class="title-bn">‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º</span>
                                </button>
                            </div>
                            <div class="coupon-feedback-new" id="premium-feedback-pro"></div>
                        </div>

                        <!-- 3. ONLINE Plan - ‡ß≥500/year -->
                        <div class="plan-card-new" data-plan="online">
                            <div class="plan-header-new">
                                <h3>ONLINE</h3>
                                <div class="plan-price-new">
                                    <strong>‡ß≥500</strong>
                                    <span>/year</span>
                                </div>
                            </div>
                            <ul class="plan-features-new">
                                <li>‚úì <span class="title-en">Unlimited customers</span><span class="title-bn">‡¶∏‡ßÄ‡¶Æ‡¶æ‡¶π‡ßÄ‡¶® ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ</span></li>
                                <li>‚úì <span class="title-en">Online-first features</span><span class="title-bn">‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞</span></li>
                                <li>‚úì <span class="title-en">Standard support</span><span class="title-bn">‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</span></li>
                            </ul>
                            <div class="plan-coupon-new">
                                <input type="text" id="premium-coupon-online" class="coupon-input-new" placeholder="Enter coupon code" autocomplete="off" />
                                <button type="button" class="coupon-btn-new" data-plan="online" id="premium-activate-online">
                                    <span class="title-en">Activate</span>
                                    <span class="title-bn">‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º</span>
                                </button>
                            </div>
                            <div class="coupon-feedback-new" id="premium-feedback-online"></div>
                        </div>

                        <!-- 4. ULTRA Plan - ‡ß≥800/year (MOST EXPENSIVE - Includes AI Chat) -->
                        <div class="plan-card-new ultra" data-plan="ultra">
                            <div class="plan-badge-new">üëë Premium + AI</div>
                            <div class="plan-header-new">
                                <h3>ULTRA</h3>
                                <div class="plan-price-new">
                                    <strong>‡ß≥800</strong>
                                    <span>/year</span>
                                </div>
                            </div>
                            <ul class="plan-features-new">
                                <li>‚úì <span class="title-en">Unlimited customers</span><span class="title-bn">‡¶∏‡ßÄ‡¶Æ‡¶æ‡¶π‡ßÄ‡¶® ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ</span></li>
                                <li>‚úì <span class="title-en">Everything in Max</span><span class="title-bn">‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏-‡¶è‡¶∞ ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ</span></li>
                                <li>‚úì <span class="title-en"><strong>AI Chat (Exclusive)</strong></span><span class="title-bn"><strong>‡¶è‡¶Ü‡¶á ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü (‡¶è‡¶ï‡¶ö‡ßá‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ)</strong></span></li>
                                <li>‚úì <span class="title-en">Trust Ratio Analysis</span><span class="title-bn">‡¶ü‡ßç‡¶∞‡¶æ‡¶∏‡ßç‡¶ü ‡¶∞‡ßá‡¶∂‡¶ø‡¶ì ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£</span></li>
                                <li>‚úì <span class="title-en">24/7 Support</span><span class="title-bn">‡ß®‡ß™/‡ß≠ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</span></li>
                            </ul>
                            <div class="plan-coupon-new">
                                <input type="text" id="premium-coupon-ultra" class="coupon-input-new" placeholder="Enter coupon code" autocomplete="off" />
                                <button type="button" class="coupon-btn-new" data-plan="ultra" id="premium-activate-ultra">
                                    <span class="title-en">Activate</span>
                                    <span class="title-bn">‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º</span>
                                </button>
                            </div>
                            <div class="coupon-feedback-new" id="premium-feedback-ultra"></div>
                        </div>
                        
                        </div>
                    </div>
                    <div class="plan-carousel-nav">
                        <button type="button" class="plan-carousel-btn plan-carousel-prev" id="plan-carousel-prev" aria-label="Previous plan">‚Äπ</button>
                        <div class="plan-carousel-dots" id="plan-carousel-dots">
                            <button type="button" class="plan-carousel-dot active" data-index="0" aria-label="Plan 1"></button>
                            <button type="button" class="plan-carousel-dot" data-index="1" aria-label="Plan 2"></button>
                            <button type="button" class="plan-carousel-dot" data-index="2" aria-label="Plan 3"></button>
                            <button type="button" class="plan-carousel-dot" data-index="3" aria-label="Plan 4"></button>
                        </div>
                        <button type="button" class="plan-carousel-btn plan-carousel-next" id="plan-carousel-next" aria-label="Next plan">‚Ä∫</button>
                    </div>
                    
                    <!-- Buy Button -->
                    <div class="premium-buy-section">
                        <a href="https://www.facebook.com/profile.php?id=61560074175677" target="_blank" rel="noopener noreferrer" class="premium-buy-button">
                            <span class="title-en">üí¨ Buy Subscription on Facebook</span>
                            <span class="title-bn">üí¨ ‡¶´‡ßá‡¶∏‡¶¨‡ßÅ‡¶ï‡ßá ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®</span>
                        </a>
                    </div>
                </div>
            </section>

            <section class="panel" id="panel-settings" aria-label="Settings">
                <!-- New Modern Settings UI -->
                <div class="settings-new">
                    <!-- Header -->
                    <div class="settings-header-new">
                        <h1>
                            <span class="title-en">Settings</span>
                            <span class="title-bn">‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</span>
                        </h1>
                        <p class="settings-subtitle">
                            <span class="title-en">Customize your experience</span>
                            <span class="title-bn">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                        </p>
                    </div>
                    
                    <!-- Settings Grid -->
                    <div class="settings-grid-new">
                        <!-- Your Plan / DebtX - Plan-based branding -->
                        <div class="settings-section-new settings-plan-debtx" id="settings-plan-section">
                            <div class="section-header-new section-plan-header">
                                <div class="section-icon-new debtx-plan-icon" id="settings-plan-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                        <path d="M2 17l10 5 10-5"/>
                                    </svg>
                                </div>
                                <div class="section-title-new">
                                    <h3 class="debtx-brand" id="settings-debtx-name">DebtX</h3>
                                    <p class="settings-plan-badge" id="settings-plan-badge">Free</p>
                                    <p class="settings-plan-offline">
                                        <span class="title-en">‚úì Works offline</span>
                                        <span class="title-bn">‚úì ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá</span>
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Profile Section -->
                        <div class="settings-section-new">
                            <div class="section-header-new">
                                <div class="section-icon-new" style="background: linear-gradient(135deg, #6366f1, #8b5cf6);">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                </div>
                                <div class="section-title-new">
                                    <h3>
                                        <span class="title-en">Shop Profile</span>
                                        <span class="title-bn">‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</span>
                                    </h3>
                                    <p>
                                        <span class="title-en">Your business information</span>
                                        <span class="title-bn">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø</span>
                                    </p>
                                </div>
                            </div>
                            <div class="section-content-new">
                                <div class="profile-upload-new">
                                    <div class="avatar-upload-new" id="settings-shop-logo-preview">
                                        <span id="settings-shop-logo-placeholder">üè™</span>
                                        <input type="file" id="settings-shop-logo-input" accept="image/*" hidden>
                                    </div>
                                    <label for="settings-shop-logo-input" class="upload-btn-new">
                                        <span class="title-en">Change Logo</span>
                                        <span class="title-bn">‡¶≤‡ßã‡¶ó‡ßã ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®</span>
                                    </label>
                                </div>
                                <div class="input-group-new">
                                    <label>
                                        <span class="title-en">Shop Name</span>
                                        <span class="title-bn">‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</span>
                                    </label>
                                    <input type="text" id="settings-shop-name-input" maxlength="80" placeholder="Your shop name">
                                </div>
                                <div class="input-group-new">
                                    <label>
                                        <span class="title-en">Owner Name</span>
                                        <span class="title-bn">‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</span>
                                    </label>
                                    <input type="text" id="settings-owner-name-input" maxlength="60" placeholder="Your name">
                                </div>
                                <div class="input-row-new">
                                    <div class="input-group-new">
                                        <label>
                                            <span class="title-en">Phone</span>
                                            <span class="title-bn">‡¶´‡ßã‡¶®</span>
                                        </label>
                                        <input type="tel" id="settings-phone-number" maxlength="15" placeholder="01XXXXXXXXX">
                                    </div>
                                    <div class="input-group-new">
                                        <label>
                                            <span class="title-en">Payment Number</span>
                                            <span class="title-bn">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</span>
                                        </label>
                                        <input type="tel" id="settings-payment-number" maxlength="15" placeholder="01XXXXXXXXX">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Appearance Section -->
                        <div class="settings-section-new">
                            <div class="section-header-new">
                                <div class="section-icon-new" style="background: linear-gradient(135deg, #f59e0b, #ef4444);">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                        <circle cx="12" cy="12" r="5"></circle>
                                        <line x1="12" y1="1" x2="12" y2="3"></line>
                                        <line x1="12" y1="21" x2="12" y2="23"></line>
                                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                    </svg>
                                </div>
                                <div class="section-title-new">
                                    <h3>
                                        <span class="title-en">Appearance</span>
                                        <span class="title-bn">‡¶ö‡ßá‡¶π‡¶æ‡¶∞‡¶æ</span>
                                    </h3>
                                    <p>
                                        <span class="title-en">Theme, text size & dock</span>
                                        <span class="title-bn">‡¶•‡¶ø‡¶Æ, ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶ì ‡¶°‡¶ï</span>
                                    </p>
                                </div>
                            </div>
                            <div class="section-content-new">
                                <!-- Language -->
                                <div class="setting-item-new">
                                    <span class="setting-label-new">
                                        <span class="title-en">Language</span>
                                        <span class="title-bn">‡¶≠‡¶æ‡¶∑‡¶æ</span>
                                    </span>
                                    <div class="language-toggle-new">
                                        <button type="button" class="lang-btn-new" data-lang="en">EN</button>
                                        <button type="button" class="lang-btn-new active" data-lang="bn">‡¶¨‡¶æ‡¶Ç</button>
                                    </div>
                                </div>
                                
                                <!-- Text Size -->
                                <div class="setting-item-new">
                                    <span class="setting-label-new">
                                        <span class="title-en">Text Size</span>
                                        <span class="title-bn">‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú</span>
                                    </span>
                                    <div class="text-size-new">
                                        <button type="button" class="size-btn-new" data-size="1">A</button>
                                        <button type="button" class="size-btn-new" data-size="2">A</button>
                                        <button type="button" class="size-btn-new active" data-size="3">A</button>
                                        <button type="button" class="size-btn-new" data-size="4">A</button>
                                        <button type="button" class="size-btn-new" data-size="5">A</button>
                                    </div>
                                </div>
                                
                                <!-- Dock Size -->
                                <div class="setting-item-new">
                                    <span class="setting-label-new">
                                        <span class="title-en">Dock Size</span>
                                        <span class="title-bn">‡¶°‡¶ï ‡¶∏‡¶æ‡¶á‡¶ú</span>
                                    </span>
                                    <div class="dock-slider-new">
                                        <input type="range" id="dock-size-range" min="0.2" max="1.0" step="0.01" value="1" />
                                        <span class="dock-value-new" id="dock-size-value">100%</span>
                                    </div>
                                </div>
                                
                                <!-- Themes -->
                                <div class="themes-grid-new" id="theme-grid">
                                    <div class="theme-tile-new" data-theme="cozy-ledger" aria-checked="true">
                                        <div class="theme-preview-new cozy"></div>
                                        <span>Cozy</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="clean-business" aria-checked="false">
                                        <div class="theme-preview-new clean"></div>
                                        <span>Clean</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="night-shop" aria-checked="false">
                                        <div class="theme-preview-new night"></div>
                                        <span>Night</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="zen-finance" aria-checked="false">
                                        <div class="theme-preview-new zen"></div>
                                        <span>Zen</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="street-ledger" aria-checked="false">
                                        <div class="theme-preview-new street"></div>
                                        <span>Street</span>
                                    </div>
                                    <div class="theme-tile-new" data-theme="classic-paper" aria-checked="false">
                                        <div class="theme-preview-new classic"></div>
                                        <span>Classic</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Methods Section -->
                        <div class="settings-section-new">
                            <div class="section-header-new">
                                <div class="section-icon-new" style="background: linear-gradient(135deg, #10b981, #059669);">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                        <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                        <line x1="1" y1="10" x2="23" y2="10"></line>
                                    </svg>
                                </div>
                                <div class="section-title-new">
                                    <h3>
                                        <span class="title-en">Payment Methods</span>
                                        <span class="title-bn">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø</span>
                                    </h3>
                                    <p>
                                        <span class="title-en">Enable payment options</span>
                                        <span class="title-bn">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶™‡¶∂‡¶® ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                                    </p>
                                </div>
                            </div>
                            <div class="section-content-new">
                                <div class="payment-item-new">
                                    <div class="payment-info-new">
                                        <span class="payment-name-new">bKash</span>
                                        <span class="payment-desc-new">Mobile Banking</span>
                                    </div>
                                    <label class="switch-new">
                                        <input type="checkbox" id="payment-toggle-bkash">
                                        <span class="slider-new"></span>
                                    </label>
                                </div>
                                <div class="payment-item-new">
                                    <div class="payment-info-new">
                                        <span class="payment-name-new">Nagad</span>
                                        <span class="payment-desc-new">Mobile Banking</span>
                                    </div>
                                    <label class="switch-new">
                                        <input type="checkbox" id="payment-toggle-nagad">
                                        <span class="slider-new"></span>
                                    </label>
                                </div>
                                <div class="payment-item-new">
                                    <div class="payment-info-new">
                                        <span class="payment-name-new">Rocket</span>
                                        <span class="payment-desc-new">Mobile Banking</span>
                                    </div>
                                    <label class="switch-new">
                                        <input type="checkbox" id="payment-toggle-rocket">
                                        <span class="slider-new"></span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Data Backup & Transfer -->
                        <div class="settings-section-new">
                            <div class="section-header-new">
                                <div class="section-icon-new" style="background: linear-gradient(135deg, #0ea5e9, #0284c7);">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="7 10 12 15 17 10"></polyline>
                                        <line x1="12" y1="15" x2="12" y2="3"></line>
                                    </svg>
                                </div>
                                <div class="section-title-new">
                                    <h3 data-i18n="settings.dataTitle">Data Backup & Transfer</h3>
                                    <p data-i18n="settings.dataHint">Export your data as JSON to backup or transfer to another device. Import to restore your data.</p>
                                </div>
                            </div>
                            <div class="section-content-new">
                                <div class="support-buttons-new">
                                    <button type="button" class="support-btn-new export" id="export-data-btn">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                            <polyline points="7 10 12 15 17 10"></polyline>
                                            <line x1="12" y1="15" x2="12" y2="3"></line>
                                        </svg>
                                        <span data-i18n="settings.exportData">Export JSON</span>
                                    </button>
                                    <label class="support-btn-new import" for="import-data-input">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                            <polyline points="17 8 12 3 7 8"></polyline>
                                            <line x1="12" y1="3" x2="12" y2="15"></line>
                                        </svg>
                                        <span data-i18n="settings.importData">Import JSON</span>
                                    </label>
                                </div>
                                <input type="file" id="import-data-input" accept=".json,application/json" hidden>
                                <p id="data-status" class="data-status" role="status"></p>
                            </div>
                        </div>

                        <!-- Monthly Stats Section -->
                        <div class="settings-section-new">
                            <div class="section-header-new">
                                <div class="section-icon-new" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                        <line x1="16" y1="2" x2="16" y2="6"></line>
                                        <line x1="8" y1="2" x2="8" y2="6"></line>
                                        <line x1="3" y1="10" x2="21" y2="10"></line>
                                    </svg>
                                </div>
                                <div class="section-title-new">
                                    <h3>
                                        <span class="title-en">Monthly Stats</span>
                                        <span class="title-bn">‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®</span>
                                    </h3>
                                    <p>
                                        <span class="title-en">Your business overview</span>
                                        <span class="title-bn">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂</span>
                                    </p>
                                </div>
                            </div>
                            <div class="section-content-new">
                                <div class="stats-grid-new">
                                    <div class="stat-card-new">
                                        <span class="stat-icon-new">üí∞</span>
                                        <div class="stat-info-new">
                                            <span class="stat-value-new" id="monthly-total-revenue">‡ß≥0</span>
                                            <span class="stat-label-new">Revenue</span>
                                        </div>
                                    </div>
                                    <div class="stat-card-new">
                                        <span class="stat-icon-new">‚úÖ</span>
                                        <div class="stat-info-new">
                                            <span class="stat-value-new" id="monthly-payments-received">‡ß≥0</span>
                                            <span class="stat-label-new">Received</span>
                                        </div>
                                    </div>
                                    <div class="stat-card-new">
                                        <span class="stat-icon-new">üìÑ</span>
                                        <div class="stat-info-new">
                                            <span class="stat-value-new" id="monthly-bills-generated">0</span>
                                            <span class="stat-label-new">Bills</span>
                                        </div>
                                    </div>
                                    <div class="stat-card-new">
                                        <span class="stat-icon-new">‚è≥</span>
                                        <div class="stat-info-new">
                                            <span class="stat-value-new" id="monthly-pending-amount">‡ß≥0</span>
                                            <span class="stat-label-new">Pending</span>
                                        </div>
                                    </div>
                                </div>
                                <button class="view-wrap-btn-new" id="view-monthly-wrap-btn">
                                    <span class="title-en">View Full Report</span>
                                    <span class="title-bn">‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Support & Subscription Section -->
                    <div class="settings-section-new">
                        <div class="section-header-new">
                            <div class="section-icon-new" style="background: linear-gradient(135deg, #ec4899, #be185d);">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                                </svg>
                            </div>
                            <div class="section-title-new">
                                <h3>
                                    <span class="title-en">Help & Support</span>
                                    <span class="title-bn">‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ì ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</span>
                                </h3>
                                <p>
                                    <span class="title-en">Get help or manage subscription</span>
                                    <span class="title-bn">‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶®‡¶ø‡¶® ‡¶¨‡¶æ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶™‡¶∞‡¶ø‡¶ö‡¶æ‡¶≤‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                                </p>
                            </div>
                        </div>
                        <div class="section-content-new">
                            <div class="support-buttons-new">
                                <a href="https://www.facebook.com/profile.php?id=61560074175677" target="_blank" rel="noopener noreferrer" class="support-btn-new chat">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                                    </svg>
                                    <span>
                                        <span class="title-en">Support Chat</span>
                                        <span class="title-bn">‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü</span>
                                    </span>
                                </a>
                                <button type="button" class="support-btn-new cancel" id="cancel-subscription-btn">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <line x1="15" y1="9" x2="9" y2="15"></line>
                                        <line x1="9" y1="9" x2="15" y2="15"></line>
                                    </svg>
                                    <span>
                                        <span class="title-en">Cancel Subscription</span>
                                        <span class="title-bn">‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤</span>
                                    </span>
                                </button>
                            </div>
                            <p class="support-note-new">
                                <span class="title-en">Need help? Chat with us on Facebook for quick support!</span>
                                <span class="title-bn">‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞? ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶´‡ßá‡¶∏‡¶¨‡ßÅ‡¶ï‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®!</span>
                            </p>
                        </div>
                    </div>

                    <!-- Credits Footer -->
                    <div class="settings-credits-new">
                        <div class="credits-logo">
                            <span class="credits-icon">‚ú®</span>
                            <span class="credits-brand">DebtX</span>
                        </div>
                        <div class="credits-info">
                            <p class="credits-made">Made by <strong>Cozytustudios</strong></p>
                            <p class="credits-founder">Founder: <strong>Sajid Hossain</strong></p>
                        </div>
                        <div class="credits-version">
                            <span>Version 2.0</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>

    </div>

    <dialog class="modal" id="profile-modal" aria-labelledby="profile-modal-title">
        <form class="modal-form" id="profile-form">
            <h2 id="profile-modal-title" data-i18n="modals.profile.title">Edit Profile</h2>
            <label>
                <span data-i18n="modals.profile.name">Name</span>
                <input type="text" name="name" maxlength="60" required />
            </label>
            <label>
                <span data-i18n="modals.profile.email">Email</span>
                <input type="email" name="email" maxlength="120" />
            </label>
            <label>
                <span data-i18n="modals.profile.profilePicture">Profile picture</span>
                <input type="file" name="profilePicture" accept="image/*" />
            </label>
            <label>
                <span data-i18n="modals.profile.extraPhoto">Additional photo</span>
                <input type="file" name="extraPhoto" accept="image/*" />
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="customer-modal" aria-labelledby="customer-modal-title">
        <form class="modal-form" id="customer-form">
            <h2 id="customer-modal-title" data-i18n="modals.customer.title">Add Customer</h2>
            <label>
                <span data-i18n="modals.customer.name">Customer Name</span>
                <input type="text" name="name" required maxlength="60" />
            </label>
            <label>
                <span data-i18n="modals.customer.phone">Phone Number (optional)</span>
                <input type="tel" name="phone" maxlength="15" />
            </label>
            <label>
                <span data-i18n="modals.customer.repayDays">Repayment window (days)</span>
                <input type="number" name="repaymentDays" min="1" max="90" value="7" />
            </label>
            <label>
                <span data-i18n="modals.customer.note">Note</span>
                <textarea name="note" rows="2" maxlength="140"></textarea>
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="debt-modal" aria-labelledby="debt-modal-title">
        <form class="modal-form" id="debt-form">
            <h2 id="debt-modal-title" data-i18n="modals.debt.title">Record Debt</h2>
            <input type="hidden" name="customerId" />
            <label>
                <span data-i18n="modals.debt.amount">Debt Amount (‡ß≥)</span>
                <div style="display: flex; gap: 8px; align-items: center;">
                    <input type="number" name="amount" min="1" step="1" required style="flex: 1;" />
                    <button type="button" class="voice-input-btn" id="debt-amount-voice-btn" aria-label="Voice Input" title="Voice Input">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                            <line x1="12" y1="19" x2="12" y2="23"></line>
                            <line x1="8" y1="23" x2="16" y2="23"></line>
                        </svg>
                    </button>
                </div>
            </label>
            <label>
                <span data-i18n="modals.debt.description">Description</span>
                <textarea name="description" rows="2" maxlength="140"></textarea>
            </label>
            <label>
                <span data-i18n="modals.debt.date">Date</span>
                <input type="date" name="date" required />
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="payment-modal" aria-labelledby="payment-modal-title">
        <form class="modal-form" id="payment-form">
            <h2 id="payment-modal-title" data-i18n="modals.payment.title">Record Payment</h2>
            <input type="hidden" name="customerId" />
            <label>
                <span data-i18n="modals.payment.amount">Payment Amount (‡ß≥)</span>
                <input type="number" name="amount" min="1" step="1" required />
            </label>
            <label>
                <span data-i18n="modals.payment.date">Date</span>
                <input type="date" name="date" required />
            </label>
            <label>
                <span data-i18n="modals.payment.note">Note</span>
                <textarea name="note" rows="2" maxlength="140"></textarea>
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="note-modal" aria-labelledby="note-modal-title">
        <form class="modal-form" id="note-form">
            <h2 id="note-modal-title" data-i18n="modals.note.title">New Todo</h2>
            <label>
                <span data-i18n="modals.note.titleLabel">Title</span>
                <input type="text" name="title" maxlength="80" required />
            </label>
            <label>
                <span data-i18n="modals.note.color">Color</span>
                <select name="color">
                    <option value="yellow" data-i18n="modals.note.colorYellow">Yellow</option>
                    <option value="green" data-i18n="modals.note.colorGreen">Green</option>
                    <option value="blue" data-i18n="modals.note.colorBlue">Blue</option>
                    <option value="pink" data-i18n="modals.note.colorPink">Pink</option>
                    <option value="gray" data-i18n="modals.note.colorGray">Gray</option>
                </select>
            </label>
            <label>
                <span data-i18n="modals.note.body">Note</span>
                <textarea name="body" rows="4" maxlength="400"></textarea>
            </label>
            <label class="inline-checkbox">
                <input type="checkbox" name="pinned" />
                <span data-i18n="modals.note.pinned">Pin to top</span>
            </label>
            <input type="hidden" name="noteId" />
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="task-modal" aria-labelledby="task-modal-title">
        <form class="modal-form" id="task-form">
            <h2 id="task-modal-title" data-i18n="modals.task.title">Add Task</h2>
            <label>
                <span data-i18n="modals.task.name">Task Name</span>
                <input type="text" name="name" maxlength="80" required />
            </label>
            <label>
                <span data-i18n="modals.task.type">Category</span>
                <select name="type">
                    <option value="work" data-i18n="modals.task.typeWork">üíº Work</option>
                    <option value="personal" data-i18n="modals.task.typePersonal">üë§ Personal</option>
                    <option value="shopping" data-i18n="modals.task.typeShopping">üõí Shopping</option>
                    <option value="other" data-i18n="modals.task.typeOther">üìù Other</option>
                </select>
            </label>
            <label>
                <span data-i18n="modals.task.priority">Priority</span>
                <select name="priority">
                    <option value="low">üü¢ Low</option>
                    <option value="medium" selected>üü° Medium</option>
                    <option value="high">üî¥ High</option>
                    <option value="urgent">‚ö° Urgent</option>
                </select>
            </label>
            <label>
                <span data-i18n="modals.task.date">Due Date</span>
                <input type="date" name="dueDate" required />
            </label>
            <label>
                <span data-i18n="modals.task.time">Due Time (optional)</span>
                <input type="time" name="dueTime" />
            </label>
            <label>
                <span data-i18n="modals.task.note">Note</span>
                <textarea name="note" rows="3" maxlength="200"></textarea>
            </label>
            <label class="inline-checkbox">
                <input type="checkbox" name="recurring" />
                <span data-i18n="modals.task.recurring">Repeat this task</span>
            </label>
            <label id="recurring-options" style="display: none;">
                <span data-i18n="modals.task.recurringType">Repeat</span>
                <select name="recurringType">
                    <option value="daily">Daily</option>
                    <option value="weekly">Weekly</option>
                    <option value="monthly">Monthly</option>
                </select>
            </label>
            <input type="hidden" name="taskId" />
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="shop-profile-modal" aria-labelledby="shop-profile-modal-title">
        <form class="modal-form" id="shop-profile-form">
            <h2 id="shop-profile-modal-title" data-i18n="modals.shopProfile.title">Shop Profile</h2>
            <label>
                <span data-i18n="modals.shopProfile.ownerName">Your Name</span>
                <input type="text" name="ownerName" maxlength="60" required />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.shopName">Shop Name</span>
                <input type="text" name="shopName" maxlength="80" required />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.phoneNumber">Phone Number</span>
                <input type="tel" name="phoneNumber" maxlength="15" placeholder="01XXXXXXXXX" />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.shopLogo">Shop Logo/Picture</span>
                <input type="file" name="shopLogo" accept="image/*" />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.yourPhoto">Your Photo</span>
                <input type="file" name="ownerPhoto" accept="image/*" />
            </label>
            <div class="payment-methods-section">
                <h3 data-i18n="modals.shopProfile.paymentMethods">Payment Methods</h3>
                <label class="inline-checkbox">
                    <input type="checkbox" name="useBkash" />
                    <span>bKash</span>
                </label>
                <label class="inline-checkbox">
                    <input type="checkbox" name="useNagad" />
                    <span>Nagad</span>
                </label>
                <label class="inline-checkbox">
                    <input type="checkbox" name="useRocket" />
                    <span>Rocket</span>
                </label>
            </div>
            <label>
                <span data-i18n="modals.shopProfile.bkashNumber">bKash Number</span>
                <input type="tel" name="bkashNumber" maxlength="15" />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.nagadNumber">Nagad Number</span>
                <input type="tel" name="nagadNumber" maxlength="15" />
            </label>
            <label>
                <span data-i18n="modals.shopProfile.rocketNumber">Rocket Number</span>
                <input type="tel" name="rocketNumber" maxlength="15" />
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal bill-modal-enhanced" id="bill-modal" aria-labelledby="bill-modal-title">
        <form class="modal-form" id="bill-form">
            <input type="hidden" name="billId" id="bill-id-input" />
            <div class="modal-header-enhanced">
                <div>
                    <h2 id="bill-modal-title" data-i18n="modals.bill.title">Create Bill / Invoice</h2>
                    <p class="modal-subtitle" data-i18n="modals.bill.subtitle">Generate professional bills for your customers</p>
                </div>
                <button type="button" class="icon-btn modal-close-btn" data-close aria-label="Close">‚úï</button>
            </div>
            
            <div class="bill-form-grid">
                <label class="enhanced-label">
                    <span data-i18n="modals.bill.customerName">Customer Name</span>
                    <select name="customerId" id="bill-customer-select">
                        <option value="">-- Select Customer or Enter New --</option>
                    </select>
                </label>
                <label class="enhanced-label">
                    <span data-i18n="modals.bill.customerNameManual">Or Enter Customer Name</span>
                    <input type="text" name="customerName" id="bill-customer-name" maxlength="60" placeholder="Enter customer name" />
                </label>
            </div>

            <label class="enhanced-label">
                <span data-i18n="modals.bill.invoiceNumber">Invoice Number (Auto-generated if empty)</span>
                <input type="text" name="invoiceNumber" maxlength="30" placeholder="INV-001" />
            </label>
            
            <div class="products-section">
                <div class="section-header">
                    <h3 data-i18n="modals.bill.productsTitle">Items / Services</h3>
                    <button type="button" class="add-product-btn-inline" id="add-product-btn-inline">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="16"></line>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                        <span data-i18n="modals.bill.addProduct">Add Item</span>
                    </button>
                </div>
                <div id="bill-products" class="bill-products-container">
                    <div class="bill-product-row">
                        <input type="text" name="productName[]" placeholder="Item/Service name" required />
                        <input type="number" name="productPrice[]" placeholder="Price" min="0" step="0.01" required />
                        <input type="number" name="productQuantity[]" placeholder="Qty" min="1" value="1" required />
                        <input type="number" name="productDiscount[]" placeholder="Discount %" min="0" max="100" step="0.01" value="0" />
                        <button type="button" class="remove-product-btn" aria-label="Remove product">√ó</button>
                    </div>
                </div>
            </div>

            <div class="bill-calculations">
                <div class="calc-row">
                    <span data-i18n="modals.bill.subtotal">Subtotal</span>
                    <strong>‡ß≥<span id="bill-subtotal">0</span></strong>
                </div>
                <div class="calc-row">
                    <label class="inline-label">
                        <span data-i18n="modals.bill.discount">Discount (%)</span>
                        <input type="number" name="totalDiscount" id="bill-total-discount" min="0" max="100" step="0.01" value="0" />
                    </label>
                    <strong>‡ß≥<span id="bill-discount-amount">0</span></strong>
                </div>
                <div class="calc-row">
                    <label class="inline-label">
                        <span data-i18n="modals.bill.tax">Tax (%) <small>(Optional)</small></span>
                        <input type="number" name="tax" id="bill-tax" min="0" step="0.01" value="0" />
                    </label>
                    <strong>‡ß≥<span id="bill-tax-amount">0</span></strong>
                </div>
            </div>
            
            <div class="bill-total-enhanced">
                <div class="total-label" data-i18n="modals.bill.total">Total Amount</div>
                <div class="total-amount">‡ß≥<span id="bill-total-amount">0</span></div>
            </div>

            <div class="bill-form-grid">
                <label class="enhanced-label">
                    <span data-i18n="modals.bill.dueDate">Due Date</span>
                    <input type="date" name="dueDate" id="bill-due-date" />
                </label>
                <label class="enhanced-label">
                    <span data-i18n="modals.bill.paymentStatus">Payment Status</span>
                    <select name="paymentStatus" id="bill-payment-status">
                        <option value="pending" data-i18n="modals.bill.statusPending">Pending</option>
                        <option value="paid" data-i18n="modals.bill.statusPaid">Paid</option>
                        <option value="partial" data-i18n="modals.bill.statusPartial">Partial</option>
                    </select>
                </label>
            </div>

            <label class="enhanced-label">
                <span data-i18n="modals.bill.notes">Notes / Terms (Optional)</span>
                <textarea name="notes" rows="2" maxlength="200" placeholder="Payment terms, delivery info, etc."></textarea>
            </label>
            
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn bill-generate-btn" data-i18n="modals.bill.generateBill">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                    </svg>
                    Generate Bill
                </button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="bill-customize-modal" aria-labelledby="bill-customize-modal-title">
        <div class="modal-form bill-customize-form">
            <div class="modal-header-enhanced">
                <h2 id="bill-customize-modal-title" data-i18n="modals.billCustomize.title">Customize Bill Card</h2>
                <button type="button" class="icon-btn modal-close-btn" data-close aria-label="Close">‚úï</button>
            </div>
            
            <div class="customize-layout">
                <div class="customize-controls">
                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.theme">Theme</h3>
                        <div class="theme-options">
                            <button type="button" class="theme-option" data-theme="minimal" data-i18n="modals.billCustomize.themeMinimal">Minimal</button>
                            <button type="button" class="theme-option active" data-theme="cozy" data-i18n="modals.billCustomize.themeCozy">Cozy</button>
                            <button type="button" class="theme-option" data-theme="professional" data-i18n="modals.billCustomize.themeProfessional">Professional</button>
                        </div>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.layout">Layout Style</h3>
                        <select id="customize-layout-style">
                            <option value="modern">Modern</option>
                            <option value="classic">Classic</option>
                            <option value="compact">Compact</option>
                        </select>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.colors">Colors</h3>
                        <div class="color-picker-grid">
                            <label>
                                <span>Primary Color</span>
                                <input type="color" id="customize-primary-color" value="#1c8b73" />
                            </label>
                            <label>
                                <span>Accent Color</span>
                                <input type="color" id="customize-accent-color" value="#f2a03d" />
                            </label>
                            <label>
                                <span>Background</span>
                                <input type="color" id="customize-bg-color" value="#ffffff" />
                            </label>
                        </div>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.font">Font</h3>
                        <select id="customize-font">
                            <option value="inter">Inter</option>
                            <option value="roboto">Roboto</option>
                            <option value="opensans">Open Sans</option>
                            <option value="lato">Lato</option>
                        </select>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.spacing">Spacing</h3>
                        <input type="range" id="customize-spacing" min="8" max="24" value="16" />
                        <span id="spacing-value">16px</span>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.border">Border</h3>
                        <label class="inline-checkbox">
                            <input type="checkbox" id="customize-border" checked />
                            <span>Show Border</span>
                        </label>
                        <input type="range" id="customize-border-width" min="0" max="4" value="2" />
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.logo">Shop Logo</h3>
                        <input type="file" id="customize-logo" accept="image/*" />
                        <button type="button" class="secondary-btn" id="remove-logo-btn">Remove Logo</button>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.fontSize">Font Size</h3>
                        <input type="range" id="customize-font-size" min="-4" max="8" value="0" />
                        <span id="font-size-value">0px</span>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.icons">Icons</h3>
                        <label class="inline-checkbox">
                            <input type="checkbox" id="customize-show-icons" checked />
                            <span>Show Icons</span>
                        </label>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.customNotes">Custom Notes</h3>
                        <textarea id="customize-notes" rows="3" maxlength="200" placeholder="Add custom notes or terms"></textarea>
                    </div>

                    <div class="customize-section">
                        <h3 data-i18n="modals.billCustomize.sections">Section Order</h3>
                        <div id="section-order-list" class="section-order-list"></div>
                    </div>
                </div>

                <div class="customize-preview">
                    <h3 data-i18n="modals.billCustomize.preview">Live Preview</h3>
                    <div id="bill-card-preview" class="bill-card-preview-container"></div>
                    <div class="preview-actions">
                        <button type="button" class="secondary-btn" id="preview-download-btn">Download Preview</button>
                    </div>
                </div>
            </div>

            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="button" class="secondary-btn" id="reset-customize-btn" data-i18n="modals.billCustomize.reset">Reset</button>
                <button type="button" class="primary-btn" id="apply-customize-btn" data-i18n="modals.billCustomize.apply">Apply & Download</button>
            </div>
        </div>
    </dialog>

    <dialog class="modal" id="monthly-wrap-modal" aria-labelledby="monthly-wrap-modal-title">
        <div class="modal-form">
            <h2 id="monthly-wrap-modal-title" data-i18n="modals.monthlyWrap.title">Monthly Summary</h2>
            <div id="monthly-wrap-content">
                <p data-i18n="modals.monthlyWrap.loading">Loading monthly summary...</p>
            </div>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.close">Close</button>
            </div>
        </div>
    </dialog>

    <dialog class="modal" id="trial-popup-modal" aria-labelledby="trial-popup-modal-title">
        <div class="modal-form">
            <div class="trial-popup-header">
                <h2 id="trial-popup-modal-title">
                    <span class="title-en">üéâ Free Trial Activated!</span>
                    <span class="title-bn">üéâ ‡¶´‡ßç‡¶∞‡¶ø ‡¶ü‡ßç‡¶∞‡¶æ‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º!</span>
                </h2>
            </div>
            <div class="trial-popup-content">
                <p class="trial-popup-message">
                    <span class="title-en">You now have 3 days of free access to all premium features!</span>
                    <span class="title-bn">‡¶è‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡ß© ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶´‡ßç‡¶∞‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶∞‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡ßá‡¶∞!</span>
                </p>
                <ul class="trial-benefits">
                    <li>
                        <span class="title-en">‚ú® Unlimited customers</span>
                        <span class="title-bn">‚ú® ‡¶∏‡ßÄ‡¶Æ‡¶æ‡¶π‡ßÄ‡¶® ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ</span>
                    </li>
                    <li>
                        <span class="title-en">ü§ñ AI Assistant access</span>
                        <span class="title-bn">ü§ñ ‡¶è‡¶Ü‡¶á ‡¶∏‡¶π‡¶æ‡¶Ø‡¶º‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏</span>
                    </li>
                    <li>
                        <span class="title-en">üìä Advanced analytics</span>
                        <span class="title-bn">üìä ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£</span>
                    </li>
                </ul>
            </div>
            <div class="modal-actions">
                <button type="button" class="primary-btn" data-close>
                    <span class="title-en">Get Started</span>
                    <span class="title-bn">‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                </button>
            </div>
        </div>
    </dialog>

    <dialog class="modal" id="card-customize-modal" aria-labelledby="card-customize-modal-title">
        <form class="modal-form" id="card-customize-form">
            <h2 id="card-customize-modal-title" data-i18n="modals.cardCustomize.title">Customize Card</h2>
            <label>
                <span data-i18n="modals.cardCustomize.style">Card Style</span>
                <select name="cardStyle">
                    <option value="default">Default</option>
                    <option value="funny">Funny</option>
                    <option value="elegant">Elegant</option>
                    <option value="colorful">Colorful</option>
                </select>
            </label>
            <label>
                <span data-i18n="modals.cardCustomize.message">Custom Message</span>
                <textarea name="customMessage" rows="3" maxlength="200" placeholder="Add a funny or custom message"></textarea>
            </label>
            <label>
                <span data-i18n="modals.cardCustomize.emoji">Add Emoji</span>
                <input type="text" name="emoji" maxlength="5" placeholder="üòä" />
            </label>
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.apply">Apply</button>
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="demand-modal" aria-labelledby="demand-modal-title">
        <form class="modal-form" id="demand-form">
            <div class="modal-header-with-close">
                <h2 id="demand-modal-title" data-i18n="modals.demand.title">Demand Payment</h2>
                <button type="button" class="modal-close-x" data-close aria-label="Close">‚úï</button>
            </div>
            <input type="hidden" name="customerId" />
            <label>
                <span data-i18n="modals.demand.amount">Amount to request (‡ß≥)</span>
                <input type="number" name="amount" min="1" step="1" required />
            </label>
            <label>
                <span data-i18n="modals.demand.dueDate">Due date</span>
                <input type="date" name="dueDate" />
            </label>
            <label>
                <span data-i18n="modals.demand.method">Payment method / link</span>
                <input type="text" name="paymentMethod" placeholder="bKash / Nagad / UPI / Bank link" />
            </label>
            <label>
                <span data-i18n="modals.demand.note">Message</span>
                <textarea name="note" rows="2" maxlength="180" placeholder="Please pay by Friday"></textarea>
            </label>
            <div class="demand-actions">
                <button type="submit" class="primary-btn" data-i18n="modals.demand.generate">Generate card</button>
                <button type="button" class="secondary-btn" id="demand-share-btn" data-i18n="modals.demand.share">Share</button>
                <a class="secondary-btn" id="demand-download-btn" download="demand-card.png" data-i18n="modals.demand.download">Download</a>
            </div>
            <div class="demand-preview" id="demand-preview">
                <p data-i18n="modals.demand.previewText">Generated payment card will appear here.</p>
                <img id="demand-preview-img" alt="" />
            </div>
        </form>
    </dialog>

    <dialog class="modal" id="logo-modal" aria-labelledby="logo-modal-title">
        <form class="modal-form" id="logo-form">
            <h2 id="logo-modal-title" data-i18n="modals.logo.title">Add Shop Logo</h2>
            <label>
                <span data-i18n="modals.logo.name">Logo Name</span>
                <input type="text" name="logoName" maxlength="60" required />
            </label>
            <label>
                <span data-i18n="modals.logo.image">Logo Image</span>
                <input type="file" name="logoImage" accept="image/*" required />
            </label>
            <input type="hidden" name="logoId" />
            <div class="modal-actions">
                <button type="button" class="secondary-btn" data-close data-i18n="actions.cancel">Cancel</button>
                <button type="submit" class="primary-btn" data-i18n="actions.save">Save</button>
            </div>
        </form>
    </dialog>

    <!-- Onboarding Tutorial Modal -->
    <dialog class="modal onboarding-modal" id="onboarding-modal">
        <div class="onboarding-container">
            <button class="onboarding-skip" id="onboarding-skip">
                <span class="title-en">Skip Tutorial</span>
                <span class="title-bn">‡¶ü‡¶ø‡¶â‡¶ü‡ßã‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶¨‡¶æ‡¶¶ ‡¶¶‡¶ø‡¶®</span>
            </button>
            
            <div class="onboarding-slides" id="onboarding-slides">
                <!-- Step 1: Welcome -->
                <div class="onboarding-slide active" data-step="0">
                    <div class="onboarding-icon">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="1.5">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                            <path d="M2 17l10 5 10-5"/>
                            <path d="M2 12l10 5 10-5"/>
                        </svg>
                    </div>
                    <h2 class="onboarding-title">
                        <span class="title-en">Welcome to DebtX!</span>
                        <span class="title-bn">DebtX-‡¶è ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!</span>
                    </h2>
                    <p class="onboarding-desc">
                        <span class="title-en">Let us show you how to get started with managing your shop's debts and bills.</span>
                        <span class="title-bn">‡¶Ü‡¶∏‡ßÅ‡¶® ‡¶¶‡ßá‡¶ñ‡¶ø ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶ì ‡¶¨‡¶ø‡¶≤ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá‡¶®‡•§</span>
                    </p>
                </div>

                <!-- Step 2: Add Customers -->
                <div class="onboarding-slide" data-step="1">
                    <div class="onboarding-icon">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="1.5">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <line x1="19" y1="8" x2="19" y2="14"/>
                            <line x1="22" y1="11" x2="16" y2="11"/>
                        </svg>
                    </div>
                    <h2 class="onboarding-title">
                        <span class="title-en">Add Your First Customer</span>
                        <span class="title-bn">‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                    </h2>
                    <p class="onboarding-desc">
                        <span class="title-en">Start by adding customers to track their debts and payments. Tap the <strong>+ Add Customer</strong> button on the Customers page.</span>
                        <span class="title-bn">‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¶‡ßá‡¶®‡¶æ ‡¶ì ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ ‡¶™‡ßá‡¶ú‡ßá <strong>+ ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</strong> ‡¶¨‡ßã‡¶§‡¶æ‡¶Æ‡ßá ‡¶ü‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</span>
                    </p>
                    <div class="onboarding-tip">
                        <span class="title-en">üí° Tip: Add phone number to easily contact customers</span>
                        <span class="title-bn">üí° ‡¶ü‡¶ø‡¶™: ‡¶∏‡¶π‡¶ú‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                    </div>
                </div>

                <!-- Step 3: Record Debts & Payments -->
                <div class="onboarding-slide" data-step="2">
                    <div class="onboarding-icon">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="1.5">
                            <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/>
                            <line x1="1" y1="10" x2="23" y2="10"/>
                        </svg>
                    </div>
                    <h2 class="onboarding-title">
                        <span class="title-en">Record Debts & Payments</span>
                        <span class="title-bn">‡¶¶‡ßá‡¶®‡¶æ ‡¶ì ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                    </h2>
                    <p class="onboarding-desc">
                        <span class="title-en">Tap on any customer card to record debts when they buy on credit, or payments when they pay back.</span>
                        <span class="title-bn">‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ ‡¶ï‡¶æ‡¶∞‡ßç‡¶°‡ßá ‡¶ü‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶∞‡ßá ‡¶¨‡¶æ‡¶ï‡¶ø‡¶§‡ßá ‡¶ï‡¶ø‡¶®‡¶≤‡ßá ‡¶¶‡ßá‡¶®‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¶‡¶ø‡¶≤‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</span>
                    </p>
                    <div class="onboarding-tip">
                        <span class="title-en">üí° Tip: Use "Add Debt" for credit purchases, "Record Payment" for received money</span>
                        <span class="title-bn">üí° ‡¶ü‡¶ø‡¶™: ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶ï‡ßá‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø "‡¶¶‡ßá‡¶®‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®", ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡ßá‡¶≤‡ßá "‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®"</span>
                    </div>
                </div>

                <!-- Step 4: Create Bills -->
                <div class="onboarding-slide" data-step="3">
                    <div class="onboarding-icon">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="1.5">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10 9 9 9 8 9"/>
                        </svg>
                    </div>
                    <h2 class="onboarding-title">
                        <span class="title-en">Create Professional Bills</span>
                        <span class="title-bn">‡¶™‡ßç‡¶∞‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶¨‡¶ø‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                    </h2>
                    <p class="onboarding-desc">
                        <span class="title-en">Go to <strong>Bills</strong> in the navigation to create beautiful, professional bills. Add items, set prices, and generate printable bills.</span>
                        <span class="title-bn">‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶®‡ßá <strong>‡¶¨‡¶ø‡¶≤</strong>-‡¶è ‡¶ó‡¶ø‡¶Ø‡¶º‡ßá ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶™‡ßç‡¶∞‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶¨‡¶ø‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶¶‡¶æ‡¶Æ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</span>
                    </p>
                    <div class="onboarding-tip">
                        <span class="title-en">üí° Tip: Customize your bill with shop logo and custom notes</span>
                        <span class="title-bn">üí° ‡¶ü‡¶ø‡¶™: ‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá‡¶∞ ‡¶≤‡ßã‡¶ó‡ßã ‡¶ì ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶®‡ßã‡¶ü ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶¨‡¶ø‡¶≤ ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®</span>
                    </div>
                </div>

                <!-- Step 5: All Set -->
                <div class="onboarding-slide" data-step="4">
                    <div class="onboarding-icon celebration">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="1.5">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M8 14s1.5 2 4 2 4-2 4-2"/>
                            <line x1="9" y1="9" x2="9.01" y2="9"/>
                            <line x1="15" y1="9" x2="15.01" y2="9"/>
                        </svg>
                    </div>
                    <h2 class="onboarding-title">
                        <span class="title-en">You're All Set!</span>
                        <span class="title-bn">‡¶Ü‡¶™‡¶®‡¶ø ‡¶§‡ßà‡¶∞‡¶ø!</span>
                    </h2>
                    <p class="onboarding-desc">
                        <span class="title-en">Explore <strong>Notes</strong> for quick reminders, <strong>AI Tools</strong> for smart features, and <strong>Settings</strong> to customize your experience.</span>
                        <span class="title-bn">‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶®‡ßã‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø <strong>‡¶®‡ßã‡¶ü‡¶∏</strong>, ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø <strong>AI Tools</strong> ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶á‡¶ú‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø <strong>‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</strong> ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßç‡¶≤‡ßã‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</span>
                    </p>
                </div>
            </div>

            <!-- Progress Dots -->
            <div class="onboarding-dots">
                <span class="dot active" data-step="0"></span>
                <span class="dot" data-step="1"></span>
                <span class="dot" data-step="2"></span>
                <span class="dot" data-step="3"></span>
                <span class="dot" data-step="4"></span>
            </div>

            <!-- Navigation -->
            <div class="onboarding-nav">
                <button class="onboarding-btn secondary" id="onboarding-prev" style="visibility: hidden;">
                    <span class="title-en">Back</span>
                    <span class="title-bn">‡¶Ü‡¶ó‡ßá‡¶∞</span>
                </button>
                <button class="onboarding-btn primary" id="onboarding-next">
                    <span class="title-en">Next</span>
                    <span class="title-bn">‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ</span>
                </button>
            </div>
        </div>
    </dialog>

    <template id="customer-card-template">
        <article class="customer-card" data-customer-id="">
            <header class="customer-card__header">
                <div>
                    <h2 class="customer-name"></h2>
                    <p class="customer-phone"></p>
                </div>
                <div class="customer-status">
                    <span class="status-pill"></span>
                    <span class="status-text"></span>
                </div>
            </header>
            <div class="customer-card__body">
                <div class="balance-row">
                    <span data-i18n="customers.card.balance">Balance</span>
                    <strong class="customer-balance">‡ß≥0</strong>
                </div>
                <div class="meta-grid">
                    <div>
                        <span data-i18n="customers.card.lastPayment">Last payment</span>
                        <p class="customer-last-payment">‚Äî</p>
                    </div>
                    <div>
                        <span data-i18n="customers.card.dueDate">Due date</span>
                        <p class="customer-due-date">‚Äî</p>
                    </div>
                    <div>
                        <span data-i18n="customers.card.trustRatio">Trust Ratio</span>
                        <p class="customer-trust-ratio">‚Äî</p>
                    </div>
                </div>
                <p class="customer-note"></p>
            </div>
            <footer class="customer-card__footer">
                <button class="secondary-btn" data-action="history" data-i18n="customers.card.history">History</button>
                <button class="secondary-btn" data-action="payment" data-i18n="customers.card.payment">Record Payment</button>
                <button class="secondary-btn" data-action="demand" data-i18n="customers.card.demand">Demand Payment</button>
                <button class="primary-btn" data-action="debt" data-i18n="customers.card.debt">Add Debt</button>
                <button class="danger-btn" data-action="delete" data-i18n="customers.card.delete">Delete</button>
            </footer>
            <div class="customer-history" hidden>
                <h3 data-i18n="customers.card.historyTitle">Activity</h3>
                <ul class="history-list"></ul>
            </div>
        </article>
    </template>

    <template id="note-card-template">
        <article class="note-card enhanced-note-card" data-note-id="">
            <div class="note-card-inner">
                <header class="note-card-header">
                    <div class="note-title-row">
                        <span class="note-color-indicator"></span>
                        <div class="note-header-content">
                            <h2 class="note-title"></h2>
                            <time class="note-date"></time>
                        </div>
                        <button class="note-pin-btn" title="Pin to top" data-action="pin">
                            <svg class="pin-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 17v5"></path>
                                <path d="M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1z"></path>
                            </svg>
                        </button>
                    </div>
                </header>
                <div class="note-body-container">
                    <p class="note-body"></p>
                </div>
                <footer class="note-card-footer">
                    <div class="note-tags"></div>
                    <div class="note-actions">
                        <button class="icon-action-btn" data-action="edit" aria-label="Edit" title="Edit">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                        <button class="icon-action-btn delete-btn" data-action="delete" aria-label="Delete" title="Delete">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                            </svg>
                        </button>
                    </div>
                </footer>
            </div>
        </article>
    </template>

    <template id="task-card-template">
        <article class="task-card" data-task-id="">
            <header>
                <div>
                    <div class="task-header-top">
                        <h2 class="task-name"></h2>
                        <span class="task-priority"></span>
                    </div>
                    <p class="task-type"></p>
                </div>
                <label class="task-status">
                    <input type="checkbox" />
                    <span data-i18n="tasks.card.done">Done</span>
                </label>
            </header>
            <div class="task-body">
                <div class="task-due">
                    <span data-i18n="tasks.card.due">Due</span>
                    <time class="task-date"></time>
                </div>
                <p class="task-note"></p>
            </div>
            <footer>
                <button class="icon-action-btn" data-action="edit" aria-label="Edit" title="Edit">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                </button>
                <button class="icon-action-btn delete-btn" data-action="delete" aria-label="Delete" title="Delete">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                </button>
            </footer>
        </article>
    </template>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="app.js" defer></script>
</body>
</html>
